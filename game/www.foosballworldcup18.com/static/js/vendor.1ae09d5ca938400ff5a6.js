webpackJsonp([0],{"++K3":function(t,e){var i,s,r,n,a,o,h,l,c,p,u,f,d,m,y,v=!1;function g(){if(!v){v=!0;var t=navigator.userAgent,e=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(t),g=/(Mac OS X)|(Windows)|(Linux)/.exec(t);if(f=/\b(iPhone|iP[ao]d)/.exec(t),d=/\b(iP[ao]d)/.exec(t),p=/Android/i.exec(t),m=/FBAN\/\w+;/i.exec(t),y=/Mobile/i.exec(t),u=!!/Win64/.exec(t),e){(i=e[1]?parseFloat(e[1]):e[5]?parseFloat(e[5]):NaN)&&document&&document.documentMode&&(i=document.documentMode);var _=/(?:Trident\/(\d+.\d+))/.exec(t);o=_?parseFloat(_[1])+4:i,s=e[2]?parseFloat(e[2]):NaN,r=e[3]?parseFloat(e[3]):NaN,(n=e[4]?parseFloat(e[4]):NaN)?(e=/(?:Chrome\/(\d+\.\d+))/.exec(t),a=e&&e[1]?parseFloat(e[1]):NaN):a=NaN}else i=s=r=a=n=NaN;if(g){if(g[1]){var b=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(t);h=!b||parseFloat(b[1].replace("_","."))}else h=!1;l=!!g[2],c=!!g[3]}else h=l=c=!1}}var _={ie:function(){return g()||i},ieCompatibilityMode:function(){return g()||o>i},ie64:function(){return _.ie()&&u},firefox:function(){return g()||s},opera:function(){return g()||r},webkit:function(){return g()||n},safari:function(){return _.webkit()},chrome:function(){return g()||a},windows:function(){return g()||l},osx:function(){return g()||h},linux:function(){return g()||c},iphone:function(){return g()||f},mobile:function(){return g()||f||d||p||y},nativeApp:function(){return g()||m},android:function(){return g()||p},ipad:function(){return g()||d}};t.exports=_},"+E39":function(t,e,i){t.exports=!i("S82l")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},"+Uzz":function(t,e,i){(function(e){
/*!
 * VERSION: 1.20.4
 * DATE: 2018-02-15
 * UPDATES AND DOCS AT: http://greensock.com
 * 
 * Includes all of the following: TweenLite, TweenMax, TimelineLite, TimelineMax, EasePack, CSSPlugin, RoundPropsPlugin, BezierPlugin, AttrPlugin, DirectionalRotationPlugin
 *
 * @license Copyright (c) 2008-2018, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 **/
var i=void 0!==t&&t.exports&&void 0!==e?e:this||window;(i._gsQueue||(i._gsQueue=[])).push(function(){"use strict";var t,e,s,r,n,a,o,h,l,c,p,u,f,d;i._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,i){var s=function(t){var e,i=[],s=t.length;for(e=0;e!==s;i.push(t[e++]));return i},r=function(t,e,i){var s,r,n=t.cycle;for(s in n)r=n[s],t[s]="function"==typeof r?r(i,e[i]):r[i%r.length];delete t.cycle},n=function(t,e,s){i.call(this,t,e,s),this._cycle=0,this._yoyo=!0===this.vars.yoyo||!!this.vars.yoyoEase,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._repeat&&this._uncache(!0),this.render=n.prototype.render},a=i._internals,o=a.isSelector,h=a.isArray,l=n.prototype=i.to({},.1,{}),c=[];n.version="1.20.4",l.constructor=n,l.kill()._gc=!1,n.killTweensOf=n.killDelayedCallsTo=i.killTweensOf,n.getTweensOf=i.getTweensOf,n.lagSmoothing=i.lagSmoothing,n.ticker=i.ticker,n.render=i.render,l.invalidate=function(){return this._yoyo=!0===this.vars.yoyo||!!this.vars.yoyoEase,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._yoyoEase=null,this._uncache(!0),i.prototype.invalidate.call(this)},l.updateTo=function(t,e){var s,r=this.ratio,n=this.vars.immediateRender||t.immediateRender;for(s in e&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay)),t)this.vars[s]=t[s];if(this._initted||n)if(e)this._initted=!1,n&&this.render(0,!0,!0);else if(this._gc&&this._enabled(!0,!1),this._notifyPluginsOfEnabled&&this._firstPT&&i._onPluginEvent("_onDisable",this),this._time/this._duration>.998){var a=this._totalTime;this.render(0,!0,!1),this._initted=!1,this.render(a,!0,!1)}else if(this._initted=!1,this._init(),this._time>0||n)for(var o,h=1/(1-r),l=this._firstPT;l;)o=l.s+l.c,l.c*=h,l.s=o-l.c,l=l._next;return this},l.render=function(t,e,s){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var r,n,o,h,l,c,p,u,f,d=this._dirty?this.totalDuration():this._totalDuration,m=this._time,y=this._totalTime,v=this._cycle,g=this._duration,_=this._rawPrevTime;if(t>=d-1e-7&&t>=0?(this._totalTime=d,this._cycle=this._repeat,this._yoyo&&0!=(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=g,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(r=!0,n="onComplete",s=s||this._timeline.autoRemoveChildren),0===g&&(this._initted||!this.vars.lazy||s)&&(this._startTime===this._timeline._duration&&(t=0),(_<0||t<=0&&t>=-1e-7||1e-10===_&&"isPause"!==this.data)&&_!==t&&(s=!0,_>1e-10&&(n="onReverseComplete")),this._rawPrevTime=u=!e||t||_===t?t:1e-10)):t<1e-7?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==y||0===g&&_>0)&&(n="onReverseComplete",r=this._reversed),t<0&&(this._active=!1,0===g&&(this._initted||!this.vars.lazy||s)&&(_>=0&&(s=!0),this._rawPrevTime=u=!e||t||_===t?t:1e-10)),this._initted||(s=!0)):(this._totalTime=this._time=t,0!==this._repeat&&(h=g+this._repeatDelay,this._cycle=this._totalTime/h>>0,0!==this._cycle&&this._cycle===this._totalTime/h&&y<=t&&this._cycle--,this._time=this._totalTime-this._cycle*h,this._yoyo&&0!=(1&this._cycle)&&(this._time=g-this._time,(f=this._yoyoEase||this.vars.yoyoEase)&&(this._yoyoEase||(!0!==f||this._initted?this._yoyoEase=f=!0===f?this._ease:f instanceof Ease?f:Ease.map[f]:(f=this.vars.ease,this._yoyoEase=f=f?f instanceof Ease?f:"function"==typeof f?new Ease(f,this.vars.easeParams):Ease.map[f]||i.defaultEase:i.defaultEase)),this.ratio=f?1-f.getRatio((g-this._time)/g):0)),this._time>g?this._time=g:this._time<0&&(this._time=0)),this._easeType&&!f?(l=this._time/g,c=this._easeType,p=this._easePower,(1===c||3===c&&l>=.5)&&(l=1-l),3===c&&(l*=2),1===p?l*=l:2===p?l*=l*l:3===p?l*=l*l*l:4===p&&(l*=l*l*l*l),1===c?this.ratio=1-l:2===c?this.ratio=l:this._time/g<.5?this.ratio=l/2:this.ratio=1-l/2):f||(this.ratio=this._ease.getRatio(this._time/g))),m!==this._time||s||v!==this._cycle){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!s&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=m,this._totalTime=y,this._rawPrevTime=_,this._cycle=v,a.lazyTweens.push(this),void(this._lazy=[t,e]);!this._time||r||f?r&&this._ease._calcEnd&&!f&&(this.ratio=this._ease.getRatio(0===this._time?0:1)):this.ratio=this._ease.getRatio(this._time/g)}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==m&&t>=0&&(this._active=!0),0===y&&(2===this._initted&&t>0&&this._init(),this._startAt&&(t>=0?this._startAt.render(t,!0,s):n||(n="_dummyGS")),this.vars.onStart&&(0===this._totalTime&&0!==g||e||this._callback("onStart"))),o=this._firstPT;o;)o.f?o.t[o.p](o.c*this.ratio+o.s):o.t[o.p]=o.c*this.ratio+o.s,o=o._next;this._onUpdate&&(t<0&&this._startAt&&this._startTime&&this._startAt.render(t,!0,s),e||(this._totalTime!==y||n)&&this._callback("onUpdate")),this._cycle!==v&&(e||this._gc||this.vars.onRepeat&&this._callback("onRepeat")),n&&(this._gc&&!s||(t<0&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(t,!0,s),r&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[n]&&this._callback(n),0===g&&1e-10===this._rawPrevTime&&1e-10!==u&&(this._rawPrevTime=0)))}else y!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate"))},n.to=function(t,e,i){return new n(t,e,i)},n.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new n(t,e,i)},n.fromTo=function(t,e,i,s){return s.startAt=i,s.immediateRender=0!=s.immediateRender&&0!=i.immediateRender,new n(t,e,s)},n.staggerTo=n.allTo=function(t,e,a,l,p,u,f){l=l||0;var d,m,y,v,g=0,_=[],b=function(){a.onComplete&&a.onComplete.apply(a.onCompleteScope||this,arguments),p.apply(f||a.callbackScope||this,u||c)},x=a.cycle,w=a.startAt&&a.startAt.cycle;for(h(t)||("string"==typeof t&&(t=i.selector(t)||t),o(t)&&(t=s(t))),t=t||[],l<0&&((t=s(t)).reverse(),l*=-1),d=t.length-1,y=0;y<=d;y++){for(v in m={},a)m[v]=a[v];if(x&&(r(m,t,y),null!=m.duration&&(e=m.duration,delete m.duration)),w){for(v in w=m.startAt={},a.startAt)w[v]=a.startAt[v];r(m.startAt,t,y)}m.delay=g+(m.delay||0),y===d&&p&&(m.onComplete=b),_[y]=new n(t[y],e,m),g+=l}return _},n.staggerFrom=n.allFrom=function(t,e,i,s,r,a,o){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,n.staggerTo(t,e,i,s,r,a,o)},n.staggerFromTo=n.allFromTo=function(t,e,i,s,r,a,o,h){return s.startAt=i,s.immediateRender=0!=s.immediateRender&&0!=i.immediateRender,n.staggerTo(t,e,s,r,a,o,h)},n.delayedCall=function(t,e,i,s,r){return new n(e,0,{delay:t,onComplete:e,onCompleteParams:i,callbackScope:s,onReverseComplete:e,onReverseCompleteParams:i,immediateRender:!1,useFrames:r,overwrite:0})},n.set=function(t,e){return new n(t,0,e)},n.isTweening=function(t){return i.getTweensOf(t,!0).length>0};var p=function(t,e){for(var s=[],r=0,n=t._first;n;)n instanceof i?s[r++]=n:(e&&(s[r++]=n),r=(s=s.concat(p(n,e))).length),n=n._next;return s},u=n.getAllTweens=function(e){return p(t._rootTimeline,e).concat(p(t._rootFramesTimeline,e))};n.killAll=function(t,i,s,r){null==i&&(i=!0),null==s&&(s=!0);var n,a,o,h=u(0!=r),l=h.length,c=i&&s&&r;for(o=0;o<l;o++)a=h[o],(c||a instanceof e||(n=a.target===a.vars.onComplete)&&s||i&&!n)&&(t?a.totalTime(a._reversed?0:a.totalDuration()):a._enabled(!1,!1))},n.killChildTweensOf=function(t,e){if(null!=t){var r,l,c,p,u,f=a.tweenLookup;if("string"==typeof t&&(t=i.selector(t)||t),o(t)&&(t=s(t)),h(t))for(p=t.length;--p>-1;)n.killChildTweensOf(t[p],e);else{for(c in r=[],f)for(l=f[c].target.parentNode;l;)l===t&&(r=r.concat(f[c].tweens)),l=l.parentNode;for(u=r.length,p=0;p<u;p++)e&&r[p].totalTime(r[p].totalDuration()),r[p]._enabled(!1,!1)}}};var f=function(t,i,s,r){i=!1!==i,s=!1!==s;for(var n,a,o=u(r=!1!==r),h=i&&s&&r,l=o.length;--l>-1;)a=o[l],(h||a instanceof e||(n=a.target===a.vars.onComplete)&&s||i&&!n)&&a.paused(t)};return n.pauseAll=function(t,e,i){f(!0,t,e,i)},n.resumeAll=function(t,e,i){f(!1,t,e,i)},n.globalTimeScale=function(e){var s=t._rootTimeline,r=i.ticker.time;return arguments.length?(e=e||1e-10,s._startTime=r-(r-s._startTime)*s._timeScale/e,s=t._rootFramesTimeline,r=i.ticker.frame,s._startTime=r-(r-s._startTime)*s._timeScale/e,s._timeScale=t._rootTimeline._timeScale=e,e):s._timeScale},l.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!=(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),e):this._time/this.duration()},l.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._totalTime/this.totalDuration()},l.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!=(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},l.duration=function(e){return arguments.length?t.prototype.duration.call(this,e):this._duration},l.totalDuration=function(t){return arguments.length?-1===this._repeat?this:this.duration((t-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},l.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},l.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},l.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},n},!0),i._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,s){var r=function(t){e.call(this,t),this._labels={},this.autoRemoveChildren=!0===this.vars.autoRemoveChildren,this.smoothChildTiming=!0===this.vars.smoothChildTiming,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var i,s,r=this.vars;for(s in r)i=r[s],h(i)&&-1!==i.join("").indexOf("{self}")&&(r[s]=this._swapSelfInParams(i));h(r.tweens)&&this.add(r.tweens,0,r.align,r.stagger)},n=s._internals,a=r._internals={},o=n.isSelector,h=n.isArray,l=n.lazyTweens,c=n.lazyRender,p=i._gsDefine.globals,u=function(t){var e,i={};for(e in t)i[e]=t[e];return i},f=function(t,e,i){var s,r,n=t.cycle;for(s in n)r=n[s],t[s]="function"==typeof r?r(i,e[i]):r[i%r.length];delete t.cycle},d=a.pauseCallback=function(){},m=function(t){var e,i=[],s=t.length;for(e=0;e!==s;i.push(t[e++]));return i},y=r.prototype=new e;return r.version="1.20.4",y.constructor=r,y.kill()._gc=y._forcingPlayhead=y._hasPause=!1,y.to=function(t,e,i,r){var n=i.repeat&&p.TweenMax||s;return e?this.add(new n(t,e,i),r):this.set(t,i,r)},y.from=function(t,e,i,r){return this.add((i.repeat&&p.TweenMax||s).from(t,e,i),r)},y.fromTo=function(t,e,i,r,n){var a=r.repeat&&p.TweenMax||s;return e?this.add(a.fromTo(t,e,i,r),n):this.set(t,r,n)},y.staggerTo=function(t,e,i,n,a,h,l,c){var p,d,y=new r({onComplete:h,onCompleteParams:l,callbackScope:c,smoothChildTiming:this.smoothChildTiming}),v=i.cycle;for("string"==typeof t&&(t=s.selector(t)||t),o(t=t||[])&&(t=m(t)),(n=n||0)<0&&((t=m(t)).reverse(),n*=-1),d=0;d<t.length;d++)(p=u(i)).startAt&&(p.startAt=u(p.startAt),p.startAt.cycle&&f(p.startAt,t,d)),v&&(f(p,t,d),null!=p.duration&&(e=p.duration,delete p.duration)),y.to(t[d],e,p,d*n);return this.add(y,a)},y.staggerFrom=function(t,e,i,s,r,n,a,o){return i.immediateRender=0!=i.immediateRender,i.runBackwards=!0,this.staggerTo(t,e,i,s,r,n,a,o)},y.staggerFromTo=function(t,e,i,s,r,n,a,o,h){return s.startAt=i,s.immediateRender=0!=s.immediateRender&&0!=i.immediateRender,this.staggerTo(t,e,s,r,n,a,o,h)},y.call=function(t,e,i,r){return this.add(s.delayedCall(0,t,e,i),r)},y.set=function(t,e,i){return i=this._parseTimeOrLabel(i,0,!0),null==e.immediateRender&&(e.immediateRender=i===this._time&&!this._paused),this.add(new s(t,0,e),i)},r.exportRoot=function(t,e){null==(t=t||{}).smoothChildTiming&&(t.smoothChildTiming=!0);var i,n,a,o,h=new r(t),l=h._timeline;for(null==e&&(e=!0),l._remove(h,!0),h._startTime=0,h._rawPrevTime=h._time=h._totalTime=l._time,a=l._first;a;)o=a._next,e&&a instanceof s&&a.target===a.vars.onComplete||((n=a._startTime-a._delay)<0&&(i=1),h.add(a,n)),a=o;return l.add(h,0),i&&h.totalDuration(),h},y.add=function(i,n,a,o){var l,c,p,u,f,d;if("number"!=typeof n&&(n=this._parseTimeOrLabel(n,0,!0,i)),!(i instanceof t)){if(i instanceof Array||i&&i.push&&h(i)){for(a=a||"normal",o=o||0,l=n,c=i.length,p=0;p<c;p++)h(u=i[p])&&(u=new r({tweens:u})),this.add(u,l),"string"!=typeof u&&"function"!=typeof u&&("sequence"===a?l=u._startTime+u.totalDuration()/u._timeScale:"start"===a&&(u._startTime-=u.delay())),l+=o;return this._uncache(!0)}if("string"==typeof i)return this.addLabel(i,n);if("function"!=typeof i)throw"Cannot add "+i+" into the timeline; it is not a tween, timeline, function, or string.";i=s.delayedCall(0,i)}if(e.prototype.add.call(this,i,n),i._time&&i.render((this.rawTime()-i._startTime)*i._timeScale,!1,!1),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(d=(f=this).rawTime()>i._startTime;f._timeline;)d&&f._timeline.smoothChildTiming?f.totalTime(f._totalTime,!0):f._gc&&f._enabled(!0,!1),f=f._timeline;return this},y.remove=function(e){if(e instanceof t){this._remove(e,!1);var i=e._timeline=e.vars.useFrames?t._rootFramesTimeline:t._rootTimeline;return e._startTime=(e._paused?e._pauseTime:i._time)-(e._reversed?e.totalDuration()-e._totalTime:e._totalTime)/e._timeScale,this}if(e instanceof Array||e&&e.push&&h(e)){for(var s=e.length;--s>-1;)this.remove(e[s]);return this}return"string"==typeof e?this.removeLabel(e):this.kill(null,e)},y._remove=function(t,i){return e.prototype._remove.call(this,t,i),this._last?this._time>this.duration()&&(this._time=this._duration,this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},y.append=function(t,e){return this.add(t,this._parseTimeOrLabel(null,e,!0,t))},y.insert=y.insertMultiple=function(t,e,i,s){return this.add(t,e||0,i,s)},y.appendMultiple=function(t,e,i,s){return this.add(t,this._parseTimeOrLabel(null,e,!0,t),i,s)},y.addLabel=function(t,e){return this._labels[t]=this._parseTimeOrLabel(e),this},y.addPause=function(t,e,i,r){var n=s.delayedCall(0,d,i,r||this);return n.vars.onComplete=n.vars.onReverseComplete=e,n.data="isPause",this._hasPause=!0,this.add(n,t)},y.removeLabel=function(t){return delete this._labels[t],this},y.getLabelTime=function(t){return null!=this._labels[t]?this._labels[t]:-1},y._parseTimeOrLabel=function(e,i,s,r){var n,a;if(r instanceof t&&r.timeline===this)this.remove(r);else if(r&&(r instanceof Array||r.push&&h(r)))for(a=r.length;--a>-1;)r[a]instanceof t&&r[a].timeline===this&&this.remove(r[a]);if(n="number"!=typeof e||i?this.duration()>99999999999?this.recent().endTime(!1):this._duration:0,"string"==typeof i)return this._parseTimeOrLabel(i,s&&"number"==typeof e&&null==this._labels[i]?e-n:0,s);if(i=i||0,"string"!=typeof e||!isNaN(e)&&null==this._labels[e])null==e&&(e=n);else{if(-1===(a=e.indexOf("=")))return null==this._labels[e]?s?this._labels[e]=n+i:i:this._labels[e]+i;i=parseInt(e.charAt(a-1)+"1",10)*Number(e.substr(a+1)),e=a>1?this._parseTimeOrLabel(e.substr(0,a-1),0,s):n}return Number(e)+i},y.seek=function(t,e){return this.totalTime("number"==typeof t?t:this._parseTimeOrLabel(t),!1!==e)},y.stop=function(){return this.paused(!0)},y.gotoAndPlay=function(t,e){return this.play(t,e)},y.gotoAndStop=function(t,e){return this.pause(t,e)},y.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var s,r,n,a,o,h,p,u=this._time,f=this._dirty?this.totalDuration():this._totalDuration,d=this._startTime,m=this._timeScale,y=this._paused;if(u!==this._time&&(t+=this._time-u),t>=f-1e-7&&t>=0)this._totalTime=this._time=f,this._reversed||this._hasPausedChild()||(r=!0,a="onComplete",o=!!this._timeline.autoRemoveChildren,0===this._duration&&(t<=0&&t>=-1e-7||this._rawPrevTime<0||1e-10===this._rawPrevTime)&&this._rawPrevTime!==t&&this._first&&(o=!0,this._rawPrevTime>1e-10&&(a="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:1e-10,t=f+1e-4;else if(t<1e-7)if(this._totalTime=this._time=0,(0!==u||0===this._duration&&1e-10!==this._rawPrevTime&&(this._rawPrevTime>0||t<0&&this._rawPrevTime>=0))&&(a="onReverseComplete",r=this._reversed),t<0)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(o=r=!0,a="onReverseComplete"):this._rawPrevTime>=0&&this._first&&(o=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:1e-10,0===t&&r)for(s=this._first;s&&0===s._startTime;)s._duration||(r=!1),s=s._next;t=0,this._initted||(o=!0)}else{if(this._hasPause&&!this._forcingPlayhead&&!e){if(t>=u)for(s=this._first;s&&s._startTime<=t&&!h;)s._duration||"isPause"!==s.data||s.ratio||0===s._startTime&&0===this._rawPrevTime||(h=s),s=s._next;else for(s=this._last;s&&s._startTime>=t&&!h;)s._duration||"isPause"===s.data&&s._rawPrevTime>0&&(h=s),s=s._prev;h&&(this._time=t=h._startTime,this._totalTime=t+this._cycle*(this._totalDuration+this._repeatDelay))}this._totalTime=this._time=this._rawPrevTime=t}if(this._time!==u&&this._first||i||o||h){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==u&&t>0&&(this._active=!0),0===u&&this.vars.onStart&&(0===this._time&&this._duration||e||this._callback("onStart")),(p=this._time)>=u)for(s=this._first;s&&(n=s._next,p===this._time&&(!this._paused||y));)(s._active||s._startTime<=p&&!s._paused&&!s._gc)&&(h===s&&this.pause(),s._reversed?s.render((s._dirty?s.totalDuration():s._totalDuration)-(t-s._startTime)*s._timeScale,e,i):s.render((t-s._startTime)*s._timeScale,e,i)),s=n;else for(s=this._last;s&&(n=s._prev,p===this._time&&(!this._paused||y));){if(s._active||s._startTime<=u&&!s._paused&&!s._gc){if(h===s){for(h=s._prev;h&&h.endTime()>this._time;)h.render(h._reversed?h.totalDuration()-(t-h._startTime)*h._timeScale:(t-h._startTime)*h._timeScale,e,i),h=h._prev;h=null,this.pause()}s._reversed?s.render((s._dirty?s.totalDuration():s._totalDuration)-(t-s._startTime)*s._timeScale,e,i):s.render((t-s._startTime)*s._timeScale,e,i)}s=n}this._onUpdate&&(e||(l.length&&c(),this._callback("onUpdate"))),a&&(this._gc||d!==this._startTime&&m===this._timeScale||(0===this._time||f>=this.totalDuration())&&(r&&(l.length&&c(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[a]&&this._callback(a)))}},y._hasPausedChild=function(){for(var t=this._first;t;){if(t._paused||t instanceof r&&t._hasPausedChild())return!0;t=t._next}return!1},y.getChildren=function(t,e,i,r){r=r||-9999999999;for(var n=[],a=this._first,o=0;a;)a._startTime<r||(a instanceof s?!1!==e&&(n[o++]=a):(!1!==i&&(n[o++]=a),!1!==t&&(o=(n=n.concat(a.getChildren(!0,e,i))).length))),a=a._next;return n},y.getTweensOf=function(t,e){var i,r,n=this._gc,a=[],o=0;for(n&&this._enabled(!0,!0),r=(i=s.getTweensOf(t)).length;--r>-1;)(i[r].timeline===this||e&&this._contains(i[r]))&&(a[o++]=i[r]);return n&&this._enabled(!1,!0),a},y.recent=function(){return this._recent},y._contains=function(t){for(var e=t.timeline;e;){if(e===this)return!0;e=e.timeline}return!1},y.shiftChildren=function(t,e,i){i=i||0;for(var s,r=this._first,n=this._labels;r;)r._startTime>=i&&(r._startTime+=t),r=r._next;if(e)for(s in n)n[s]>=i&&(n[s]+=t);return this._uncache(!0)},y._kill=function(t,e){if(!t&&!e)return this._enabled(!1,!1);for(var i=e?this.getTweensOf(e):this.getChildren(!0,!0,!1),s=i.length,r=!1;--s>-1;)i[s]._kill(t,e)&&(r=!0);return r},y.clear=function(t){var e=this.getChildren(!1,!0,!0),i=e.length;for(this._time=this._totalTime=0;--i>-1;)e[i]._enabled(!1,!1);return!1!==t&&(this._labels={}),this._uncache(!0)},y.invalidate=function(){for(var e=this._first;e;)e.invalidate(),e=e._next;return t.prototype.invalidate.call(this)},y._enabled=function(t,i){if(t===this._gc)for(var s=this._first;s;)s._enabled(t,!0),s=s._next;return e.prototype._enabled.call(this,t,i)},y.totalTime=function(e,i,s){this._forcingPlayhead=!0;var r=t.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,r},y.duration=function(t){return arguments.length?(0!==this.duration()&&0!==t&&this.timeScale(this._duration/t),this):(this._dirty&&this.totalDuration(),this._duration)},y.totalDuration=function(t){if(!arguments.length){if(this._dirty){for(var e,i,s=0,r=this._last,n=999999999999;r;)e=r._prev,r._dirty&&r.totalDuration(),r._startTime>n&&this._sortChildren&&!r._paused&&!this._calculatingDuration?(this._calculatingDuration=1,this.add(r,r._startTime-r._delay),this._calculatingDuration=0):n=r._startTime,r._startTime<0&&!r._paused&&(s-=r._startTime,this._timeline.smoothChildTiming&&(this._startTime+=r._startTime/this._timeScale,this._time-=r._startTime,this._totalTime-=r._startTime,this._rawPrevTime-=r._startTime),this.shiftChildren(-r._startTime,!1,-9999999999),n=0),(i=r._startTime+r._totalDuration/r._timeScale)>s&&(s=i),r=e;this._duration=this._totalDuration=s,this._dirty=!1}return this._totalDuration}return t&&this.totalDuration()?this.timeScale(this._totalDuration/t):this},y.paused=function(e){if(!e)for(var i=this._first,s=this._time;i;)i._startTime===s&&"isPause"===i.data&&(i._rawPrevTime=0),i=i._next;return t.prototype.paused.apply(this,arguments)},y.usesFrames=function(){for(var e=this._timeline;e._timeline;)e=e._timeline;return e===t._rootFramesTimeline},y.rawTime=function(t){return t&&(this._paused||this._repeat&&this.time()>0&&this.totalProgress()<1)?this._totalTime%(this._duration+this._repeatDelay):this._paused?this._totalTime:(this._timeline.rawTime(t)-this._startTime)*this._timeScale},r},!0),i._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(t,e,s){var r=function(e){t.call(this,e),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=!0===this.vars.yoyo,this._dirty=!0},n=e._internals,a=n.lazyTweens,o=n.lazyRender,h=i._gsDefine.globals,l=new s(null,null,1,0),c=r.prototype=new t;return c.constructor=r,c.kill()._gc=!1,r.version="1.20.4",c.invalidate=function(){return this._yoyo=!0===this.vars.yoyo,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),t.prototype.invalidate.call(this)},c.addCallback=function(t,i,s,r){return this.add(e.delayedCall(0,t,s,r),i)},c.removeCallback=function(t,e){if(t)if(null==e)this._kill(null,t);else for(var i=this.getTweensOf(t,!1),s=i.length,r=this._parseTimeOrLabel(e);--s>-1;)i[s]._startTime===r&&i[s]._enabled(!1,!1);return this},c.removePause=function(e){return this.removeCallback(t._internals.pauseCallback,e)},c.tweenTo=function(t,i){i=i||{};var s,r,n,a={ease:l,useFrames:this.usesFrames(),immediateRender:!1,lazy:!1},o=i.repeat&&h.TweenMax||e;for(r in i)a[r]=i[r];return a.time=this._parseTimeOrLabel(t),s=Math.abs(Number(a.time)-this._time)/this._timeScale||.001,n=new o(this,s,a),a.onStart=function(){n.target.paused(!0),n.vars.time===n.target.time()||s!==n.duration()||n.isFromTo||n.duration(Math.abs(n.vars.time-n.target.time())/n.target._timeScale).render(n.time(),!0,!0),i.onStart&&i.onStart.apply(i.onStartScope||i.callbackScope||n,i.onStartParams||[])},n},c.tweenFromTo=function(t,e,i){i=i||{},t=this._parseTimeOrLabel(t),i.startAt={onComplete:this.seek,onCompleteParams:[t],callbackScope:this},i.immediateRender=!1!==i.immediateRender;var s=this.tweenTo(e,i);return s.isFromTo=1,s.duration(Math.abs(s.vars.time-t)/this._timeScale||.001)},c.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var s,r,n,h,l,c,p,u,f=this._time,d=this._dirty?this.totalDuration():this._totalDuration,m=this._duration,y=this._totalTime,v=this._startTime,g=this._timeScale,_=this._rawPrevTime,b=this._paused,x=this._cycle;if(f!==this._time&&(t+=this._time-f),t>=d-1e-7&&t>=0)this._locked||(this._totalTime=d,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(r=!0,h="onComplete",l=!!this._timeline.autoRemoveChildren,0===this._duration&&(t<=0&&t>=-1e-7||_<0||1e-10===_)&&_!==t&&this._first&&(l=!0,_>1e-10&&(h="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:1e-10,this._yoyo&&0!=(1&this._cycle)?this._time=t=0:(this._time=m,t=m+1e-4);else if(t<1e-7)if(this._locked||(this._totalTime=this._cycle=0),this._time=0,(0!==f||0===m&&1e-10!==_&&(_>0||t<0&&_>=0)&&!this._locked)&&(h="onReverseComplete",r=this._reversed),t<0)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(l=r=!0,h="onReverseComplete"):_>=0&&this._first&&(l=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=m||!e||t||this._rawPrevTime===t?t:1e-10,0===t&&r)for(s=this._first;s&&0===s._startTime;)s._duration||(r=!1),s=s._next;t=0,this._initted||(l=!0)}else if(0===m&&_<0&&(l=!0),this._time=this._rawPrevTime=t,this._locked||(this._totalTime=t,0!==this._repeat&&(c=m+this._repeatDelay,this._cycle=this._totalTime/c>>0,0!==this._cycle&&this._cycle===this._totalTime/c&&y<=t&&this._cycle--,this._time=this._totalTime-this._cycle*c,this._yoyo&&0!=(1&this._cycle)&&(this._time=m-this._time),this._time>m?(this._time=m,t=m+1e-4):this._time<0?this._time=t=0:t=this._time)),this._hasPause&&!this._forcingPlayhead&&!e){if((t=this._time)>=f||this._repeat&&x!==this._cycle)for(s=this._first;s&&s._startTime<=t&&!p;)s._duration||"isPause"!==s.data||s.ratio||0===s._startTime&&0===this._rawPrevTime||(p=s),s=s._next;else for(s=this._last;s&&s._startTime>=t&&!p;)s._duration||"isPause"===s.data&&s._rawPrevTime>0&&(p=s),s=s._prev;p&&p._startTime<m&&(this._time=t=p._startTime,this._totalTime=t+this._cycle*(this._totalDuration+this._repeatDelay))}if(this._cycle!==x&&!this._locked){var w=this._yoyo&&0!=(1&x),k=w===(this._yoyo&&0!=(1&this._cycle)),P=this._totalTime,T=this._cycle,E=this._rawPrevTime,S=this._time;if(this._totalTime=x*m,this._cycle<x?w=!w:this._totalTime+=m,this._time=f,this._rawPrevTime=0===m?_-1e-4:_,this._cycle=x,this._locked=!0,f=w?0:m,this.render(f,e,0===m),e||this._gc||this.vars.onRepeat&&(this._cycle=T,this._locked=!1,this._callback("onRepeat")),f!==this._time)return;if(k&&(this._cycle=x,this._locked=!0,f=w?m+1e-4:-1e-4,this.render(f,!0,!1)),this._locked=!1,this._paused&&!b)return;this._time=S,this._totalTime=P,this._cycle=T,this._rawPrevTime=E}if(this._time!==f&&this._first||i||l||p){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==y&&t>0&&(this._active=!0),0===y&&this.vars.onStart&&(0===this._totalTime&&this._totalDuration||e||this._callback("onStart")),(u=this._time)>=f)for(s=this._first;s&&(n=s._next,u===this._time&&(!this._paused||b));)(s._active||s._startTime<=this._time&&!s._paused&&!s._gc)&&(p===s&&this.pause(),s._reversed?s.render((s._dirty?s.totalDuration():s._totalDuration)-(t-s._startTime)*s._timeScale,e,i):s.render((t-s._startTime)*s._timeScale,e,i)),s=n;else for(s=this._last;s&&(n=s._prev,u===this._time&&(!this._paused||b));){if(s._active||s._startTime<=f&&!s._paused&&!s._gc){if(p===s){for(p=s._prev;p&&p.endTime()>this._time;)p.render(p._reversed?p.totalDuration()-(t-p._startTime)*p._timeScale:(t-p._startTime)*p._timeScale,e,i),p=p._prev;p=null,this.pause()}s._reversed?s.render((s._dirty?s.totalDuration():s._totalDuration)-(t-s._startTime)*s._timeScale,e,i):s.render((t-s._startTime)*s._timeScale,e,i)}s=n}this._onUpdate&&(e||(a.length&&o(),this._callback("onUpdate"))),h&&(this._locked||this._gc||v!==this._startTime&&g===this._timeScale||(0===this._time||d>=this.totalDuration())&&(r&&(a.length&&o(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[h]&&this._callback(h)))}else y!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate"))},c.getActive=function(t,e,i){null==t&&(t=!0),null==e&&(e=!0),null==i&&(i=!1);var s,r,n=[],a=this.getChildren(t,e,i),o=0,h=a.length;for(s=0;s<h;s++)(r=a[s]).isActive()&&(n[o++]=r);return n},c.getLabelAfter=function(t){t||0!==t&&(t=this._time);var e,i=this.getLabelsArray(),s=i.length;for(e=0;e<s;e++)if(i[e].time>t)return i[e].name;return null},c.getLabelBefore=function(t){null==t&&(t=this._time);for(var e=this.getLabelsArray(),i=e.length;--i>-1;)if(e[i].time<t)return e[i].name;return null},c.getLabelsArray=function(){var t,e=[],i=0;for(t in this._labels)e[i++]={time:this._labels[t],name:t};return e.sort(function(t,e){return t.time-e.time}),e},c.invalidate=function(){return this._locked=!1,t.prototype.invalidate.call(this)},c.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!=(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),e):this._time/this.duration()||0},c.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._totalTime/this.totalDuration()||0},c.totalDuration=function(e){return arguments.length?-1!==this._repeat&&e?this.timeScale(this.totalDuration()/e):this:(this._dirty&&(t.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},c.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!=(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},c.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},c.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},c.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},c.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.getLabelBefore(this._time+1e-8)},r},!0),t=180/Math.PI,e=[],s=[],r=[],n={},a=i._gsDefine.globals,o=function(t,e,i,s){i===s&&(i=s-(s-e)/1e6),t===e&&(e=t+(i-t)/1e6),this.a=t,this.b=e,this.c=i,this.d=s,this.da=s-t,this.ca=i-t,this.ba=e-t},h=function(t,e,i,s){var r={a:t},n={},a={},o={c:s},h=(t+e)/2,l=(e+i)/2,c=(i+s)/2,p=(h+l)/2,u=(l+c)/2,f=(u-p)/8;return r.b=h+(t-h)/4,n.b=p+f,r.c=n.a=(r.b+n.b)/2,n.c=a.a=(p+u)/2,a.b=u-f,o.b=c+(s-c)/4,a.c=o.a=(a.b+o.b)/2,[r,n,a,o]},l=function(t,i,n,a,o){var l,c,p,u,f,d,m,y,v,g,_,b,x,w=t.length-1,k=0,P=t[0].a;for(l=0;l<w;l++)c=(f=t[k]).a,p=f.d,u=t[k+1].d,o?(_=e[l],x=((b=s[l])+_)*i*.25/(a?.5:r[l]||.5),y=p-((d=p-(p-c)*(a?.5*i:0!==_?x/_:0))+(((m=p+(u-p)*(a?.5*i:0!==b?x/b:0))-d)*(3*_/(_+b)+.5)/4||0))):y=p-((d=p-(p-c)*i*.5)+(m=p+(u-p)*i*.5))/2,d+=y,m+=y,f.c=v=d,f.b=0!==l?P:P=f.a+.6*(f.c-f.a),f.da=p-c,f.ca=v-c,f.ba=P-c,n?(g=h(c,P,v,p),t.splice(k,1,g[0],g[1],g[2],g[3]),k+=4):k++,P=m;(f=t[k]).b=P,f.c=P+.4*(f.d-P),f.da=f.d-f.a,f.ca=f.c-f.a,f.ba=P-f.a,n&&(g=h(f.a,P,f.c,f.d),t.splice(k,1,g[0],g[1],g[2],g[3]))},c=function(t,i,r,n){var a,h,l,c,p,u,f=[];if(n)for(h=(t=[n].concat(t)).length;--h>-1;)"string"==typeof(u=t[h][i])&&"="===u.charAt(1)&&(t[h][i]=n[i]+Number(u.charAt(0)+u.substr(2)));if((a=t.length-2)<0)return f[0]=new o(t[0][i],0,0,t[0][i]),f;for(h=0;h<a;h++)l=t[h][i],c=t[h+1][i],f[h]=new o(l,0,0,c),r&&(p=t[h+2][i],e[h]=(e[h]||0)+(c-l)*(c-l),s[h]=(s[h]||0)+(p-c)*(p-c));return f[h]=new o(t[h][i],0,0,t[h+1][i]),f},p=function(t,i,a,o,h,p){var u,f,d,m,y,v,g,_,b={},x=[],w=p||t[0];for(f in h="string"==typeof h?","+h+",":",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",null==i&&(i=1),t[0])x.push(f);if(t.length>1){for(_=t[t.length-1],g=!0,u=x.length;--u>-1;)if(f=x[u],Math.abs(w[f]-_[f])>.05){g=!1;break}g&&(t=t.concat(),p&&t.unshift(p),t.push(t[1]),p=t[t.length-3])}for(e.length=s.length=r.length=0,u=x.length;--u>-1;)f=x[u],n[f]=-1!==h.indexOf(","+f+","),b[f]=c(t,f,n[f],p);for(u=e.length;--u>-1;)e[u]=Math.sqrt(e[u]),s[u]=Math.sqrt(s[u]);if(!o){for(u=x.length;--u>-1;)if(n[f])for(v=(d=b[x[u]]).length-1,m=0;m<v;m++)y=d[m+1].da/s[m]+d[m].da/e[m]||0,r[m]=(r[m]||0)+y*y;for(u=r.length;--u>-1;)r[u]=Math.sqrt(r[u])}for(u=x.length,m=a?4:1;--u>-1;)d=b[f=x[u]],l(d,i,a,o,n[f]),g&&(d.splice(0,m),d.splice(d.length-m,m));return b},u=function(t,e,i){for(var s,r,n,a,o,h,l,c,p,u,f,d=1/i,m=t.length;--m>-1;)for(n=(u=t[m]).a,a=u.d-n,o=u.c-n,h=u.b-n,s=r=0,c=1;c<=i;c++)s=r-(r=((l=d*c)*l*a+3*(p=1-l)*(l*o+p*h))*l),e[f=m*i+c-1]=(e[f]||0)+s*s},f=i._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.8",API:2,global:!0,init:function(t,e,i){this._target=t,e instanceof Array&&(e={values:e}),this._func={},this._mod={},this._props=[],this._timeRes=null==e.timeResolution?6:parseInt(e.timeResolution,10);var s,r,n,a,h,l=e.values||[],c={},f=l[0],d=e.autoRotate||i.vars.orientToBezier;for(s in this._autoRotate=d?d instanceof Array?d:[["x","y","rotation",!0===d?0:Number(d)||0]]:null,f)this._props.push(s);for(n=this._props.length;--n>-1;)s=this._props[n],this._overwriteProps.push(s),r=this._func[s]="function"==typeof t[s],c[s]=r?t[s.indexOf("set")||"function"!=typeof t["get"+s.substr(3)]?s:"get"+s.substr(3)]():parseFloat(t[s]),h||c[s]!==l[0][s]&&(h=c);if(this._beziers="cubic"!==e.type&&"quadratic"!==e.type&&"soft"!==e.type?p(l,isNaN(e.curviness)?1:e.curviness,!1,"thruBasic"===e.type,e.correlate,h):function(t,e,i){var s,r,n,a,h,l,c,p,u,f,d,m={},y="cubic"===(e=e||"soft")?3:2,v="soft"===e,g=[];if(v&&i&&(t=[i].concat(t)),null==t||t.length<y+1)throw"invalid Bezier data";for(u in t[0])g.push(u);for(l=g.length;--l>-1;){for(m[u=g[l]]=h=[],f=0,p=t.length,c=0;c<p;c++)s=null==i?t[c][u]:"string"==typeof(d=t[c][u])&&"="===d.charAt(1)?i[u]+Number(d.charAt(0)+d.substr(2)):Number(d),v&&c>1&&c<p-1&&(h[f++]=(s+h[f-2])/2),h[f++]=s;for(p=f-y+1,f=0,c=0;c<p;c+=y)s=h[c],r=h[c+1],n=h[c+2],a=2===y?0:h[c+3],h[f++]=d=3===y?new o(s,r,n,a):new o(s,(2*r+s)/3,(2*r+n)/3,n);h.length=f}return m}(l,e.type,c),this._segCount=this._beziers[s].length,this._timeRes){var m=function(t,e){var i,s,r,n,a=[],o=[],h=0,l=0,c=(e=e>>0||6)-1,p=[],f=[];for(i in t)u(t[i],a,e);for(r=a.length,s=0;s<r;s++)h+=Math.sqrt(a[s]),f[n=s%e]=h,n===c&&(l+=h,p[n=s/e>>0]=f,o[n]=l,h=0,f=[]);return{length:l,lengths:o,segments:p}}(this._beziers,this._timeRes);this._length=m.length,this._lengths=m.lengths,this._segments=m.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(d=this._autoRotate)for(this._initialRotations=[],d[0]instanceof Array||(this._autoRotate=d=[d]),n=d.length;--n>-1;){for(a=0;a<3;a++)s=d[n][a],this._func[s]="function"==typeof t[s]&&t[s.indexOf("set")||"function"!=typeof t["get"+s.substr(3)]?s:"get"+s.substr(3)];s=d[n][2],this._initialRotations[n]=(this._func[s]?this._func[s].call(this._target):this._target[s])||0,this._overwriteProps.push(s)}return this._startRatio=i.vars.runBackwards?1:0,!0},set:function(e){var i,s,r,n,a,o,h,l,c,p,u=this._segCount,f=this._func,d=this._target,m=e!==this._startRatio;if(this._timeRes){if(c=this._lengths,p=this._curSeg,e*=this._length,r=this._li,e>this._l2&&r<u-1){for(l=u-1;r<l&&(this._l2=c[++r])<=e;);this._l1=c[r-1],this._li=r,this._curSeg=p=this._segments[r],this._s2=p[this._s1=this._si=0]}else if(e<this._l1&&r>0){for(;r>0&&(this._l1=c[--r])>=e;);0===r&&e<this._l1?this._l1=0:r++,this._l2=c[r],this._li=r,this._curSeg=p=this._segments[r],this._s1=p[(this._si=p.length-1)-1]||0,this._s2=p[this._si]}if(i=r,e-=this._l1,r=this._si,e>this._s2&&r<p.length-1){for(l=p.length-1;r<l&&(this._s2=p[++r])<=e;);this._s1=p[r-1],this._si=r}else if(e<this._s1&&r>0){for(;r>0&&(this._s1=p[--r])>=e;);0===r&&e<this._s1?this._s1=0:r++,this._s2=p[r],this._si=r}o=(r+(e-this._s1)/(this._s2-this._s1))*this._prec||0}else o=(e-(i=e<0?0:e>=1?u-1:u*e>>0)*(1/u))*u;for(s=1-o,r=this._props.length;--r>-1;)n=this._props[r],h=(o*o*(a=this._beziers[n][i]).da+3*s*(o*a.ca+s*a.ba))*o+a.a,this._mod[n]&&(h=this._mod[n](h,d)),f[n]?d[n](h):d[n]=h;if(this._autoRotate){var y,v,g,_,b,x,w,k=this._autoRotate;for(r=k.length;--r>-1;)n=k[r][2],x=k[r][3]||0,w=!0===k[r][4]?1:t,a=this._beziers[k[r][0]],y=this._beziers[k[r][1]],a&&y&&(a=a[i],y=y[i],v=a.a+(a.b-a.a)*o,v+=((_=a.b+(a.c-a.b)*o)-v)*o,_+=(a.c+(a.d-a.c)*o-_)*o,g=y.a+(y.b-y.a)*o,g+=((b=y.b+(y.c-y.b)*o)-g)*o,b+=(y.c+(y.d-y.c)*o-b)*o,h=m?Math.atan2(b-g,_-v)*w+x:this._initialRotations[r],this._mod[n]&&(h=this._mod[n](h,d)),f[n]?d[n](h):d[n]=h)}}}),d=f.prototype,f.bezierThrough=p,f.cubicToQuadratic=h,f._autoCSS=!0,f.quadraticToCubic=function(t,e,i){return new o(t,(2*e+t)/3,(2*e+i)/3,i)},f._cssRegister=function(){var t=a.CSSPlugin;if(t){var e=t._internals,i=e._parseToProxy,s=e._setPluginRatio,r=e.CSSPropTween;e._registerComplexSpecialProp("bezier",{parser:function(t,e,n,a,o,h){e instanceof Array&&(e={values:e}),h=new f;var l,c,p,u=e.values,d=u.length-1,m=[],y={};if(d<0)return o;for(l=0;l<=d;l++)p=i(t,u[l],a,o,h,d!==l),m[l]=p.end;for(c in e)y[c]=e[c];return y.values=m,(o=new r(t,"bezier",0,0,p.pt,2)).data=p,o.plugin=h,o.setRatio=s,0===y.autoRotate&&(y.autoRotate=!0),!y.autoRotate||y.autoRotate instanceof Array||(l=!0===y.autoRotate?0:Number(y.autoRotate),y.autoRotate=null!=p.end.left?[["left","top","rotation",l,!1]]:null!=p.end.x&&[["x","y","rotation",l,!1]]),y.autoRotate&&(a._transform||a._enableTransforms(!1),p.autoRotate=a._target._gsTransform,p.proxy.rotation=p.autoRotate.rotation||0,a._overwriteProps.push("rotation")),h._onInitTween(p.proxy,y,a._tween),o}})}},d._mod=function(t){for(var e,i=this._overwriteProps,s=i.length;--s>-1;)(e=t[i[s]])&&"function"==typeof e&&(this._mod[i[s]]=e)},d._kill=function(t){var e,i,s=this._props;for(e in this._beziers)if(e in t)for(delete this._beziers[e],delete this._func[e],i=s.length;--i>-1;)s[i]===e&&s.splice(i,1);if(s=this._autoRotate)for(i=s.length;--i>-1;)t[s[i][2]]&&s.splice(i,1);return this._super._kill.call(this,t)},i._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(t,e){var s,r,n,a,o=function(){t.call(this,"css"),this._overwriteProps.length=0,this.setRatio=o.prototype.setRatio},h=i._gsDefine.globals,l={},c=o.prototype=new t("css");c.constructor=o,o.version="1.20.4",o.API=2,o.defaultTransformPerspective=0,o.defaultSkewType="compensated",o.defaultSmoothOrigin=!0,c="px",o.suffixMap={top:c,right:c,bottom:c,left:c,width:c,height:c,fontSize:c,padding:c,margin:c,perspective:c,lineHeight:""};var p,u,f,d,m,y,v,g,_=/(?:\-|\.|\b)(\d|\.|e\-)+/g,b=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,x=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,w=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,k=/(?:\d|\-|\+|=|#|\.)*/g,P=/opacity *= *([^)]*)/i,T=/opacity:([^;]*)/i,E=/alpha\(opacity *=.+?\)/i,S=/^(rgb|hsl)/,A=/([A-Z])/g,C=/-([a-z])/gi,M=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,N=function(t,e){return e.toUpperCase()},I=/(?:Left|Right|Width)/i,D=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,z=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,O=/,(?=[^\)]*(?:\(|$))/gi,F=/[\s,\(]/i,L=Math.PI/180,V=180/Math.PI,R={},j={style:{}},B=i.document||{createElement:function(){return j}},H=function(t,e){return B.createElementNS?B.createElementNS(e||"http://www.w3.org/1999/xhtml",t):B.createElement(t)},$=H("div"),G=H("img"),U=o._internals={_specialProps:l},q=(i.navigator||{}).userAgent||"",X=function(){var t=q.indexOf("Android"),e=H("a");return f=-1!==q.indexOf("Safari")&&-1===q.indexOf("Chrome")&&(-1===t||parseFloat(q.substr(t+8,2))>3),m=f&&parseFloat(q.substr(q.indexOf("Version/")+8,2))<6,d=-1!==q.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(q)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(q))&&(y=parseFloat(RegExp.$1)),!!e&&(e.style.cssText="top:1px;opacity:.55;",/^0.55/.test(e.style.opacity))}(),W=function(t){return P.test("string"==typeof t?t:(t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?parseFloat(RegExp.$1)/100:1},Y=function(t){i.console&&console.log(t)},Z="",J="",K=function(t,e){var i,s,r=(e=e||$).style;if(void 0!==r[t])return t;for(t=t.charAt(0).toUpperCase()+t.substr(1),i=["O","Moz","ms","Ms","Webkit"],s=5;--s>-1&&void 0===r[i[s]+t];);return s>=0?(Z="-"+(J=3===s?"ms":i[s]).toLowerCase()+"-",J+t):null},Q=B.defaultView?B.defaultView.getComputedStyle:function(){},tt=o.getStyle=function(t,e,i,s,r){var n;return X||"opacity"!==e?(!s&&t.style[e]?n=t.style[e]:(i=i||Q(t))?n=i[e]||i.getPropertyValue(e)||i.getPropertyValue(e.replace(A,"-$1").toLowerCase()):t.currentStyle&&(n=t.currentStyle[e]),null==r||n&&"none"!==n&&"auto"!==n&&"auto auto"!==n?n:r):W(t)},et=U.convertToPixels=function(t,i,s,r,n){if("px"===r||!r&&"lineHeight"!==i)return s;if("auto"===r||!s)return 0;var a,h,l,c=I.test(i),p=t,u=$.style,f=s<0,d=1===s;if(f&&(s=-s),d&&(s*=100),"lineHeight"!==i||r)if("%"===r&&-1!==i.indexOf("border"))a=s/100*(c?t.clientWidth:t.clientHeight);else{if(u.cssText="border:0 solid red;position:"+tt(t,"position")+";line-height:0;","%"!==r&&p.appendChild&&"v"!==r.charAt(0)&&"rem"!==r)u[c?"borderLeftWidth":"borderTopWidth"]=s+r;else{if(p=t.parentNode||B.body,-1!==tt(p,"display").indexOf("flex")&&(u.position="absolute"),h=p._gsCache,l=e.ticker.frame,h&&c&&h.time===l)return h.width*s/100;u[c?"width":"height"]=s+r}p.appendChild($),a=parseFloat($[c?"offsetWidth":"offsetHeight"]),p.removeChild($),c&&"%"===r&&!1!==o.cacheWidths&&((h=p._gsCache=p._gsCache||{}).time=l,h.width=a/s*100),0!==a||n||(a=et(t,i,s,r,!0))}else h=Q(t).lineHeight,t.style.lineHeight=s,a=parseFloat(Q(t).lineHeight),t.style.lineHeight=h;return d&&(a/=100),f?-a:a},it=U.calculateOffset=function(t,e,i){if("absolute"!==tt(t,"position",i))return 0;var s="left"===e?"Left":"Top",r=tt(t,"margin"+s,i);return t["offset"+s]-(et(t,e,parseFloat(r),r.replace(k,""))||0)},st=function(t,e){var i,s,r,n={};if(e=e||Q(t,null))if(i=e.length)for(;--i>-1;)-1!==(r=e[i]).indexOf("-transform")&&zt!==r||(n[r.replace(C,N)]=e.getPropertyValue(r));else for(i in e)-1!==i.indexOf("Transform")&&Dt!==i||(n[i]=e[i]);else if(e=t.currentStyle||t.style)for(i in e)"string"==typeof i&&void 0===n[i]&&(n[i.replace(C,N)]=e[i]);return X||(n.opacity=W(t)),s=Xt(t,e,!1),n.rotation=s.rotation,n.skewX=s.skewX,n.scaleX=s.scaleX,n.scaleY=s.scaleY,n.x=s.x,n.y=s.y,Ft&&(n.z=s.z,n.rotationX=s.rotationX,n.rotationY=s.rotationY,n.scaleZ=s.scaleZ),n.filters&&delete n.filters,n},rt=function(t,e,i,s,r){var n,a,o,h={},l=t.style;for(a in i)"cssText"!==a&&"length"!==a&&isNaN(a)&&(e[a]!==(n=i[a])||r&&r[a])&&-1===a.indexOf("Origin")&&("number"!=typeof n&&"string"!=typeof n||(h[a]="auto"!==n||"left"!==a&&"top"!==a?""!==n&&"auto"!==n&&"none"!==n||"string"!=typeof e[a]||""===e[a].replace(w,"")?n:0:it(t,a),void 0!==l[a]&&(o=new _t(l,a,l[a],o))));if(s)for(a in s)"className"!==a&&(h[a]=s[a]);return{difs:h,firstMPT:o}},nt={width:["Left","Right"],height:["Top","Bottom"]},at=["marginLeft","marginRight","marginTop","marginBottom"],ot=function(t,e,i){if("svg"===(t.nodeName+"").toLowerCase())return(i||Q(t))[e]||0;if(t.getCTM&&Gt(t))return t.getBBox()[e]||0;var s=parseFloat("width"===e?t.offsetWidth:t.offsetHeight),r=nt[e],n=r.length;for(i=i||Q(t,null);--n>-1;)s-=parseFloat(tt(t,"padding"+r[n],i,!0))||0,s-=parseFloat(tt(t,"border"+r[n]+"Width",i,!0))||0;return s},ht=function(t,e){if("contain"===t||"auto"===t||"auto auto"===t)return t+" ";null!=t&&""!==t||(t="0 0");var i,s=t.split(" "),r=-1!==t.indexOf("left")?"0%":-1!==t.indexOf("right")?"100%":s[0],n=-1!==t.indexOf("top")?"0%":-1!==t.indexOf("bottom")?"100%":s[1];if(s.length>3&&!e){for(s=t.split(", ").join(",").split(","),t=[],i=0;i<s.length;i++)t.push(ht(s[i]));return t.join(",")}return null==n?n="center"===r?"50%":"0":"center"===n&&(n="50%"),("center"===r||isNaN(parseFloat(r))&&-1===(r+"").indexOf("="))&&(r="50%"),t=r+" "+n+(s.length>2?" "+s[2]:""),e&&(e.oxp=-1!==r.indexOf("%"),e.oyp=-1!==n.indexOf("%"),e.oxr="="===r.charAt(1),e.oyr="="===n.charAt(1),e.ox=parseFloat(r.replace(w,"")),e.oy=parseFloat(n.replace(w,"")),e.v=t),e||t},lt=function(t,e){return"function"==typeof t&&(t=t(g,v)),"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2)):parseFloat(t)-parseFloat(e)||0},ct=function(t,e){return"function"==typeof t&&(t=t(g,v)),null==t?e:"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2))+e:parseFloat(t)||0},pt=function(t,e,i,s){var r,n,a,o,h;return"function"==typeof t&&(t=t(g,v)),null==t?o=e:"number"==typeof t?o=t:(r=360,n=t.split("_"),a=((h="="===t.charAt(1))?parseInt(t.charAt(0)+"1",10)*parseFloat(n[0].substr(2)):parseFloat(n[0]))*(-1===t.indexOf("rad")?1:V)-(h?0:e),n.length&&(s&&(s[i]=e+a),-1!==t.indexOf("short")&&(a%=r)!==a%(r/2)&&(a=a<0?a+r:a-r),-1!==t.indexOf("_cw")&&a<0?a=(a+9999999999*r)%r-(a/r|0)*r:-1!==t.indexOf("ccw")&&a>0&&(a=(a-9999999999*r)%r-(a/r|0)*r)),o=e+a),o<1e-6&&o>-1e-6&&(o=0),o},ut={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},ft=function(t,e,i){return 255*(6*(t=t<0?t+1:t>1?t-1:t)<1?e+(i-e)*t*6:t<.5?i:3*t<2?e+(i-e)*(2/3-t)*6:e)+.5|0},dt=o.parseColor=function(t,e){var i,s,r,n,a,o,h,l,c,p,u;if(t)if("number"==typeof t)i=[t>>16,t>>8&255,255&t];else{if(","===t.charAt(t.length-1)&&(t=t.substr(0,t.length-1)),ut[t])i=ut[t];else if("#"===t.charAt(0))4===t.length&&(t="#"+(s=t.charAt(1))+s+(r=t.charAt(2))+r+(n=t.charAt(3))+n),i=[(t=parseInt(t.substr(1),16))>>16,t>>8&255,255&t];else if("hsl"===t.substr(0,3))if(i=u=t.match(_),e){if(-1!==t.indexOf("="))return t.match(b)}else a=Number(i[0])%360/360,o=Number(i[1])/100,s=2*(h=Number(i[2])/100)-(r=h<=.5?h*(o+1):h+o-h*o),i.length>3&&(i[3]=Number(i[3])),i[0]=ft(a+1/3,s,r),i[1]=ft(a,s,r),i[2]=ft(a-1/3,s,r);else i=t.match(_)||ut.transparent;i[0]=Number(i[0]),i[1]=Number(i[1]),i[2]=Number(i[2]),i.length>3&&(i[3]=Number(i[3]))}else i=ut.black;return e&&!u&&(s=i[0]/255,r=i[1]/255,n=i[2]/255,h=((l=Math.max(s,r,n))+(c=Math.min(s,r,n)))/2,l===c?a=o=0:(p=l-c,o=h>.5?p/(2-l-c):p/(l+c),a=l===s?(r-n)/p+(r<n?6:0):l===r?(n-s)/p+2:(s-r)/p+4,a*=60),i[0]=a+.5|0,i[1]=100*o+.5|0,i[2]=100*h+.5|0),i},mt=function(t,e){var i,s,r,n=t.match(yt)||[],a=0,o="";if(!n.length)return t;for(i=0;i<n.length;i++)s=n[i],a+=(r=t.substr(a,t.indexOf(s,a)-a)).length+s.length,3===(s=dt(s,e)).length&&s.push(1),o+=r+(e?"hsla("+s[0]+","+s[1]+"%,"+s[2]+"%,"+s[3]:"rgba("+s.join(","))+")";return o+t.substr(a)},yt="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(c in ut)yt+="|"+c+"\\b";yt=new RegExp(yt+")","gi"),o.colorStringFilter=function(t){var e,i=t[0]+" "+t[1];yt.test(i)&&(e=-1!==i.indexOf("hsl(")||-1!==i.indexOf("hsla("),t[0]=mt(t[0],e),t[1]=mt(t[1],e)),yt.lastIndex=0},e.defaultStringFilter||(e.defaultStringFilter=o.colorStringFilter);var vt=function(t,e,i,s){if(null==t)return function(t){return t};var r,n=e?(t.match(yt)||[""])[0]:"",a=t.split(n).join("").match(x)||[],o=t.substr(0,t.indexOf(a[0])),h=")"===t.charAt(t.length-1)?")":"",l=-1!==t.indexOf(" ")?" ":",",c=a.length,p=c>0?a[0].replace(_,""):"";return c?r=e?function(t){var e,u,f,d;if("number"==typeof t)t+=p;else if(s&&O.test(t)){for(d=t.replace(O,"|").split("|"),f=0;f<d.length;f++)d[f]=r(d[f]);return d.join(",")}if(e=(t.match(yt)||[n])[0],f=(u=t.split(e).join("").match(x)||[]).length,c>f--)for(;++f<c;)u[f]=i?u[(f-1)/2|0]:a[f];return o+u.join(l)+l+e+h+(-1!==t.indexOf("inset")?" inset":"")}:function(t){var e,n,u;if("number"==typeof t)t+=p;else if(s&&O.test(t)){for(n=t.replace(O,"|").split("|"),u=0;u<n.length;u++)n[u]=r(n[u]);return n.join(",")}if(u=(e=t.match(x)||[]).length,c>u--)for(;++u<c;)e[u]=i?e[(u-1)/2|0]:a[u];return o+e.join(l)+h}:function(t){return t}},gt=function(t){return t=t.split(","),function(e,i,s,r,n,a,o){var h,l=(i+"").split(" ");for(o={},h=0;h<4;h++)o[t[h]]=l[h]=l[h]||l[(h-1)/2>>0];return r.parse(e,o,n,a)}},_t=(U._setPluginRatio=function(t){this.plugin.setRatio(t);for(var e,i,s,r,n,a=this.data,o=a.proxy,h=a.firstMPT;h;)e=o[h.v],h.r?e=Math.round(e):e<1e-6&&e>-1e-6&&(e=0),h.t[h.p]=e,h=h._next;if(a.autoRotate&&(a.autoRotate.rotation=a.mod?a.mod(o.rotation,this.t):o.rotation),1===t||0===t)for(h=a.firstMPT,n=1===t?"e":"b";h;){if((i=h.t).type){if(1===i.type){for(r=i.xs0+i.s+i.xs1,s=1;s<i.l;s++)r+=i["xn"+s]+i["xs"+(s+1)];i[n]=r}}else i[n]=i.s+i.xs0;h=h._next}},function(t,e,i,s,r){this.t=t,this.p=e,this.v=i,this.r=r,s&&(s._prev=this,this._next=s)}),bt=(U._parseToProxy=function(t,e,i,s,r,n){var a,o,h,l,c,p=s,u={},f={},d=i._transform,m=R;for(i._transform=null,R=e,s=c=i.parse(t,e,s,r),R=m,n&&(i._transform=d,p&&(p._prev=null,p._prev&&(p._prev._next=null)));s&&s!==p;){if(s.type<=1&&(f[o=s.p]=s.s+s.c,u[o]=s.s,n||(l=new _t(s,"s",o,l,s.r),s.c=0),1===s.type))for(a=s.l;--a>0;)h="xn"+a,f[o=s.p+"_"+h]=s.data[h],u[o]=s[h],n||(l=new _t(s,h,o,l,s.rxp[h]));s=s._next}return{proxy:u,end:f,firstMPT:l,pt:c}},U.CSSPropTween=function(t,e,i,r,n,o,h,l,c,p,u){this.t=t,this.p=e,this.s=i,this.c=r,this.n=h||e,t instanceof bt||a.push(this.n),this.r=l,this.type=o||0,c&&(this.pr=c,s=!0),this.b=void 0===p?i:p,this.e=void 0===u?i+r:u,n&&(this._next=n,n._prev=this)}),xt=function(t,e,i,s,r,n){var a=new bt(t,e,i,s-i,r,-1,n);return a.b=i,a.e=a.xs0=s,a},wt=o.parseComplex=function(t,e,i,s,r,n,a,h,l,c){i=i||n||"","function"==typeof s&&(s=s(g,v)),a=new bt(t,e,0,0,a,c?2:1,null,!1,h,i,s),s+="",r&&yt.test(s+i)&&(s=[i,s],o.colorStringFilter(s),i=s[0],s=s[1]);var u,f,d,m,y,x,w,k,P,T,E,S,A,C=i.split(", ").join(",").split(" "),M=s.split(", ").join(",").split(" "),N=C.length,I=!1!==p;for(-1===s.indexOf(",")&&-1===i.indexOf(",")||(-1!==(s+i).indexOf("rgb")||-1!==(s+i).indexOf("hsl")?(C=C.join(" ").replace(O,", ").split(" "),M=M.join(" ").replace(O,", ").split(" ")):(C=C.join(" ").split(",").join(", ").split(" "),M=M.join(" ").split(",").join(", ").split(" ")),N=C.length),N!==M.length&&(N=(C=(n||"").split(" ")).length),a.plugin=l,a.setRatio=c,yt.lastIndex=0,u=0;u<N;u++)if(m=C[u],y=M[u],(k=parseFloat(m))||0===k)a.appendXtra("",k,lt(y,k),y.replace(b,""),I&&-1!==y.indexOf("px"),!0);else if(r&&yt.test(m))S=")"+((S=y.indexOf(")")+1)?y.substr(S):""),A=-1!==y.indexOf("hsl")&&X,T=y,m=dt(m,A),y=dt(y,A),(P=m.length+y.length>6)&&!X&&0===y[3]?(a["xs"+a.l]+=a.l?" transparent":"transparent",a.e=a.e.split(M[u]).join("transparent")):(X||(P=!1),A?a.appendXtra(T.substr(0,T.indexOf("hsl"))+(P?"hsla(":"hsl("),m[0],lt(y[0],m[0]),",",!1,!0).appendXtra("",m[1],lt(y[1],m[1]),"%,",!1).appendXtra("",m[2],lt(y[2],m[2]),P?"%,":"%"+S,!1):a.appendXtra(T.substr(0,T.indexOf("rgb"))+(P?"rgba(":"rgb("),m[0],y[0]-m[0],",",!0,!0).appendXtra("",m[1],y[1]-m[1],",",!0).appendXtra("",m[2],y[2]-m[2],P?",":S,!0),P&&(m=m.length<4?1:m[3],a.appendXtra("",m,(y.length<4?1:y[3])-m,S,!1))),yt.lastIndex=0;else if(x=m.match(_)){if(!(w=y.match(b))||w.length!==x.length)return a;for(d=0,f=0;f<x.length;f++)E=x[f],T=m.indexOf(E,d),a.appendXtra(m.substr(d,T-d),Number(E),lt(w[f],E),"",I&&"px"===m.substr(T+E.length,2),0===f),d=T+E.length;a["xs"+a.l]+=m.substr(d)}else a["xs"+a.l]+=a.l||a["xs"+a.l]?" "+y:y;if(-1!==s.indexOf("=")&&a.data){for(S=a.xs0+a.data.s,u=1;u<a.l;u++)S+=a["xs"+u]+a.data["xn"+u];a.e=S+a["xs"+u]}return a.l||(a.type=-1,a.xs0=a.e),a.xfirst||a},kt=9;for((c=bt.prototype).l=c.pr=0;--kt>0;)c["xn"+kt]=0,c["xs"+kt]="";c.xs0="",c._next=c._prev=c.xfirst=c.data=c.plugin=c.setRatio=c.rxp=null,c.appendXtra=function(t,e,i,s,r,n){var a=this,o=a.l;return a["xs"+o]+=n&&(o||a["xs"+o])?" "+t:t||"",i||0===o||a.plugin?(a.l++,a.type=a.setRatio?2:1,a["xs"+a.l]=s||"",o>0?(a.data["xn"+o]=e+i,a.rxp["xn"+o]=r,a["xn"+o]=e,a.plugin||(a.xfirst=new bt(a,"xn"+o,e,i,a.xfirst||a,0,a.n,r,a.pr),a.xfirst.xs0=0),a):(a.data={s:e+i},a.rxp={},a.s=e,a.c=i,a.r=r,a)):(a["xs"+o]+=e+(s||""),a)};var Pt=function(t,e){e=e||{},this.p=e.prefix&&K(t)||t,l[t]=l[this.p]=this,this.format=e.formatter||vt(e.defaultValue,e.color,e.collapsible,e.multi),e.parser&&(this.parse=e.parser),this.clrs=e.color,this.multi=e.multi,this.keyword=e.keyword,this.dflt=e.defaultValue,this.pr=e.priority||0},Tt=U._registerComplexSpecialProp=function(t,e,i){"object"!=typeof e&&(e={parser:i});var s,r=t.split(","),n=e.defaultValue;for(i=i||[n],s=0;s<r.length;s++)e.prefix=0===s&&e.prefix,e.defaultValue=i[s]||n,new Pt(r[s],e)},Et=U._registerPluginProp=function(t){if(!l[t]){var e=t.charAt(0).toUpperCase()+t.substr(1)+"Plugin";Tt(t,{parser:function(t,i,s,r,n,a,o){var c=h.com.greensock.plugins[e];return c?(c._cssRegister(),l[s].parse(t,i,s,r,n,a,o)):(Y("Error: "+e+" js file not loaded."),n)}})}};(c=Pt.prototype).parseComplex=function(t,e,i,s,r,n){var a,o,h,l,c,p,u=this.keyword;if(this.multi&&(O.test(i)||O.test(e)?(o=e.replace(O,"|").split("|"),h=i.replace(O,"|").split("|")):u&&(o=[e],h=[i])),h){for(l=h.length>o.length?h.length:o.length,a=0;a<l;a++)e=o[a]=o[a]||this.dflt,i=h[a]=h[a]||this.dflt,u&&(c=e.indexOf(u))!==(p=i.indexOf(u))&&(-1===p?o[a]=o[a].split(u).join(""):-1===c&&(o[a]+=" "+u));e=o.join(", "),i=h.join(", ")}return wt(t,this.p,e,i,this.clrs,this.dflt,s,this.pr,r,n)},c.parse=function(t,e,i,s,r,a,o){return this.parseComplex(t.style,this.format(tt(t,this.p,n,!1,this.dflt)),this.format(e),r,a)},o.registerSpecialProp=function(t,e,i){Tt(t,{parser:function(t,s,r,n,a,o,h){var l=new bt(t,r,0,0,a,2,r,!1,i);return l.plugin=o,l.setRatio=e(t,s,n._tween,r),l},priority:i})},o.useSVGTransformAttr=!0;var St,At,Ct,Mt,Nt,It="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),Dt=K("transform"),zt=Z+"transform",Ot=K("transformOrigin"),Ft=null!==K("perspective"),Lt=U.Transform=function(){this.perspective=parseFloat(o.defaultTransformPerspective)||0,this.force3D=!(!1===o.defaultForce3D||!Ft)&&(o.defaultForce3D||"auto")},Vt=i.SVGElement,Rt=function(t,e,i){var s,r=B.createElementNS("http://www.w3.org/2000/svg",t),n=/([a-z])([A-Z])/g;for(s in i)r.setAttributeNS(null,s.replace(n,"$1-$2").toLowerCase(),i[s]);return e.appendChild(r),r},jt=B.documentElement||{},Bt=(Nt=y||/Android/i.test(q)&&!i.chrome,B.createElementNS&&!Nt&&(At=Rt("svg",jt),Mt=(Ct=Rt("rect",At,{width:100,height:50,x:100})).getBoundingClientRect().width,Ct.style[Ot]="50% 50%",Ct.style[Dt]="scaleX(0.5)",Nt=Mt===Ct.getBoundingClientRect().width&&!(d&&Ft),jt.removeChild(At)),Nt),Ht=function(t,e,i,s,r,n){var a,h,l,c,p,u,f,d,m,y,v,g,_,b,x=t._gsTransform,w=qt(t,!0);x&&(_=x.xOrigin,b=x.yOrigin),(!s||(a=s.split(" ")).length<2)&&(0===(f=t.getBBox()).x&&0===f.y&&f.width+f.height===0&&(f={x:parseFloat(t.hasAttribute("x")?t.getAttribute("x"):t.hasAttribute("cx")?t.getAttribute("cx"):0)||0,y:parseFloat(t.hasAttribute("y")?t.getAttribute("y"):t.hasAttribute("cy")?t.getAttribute("cy"):0)||0,width:0,height:0}),a=[(-1!==(e=ht(e).split(" "))[0].indexOf("%")?parseFloat(e[0])/100*f.width:parseFloat(e[0]))+f.x,(-1!==e[1].indexOf("%")?parseFloat(e[1])/100*f.height:parseFloat(e[1]))+f.y]),i.xOrigin=c=parseFloat(a[0]),i.yOrigin=p=parseFloat(a[1]),s&&w!==Ut&&(u=w[0],f=w[1],d=w[2],m=w[3],y=w[4],v=w[5],(g=u*m-f*d)&&(h=c*(m/g)+p*(-d/g)+(d*v-m*y)/g,l=c*(-f/g)+p*(u/g)-(u*v-f*y)/g,c=i.xOrigin=a[0]=h,p=i.yOrigin=a[1]=l)),x&&(n&&(i.xOffset=x.xOffset,i.yOffset=x.yOffset,x=i),r||!1!==r&&!1!==o.defaultSmoothOrigin?(h=c-_,l=p-b,x.xOffset+=h*w[0]+l*w[2]-h,x.yOffset+=h*w[1]+l*w[3]-l):x.xOffset=x.yOffset=0),n||t.setAttribute("data-svg-origin",a.join(" "))},$t=function(t){var e,i=H("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),s=this.parentNode,r=this.nextSibling,n=this.style.cssText;if(jt.appendChild(i),i.appendChild(this),this.style.display="block",t)try{e=this.getBBox(),this._originalGetBBox=this.getBBox,this.getBBox=$t}catch(t){}else this._originalGetBBox&&(e=this._originalGetBBox());return r?s.insertBefore(this,r):s.appendChild(this),jt.removeChild(i),this.style.cssText=n,e},Gt=function(t){return!(!Vt||!t.getCTM||t.parentNode&&!t.ownerSVGElement||!function(t){try{return t.getBBox()}catch(e){return $t.call(t,!0)}}(t))},Ut=[1,0,0,1,0,0],qt=function(t,e){var i,s,r,n,a,o,h=t._gsTransform||new Lt,l=t.style;if(Dt?s=tt(t,zt,null,!0):t.currentStyle&&(s=(s=t.currentStyle.filter.match(D))&&4===s.length?[s[0].substr(4),Number(s[2].substr(4)),Number(s[1].substr(4)),s[3].substr(4),h.x||0,h.y||0].join(","):""),i=!s||"none"===s||"matrix(1, 0, 0, 1, 0, 0)"===s,!Dt||!(o=!Q(t)||"none"===Q(t).display)&&t.parentNode||(o&&(n=l.display,l.display="block"),t.parentNode||(a=1,jt.appendChild(t)),i=!(s=tt(t,zt,null,!0))||"none"===s||"matrix(1, 0, 0, 1, 0, 0)"===s,n?l.display=n:o&&Jt(l,"display"),a&&jt.removeChild(t)),(h.svg||t.getCTM&&Gt(t))&&(i&&-1!==(l[Dt]+"").indexOf("matrix")&&(s=l[Dt],i=0),r=t.getAttribute("transform"),i&&r&&(s="matrix("+(r=t.transform.baseVal.consolidate().matrix).a+","+r.b+","+r.c+","+r.d+","+r.e+","+r.f+")",i=0)),i)return Ut;for(r=(s||"").match(_)||[],kt=r.length;--kt>-1;)n=Number(r[kt]),r[kt]=(a=n-(n|=0))?(1e5*a+(a<0?-.5:.5)|0)/1e5+n:n;return e&&r.length>6?[r[0],r[1],r[4],r[5],r[12],r[13]]:r},Xt=U.getTransform=function(t,i,s,r){if(t._gsTransform&&s&&!r)return t._gsTransform;var n,a,h,l,c,p,u=s&&t._gsTransform||new Lt,f=u.scaleX<0,d=Ft&&(parseFloat(tt(t,Ot,i,!1,"0 0 0").split(" ")[2])||u.zOrigin)||0,m=parseFloat(o.defaultTransformPerspective)||0;if(u.svg=!(!t.getCTM||!Gt(t)),u.svg&&(Ht(t,tt(t,Ot,i,!1,"50% 50%")+"",u,t.getAttribute("data-svg-origin")),St=o.useSVGTransformAttr||Bt),(n=qt(t))!==Ut){if(16===n.length){var y,v,g,_,b,x=n[0],w=n[1],k=n[2],P=n[3],T=n[4],E=n[5],S=n[6],A=n[7],C=n[8],M=n[9],N=n[10],I=n[12],D=n[13],z=n[14],O=n[11],F=Math.atan2(S,N);u.zOrigin&&(I=C*(z=-u.zOrigin)-n[12],D=M*z-n[13],z=N*z+u.zOrigin-n[14]),u.rotationX=F*V,F&&(y=T*(_=Math.cos(-F))+C*(b=Math.sin(-F)),v=E*_+M*b,g=S*_+N*b,C=T*-b+C*_,M=E*-b+M*_,N=S*-b+N*_,O=A*-b+O*_,T=y,E=v,S=g),F=Math.atan2(-k,N),u.rotationY=F*V,F&&(v=w*(_=Math.cos(-F))-M*(b=Math.sin(-F)),g=k*_-N*b,M=w*b+M*_,N=k*b+N*_,O=P*b+O*_,x=y=x*_-C*b,w=v,k=g),F=Math.atan2(w,x),u.rotation=F*V,F&&(y=x*(_=Math.cos(F))+w*(b=Math.sin(F)),v=T*_+E*b,g=C*_+M*b,w=w*_-x*b,E=E*_-T*b,M=M*_-C*b,x=y,T=v,C=g),u.rotationX&&Math.abs(u.rotationX)+Math.abs(u.rotation)>359.9&&(u.rotationX=u.rotation=0,u.rotationY=180-u.rotationY),F=Math.atan2(T,E),u.scaleX=(1e5*Math.sqrt(x*x+w*w+k*k)+.5|0)/1e5,u.scaleY=(1e5*Math.sqrt(E*E+S*S)+.5|0)/1e5,u.scaleZ=(1e5*Math.sqrt(C*C+M*M+N*N)+.5|0)/1e5,x/=u.scaleX,T/=u.scaleY,w/=u.scaleX,E/=u.scaleY,Math.abs(F)>2e-5?(u.skewX=F*V,T=0,"simple"!==u.skewType&&(u.scaleY*=1/Math.cos(F))):u.skewX=0,u.perspective=O?1/(O<0?-O:O):0,u.x=I,u.y=D,u.z=z,u.svg&&(u.x-=u.xOrigin-(u.xOrigin*x-u.yOrigin*T),u.y-=u.yOrigin-(u.yOrigin*w-u.xOrigin*E))}else if(!Ft||r||!n.length||u.x!==n[4]||u.y!==n[5]||!u.rotationX&&!u.rotationY){var L=n.length>=6,R=L?n[0]:1,j=n[1]||0,B=n[2]||0,H=L?n[3]:1;u.x=n[4]||0,u.y=n[5]||0,h=Math.sqrt(R*R+j*j),l=Math.sqrt(H*H+B*B),c=R||j?Math.atan2(j,R)*V:u.rotation||0,p=B||H?Math.atan2(B,H)*V+c:u.skewX||0,u.scaleX=h,u.scaleY=l,u.rotation=c,u.skewX=p,Ft&&(u.rotationX=u.rotationY=u.z=0,u.perspective=m,u.scaleZ=1),u.svg&&(u.x-=u.xOrigin-(u.xOrigin*R+u.yOrigin*B),u.y-=u.yOrigin-(u.xOrigin*j+u.yOrigin*H))}for(a in Math.abs(u.skewX)>90&&Math.abs(u.skewX)<270&&(f?(u.scaleX*=-1,u.skewX+=u.rotation<=0?180:-180,u.rotation+=u.rotation<=0?180:-180):(u.scaleY*=-1,u.skewX+=u.skewX<=0?180:-180)),u.zOrigin=d,u)u[a]<2e-5&&u[a]>-2e-5&&(u[a]=0)}return s&&(t._gsTransform=u,u.svg&&(St&&t.style[Dt]?e.delayedCall(.001,function(){Jt(t.style,Dt)}):!St&&t.getAttribute("transform")&&e.delayedCall(.001,function(){t.removeAttribute("transform")}))),u},Wt=function(t){var e,i,s=this.data,r=-s.rotation*L,n=r+s.skewX*L,a=(Math.cos(r)*s.scaleX*1e5|0)/1e5,o=(Math.sin(r)*s.scaleX*1e5|0)/1e5,h=(Math.sin(n)*-s.scaleY*1e5|0)/1e5,l=(Math.cos(n)*s.scaleY*1e5|0)/1e5,c=this.t.style,p=this.t.currentStyle;if(p){i=o,o=-h,h=-i,e=p.filter,c.filter="";var u,f,d=this.t.offsetWidth,m=this.t.offsetHeight,v="absolute"!==p.position,g="progid:DXImageTransform.Microsoft.Matrix(M11="+a+", M12="+o+", M21="+h+", M22="+l,_=s.x+d*s.xPercent/100,b=s.y+m*s.yPercent/100;if(null!=s.ox&&(_+=(u=(s.oxp?d*s.ox*.01:s.ox)-d/2)-(u*a+(f=(s.oyp?m*s.oy*.01:s.oy)-m/2)*o),b+=f-(u*h+f*l)),g+=v?", Dx="+((u=d/2)-(u*a+(f=m/2)*o)+_)+", Dy="+(f-(u*h+f*l)+b)+")":", sizingMethod='auto expand')",-1!==e.indexOf("DXImageTransform.Microsoft.Matrix(")?c.filter=e.replace(z,g):c.filter=g+" "+e,0!==t&&1!==t||1===a&&0===o&&0===h&&1===l&&(v&&-1===g.indexOf("Dx=0, Dy=0")||P.test(e)&&100!==parseFloat(RegExp.$1)||-1===e.indexOf(e.indexOf("Alpha"))&&c.removeAttribute("filter")),!v){var x,w,T,E=y<8?1:-1;for(u=s.ieOffsetX||0,f=s.ieOffsetY||0,s.ieOffsetX=Math.round((d-((a<0?-a:a)*d+(o<0?-o:o)*m))/2+_),s.ieOffsetY=Math.round((m-((l<0?-l:l)*m+(h<0?-h:h)*d))/2+b),kt=0;kt<4;kt++)T=(i=-1!==(x=p[w=at[kt]]).indexOf("px")?parseFloat(x):et(this.t,w,parseFloat(x),x.replace(k,""))||0)!==s[w]?kt<2?-s.ieOffsetX:-s.ieOffsetY:kt<2?u-s.ieOffsetX:f-s.ieOffsetY,c[w]=(s[w]=Math.round(i-T*(0===kt||2===kt?1:E)))+"px"}}},Yt=U.set3DTransformRatio=U.setTransformRatio=function(t){var e,i,s,r,n,a,o,h,l,c,p,u,f,m,y,v,g,_,b,x,w,k=this.data,P=this.t.style,T=k.rotation,E=k.rotationX,S=k.rotationY,A=k.scaleX,C=k.scaleY,M=k.scaleZ,N=k.x,I=k.y,D=k.z,z=k.svg,O=k.perspective,F=k.force3D,V=k.skewY,R=k.skewX;if(V&&(R+=V,T+=V),!((1!==t&&0!==t||"auto"!==F||this.tween._totalTime!==this.tween._totalDuration&&this.tween._totalTime)&&F||D||O||S||E||1!==M)||St&&z||!Ft)T||R||z?(T*=L,x=R*L,w=1e5,i=Math.cos(T)*A,n=Math.sin(T)*A,s=Math.sin(T-x)*-C,a=Math.cos(T-x)*C,x&&"simple"===k.skewType&&(e=Math.tan(x-V*L),s*=e=Math.sqrt(1+e*e),a*=e,V&&(e=Math.tan(V*L),i*=e=Math.sqrt(1+e*e),n*=e)),z&&(N+=k.xOrigin-(k.xOrigin*i+k.yOrigin*s)+k.xOffset,I+=k.yOrigin-(k.xOrigin*n+k.yOrigin*a)+k.yOffset,St&&(k.xPercent||k.yPercent)&&(y=this.t.getBBox(),N+=.01*k.xPercent*y.width,I+=.01*k.yPercent*y.height),N<(y=1e-6)&&N>-y&&(N=0),I<y&&I>-y&&(I=0)),b=(i*w|0)/w+","+(n*w|0)/w+","+(s*w|0)/w+","+(a*w|0)/w+","+N+","+I+")",z&&St?this.t.setAttribute("transform","matrix("+b):P[Dt]=(k.xPercent||k.yPercent?"translate("+k.xPercent+"%,"+k.yPercent+"%) matrix(":"matrix(")+b):P[Dt]=(k.xPercent||k.yPercent?"translate("+k.xPercent+"%,"+k.yPercent+"%) matrix(":"matrix(")+A+",0,0,"+C+","+N+","+I+")";else{if(d&&(A<(y=1e-4)&&A>-y&&(A=M=2e-5),C<y&&C>-y&&(C=M=2e-5),!O||k.z||k.rotationX||k.rotationY||(O=0)),T||R)T*=L,v=i=Math.cos(T),g=n=Math.sin(T),R&&(T-=R*L,v=Math.cos(T),g=Math.sin(T),"simple"===k.skewType&&(e=Math.tan((R-V)*L),v*=e=Math.sqrt(1+e*e),g*=e,k.skewY&&(e=Math.tan(V*L),i*=e=Math.sqrt(1+e*e),n*=e))),s=-g,a=v;else{if(!(S||E||1!==M||O||z))return void(P[Dt]=(k.xPercent||k.yPercent?"translate("+k.xPercent+"%,"+k.yPercent+"%) translate3d(":"translate3d(")+N+"px,"+I+"px,"+D+"px)"+(1!==A||1!==C?" scale("+A+","+C+")":""));i=a=1,s=n=0}c=1,r=o=h=l=p=u=0,f=O?-1/O:0,m=k.zOrigin,y=1e-6,",","0",(T=S*L)&&(v=Math.cos(T),h=-(g=Math.sin(T)),p=f*-g,r=i*g,o=n*g,c=v,f*=v,i*=v,n*=v),(T=E*L)&&(e=s*(v=Math.cos(T))+r*(g=Math.sin(T)),_=a*v+o*g,l=c*g,u=f*g,r=s*-g+r*v,o=a*-g+o*v,c*=v,f*=v,s=e,a=_),1!==M&&(r*=M,o*=M,c*=M,f*=M),1!==C&&(s*=C,a*=C,l*=C,u*=C),1!==A&&(i*=A,n*=A,h*=A,p*=A),(m||z)&&(m&&(N+=r*-m,I+=o*-m,D+=c*-m+m),z&&(N+=k.xOrigin-(k.xOrigin*i+k.yOrigin*s)+k.xOffset,I+=k.yOrigin-(k.xOrigin*n+k.yOrigin*a)+k.yOffset),N<y&&N>-y&&(N="0"),I<y&&I>-y&&(I="0"),D<y&&D>-y&&(D=0)),b=k.xPercent||k.yPercent?"translate("+k.xPercent+"%,"+k.yPercent+"%) matrix3d(":"matrix3d(",b+=(i<y&&i>-y?"0":i)+","+(n<y&&n>-y?"0":n)+","+(h<y&&h>-y?"0":h),b+=","+(p<y&&p>-y?"0":p)+","+(s<y&&s>-y?"0":s)+","+(a<y&&a>-y?"0":a),E||S||1!==M?(b+=","+(l<y&&l>-y?"0":l)+","+(u<y&&u>-y?"0":u)+","+(r<y&&r>-y?"0":r),b+=","+(o<y&&o>-y?"0":o)+","+(c<y&&c>-y?"0":c)+","+(f<y&&f>-y?"0":f)+","):b+=",0,0,0,0,1,0,",b+=N+","+I+","+D+","+(O?1+-D/O:1)+")",P[Dt]=b}};(c=Lt.prototype).x=c.y=c.z=c.skewX=c.skewY=c.rotation=c.rotationX=c.rotationY=c.zOrigin=c.xPercent=c.yPercent=c.xOffset=c.yOffset=0,c.scaleX=c.scaleY=c.scaleZ=1,Tt("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(t,e,i,s,r,a,h){if(s._lastParsedTransform===h)return r;s._lastParsedTransform=h;var l,c=h.scale&&"function"==typeof h.scale?h.scale:0;"function"==typeof h[i]&&(l=h[i],h[i]=e),c&&(h.scale=c(g,t));var p,u,f,d,m,y,_,b,x,w=t._gsTransform,k=t.style,P=It.length,T=h,E={},S=Xt(t,n,!0,T.parseTransform),A=T.transform&&("function"==typeof T.transform?T.transform(g,v):T.transform);if(S.skewType=T.skewType||S.skewType||o.defaultSkewType,s._transform=S,A&&"string"==typeof A&&Dt)(u=$.style)[Dt]=A,u.display="block",u.position="absolute",B.body.appendChild($),p=Xt($,null,!1),"simple"===S.skewType&&(p.scaleY*=Math.cos(p.skewX*L)),S.svg&&(y=S.xOrigin,_=S.yOrigin,p.x-=S.xOffset,p.y-=S.yOffset,(T.transformOrigin||T.svgOrigin)&&(A={},Ht(t,ht(T.transformOrigin),A,T.svgOrigin,T.smoothOrigin,!0),y=A.xOrigin,_=A.yOrigin,p.x-=A.xOffset-S.xOffset,p.y-=A.yOffset-S.yOffset),(y||_)&&(b=qt($,!0),p.x-=y-(y*b[0]+_*b[2]),p.y-=_-(y*b[1]+_*b[3]))),B.body.removeChild($),p.perspective||(p.perspective=S.perspective),null!=T.xPercent&&(p.xPercent=ct(T.xPercent,S.xPercent)),null!=T.yPercent&&(p.yPercent=ct(T.yPercent,S.yPercent));else if("object"==typeof T){if(p={scaleX:ct(null!=T.scaleX?T.scaleX:T.scale,S.scaleX),scaleY:ct(null!=T.scaleY?T.scaleY:T.scale,S.scaleY),scaleZ:ct(T.scaleZ,S.scaleZ),x:ct(T.x,S.x),y:ct(T.y,S.y),z:ct(T.z,S.z),xPercent:ct(T.xPercent,S.xPercent),yPercent:ct(T.yPercent,S.yPercent),perspective:ct(T.transformPerspective,S.perspective)},null!=(m=T.directionalRotation))if("object"==typeof m)for(u in m)T[u]=m[u];else T.rotation=m;"string"==typeof T.x&&-1!==T.x.indexOf("%")&&(p.x=0,p.xPercent=ct(T.x,S.xPercent)),"string"==typeof T.y&&-1!==T.y.indexOf("%")&&(p.y=0,p.yPercent=ct(T.y,S.yPercent)),p.rotation=pt("rotation"in T?T.rotation:"shortRotation"in T?T.shortRotation+"_short":"rotationZ"in T?T.rotationZ:S.rotation,S.rotation,"rotation",E),Ft&&(p.rotationX=pt("rotationX"in T?T.rotationX:"shortRotationX"in T?T.shortRotationX+"_short":S.rotationX||0,S.rotationX,"rotationX",E),p.rotationY=pt("rotationY"in T?T.rotationY:"shortRotationY"in T?T.shortRotationY+"_short":S.rotationY||0,S.rotationY,"rotationY",E)),p.skewX=pt(T.skewX,S.skewX),p.skewY=pt(T.skewY,S.skewY)}for(Ft&&null!=T.force3D&&(S.force3D=T.force3D,d=!0),(f=S.force3D||S.z||S.rotationX||S.rotationY||p.z||p.rotationX||p.rotationY||p.perspective)||null==T.scale||(p.scaleZ=1);--P>-1;)((A=p[x=It[P]]-S[x])>1e-6||A<-1e-6||null!=T[x]||null!=R[x])&&(d=!0,r=new bt(S,x,S[x],A,r),x in E&&(r.e=E[x]),r.xs0=0,r.plugin=a,s._overwriteProps.push(r.n));return A=T.transformOrigin,S.svg&&(A||T.svgOrigin)&&(y=S.xOffset,_=S.yOffset,Ht(t,ht(A),p,T.svgOrigin,T.smoothOrigin),r=xt(S,"xOrigin",(w?S:p).xOrigin,p.xOrigin,r,"transformOrigin"),r=xt(S,"yOrigin",(w?S:p).yOrigin,p.yOrigin,r,"transformOrigin"),y===S.xOffset&&_===S.yOffset||(r=xt(S,"xOffset",w?y:S.xOffset,S.xOffset,r,"transformOrigin"),r=xt(S,"yOffset",w?_:S.yOffset,S.yOffset,r,"transformOrigin")),A="0px 0px"),(A||Ft&&f&&S.zOrigin)&&(Dt?(d=!0,x=Ot,A=(A||tt(t,x,n,!1,"50% 50%"))+"",(r=new bt(k,x,0,0,r,-1,"transformOrigin")).b=k[x],r.plugin=a,Ft?(u=S.zOrigin,A=A.split(" "),S.zOrigin=(A.length>2&&(0===u||"0px"!==A[2])?parseFloat(A[2]):u)||0,r.xs0=r.e=A[0]+" "+(A[1]||"50%")+" 0px",(r=new bt(S,"zOrigin",0,0,r,-1,r.n)).b=u,r.xs0=r.e=S.zOrigin):r.xs0=r.e=A):ht(A+"",S)),d&&(s._transformType=S.svg&&St||!f&&3!==this._transformType?2:3),l&&(h[i]=l),c&&(h.scale=c),r},prefix:!0}),Tt("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),Tt("borderRadius",{defaultValue:"0px",parser:function(t,e,i,s,a,o){e=this.format(e);var h,l,c,p,u,f,d,m,y,v,g,_,b,x,w,k,P=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],T=t.style;for(y=parseFloat(t.offsetWidth),v=parseFloat(t.offsetHeight),h=e.split(" "),l=0;l<P.length;l++)this.p.indexOf("border")&&(P[l]=K(P[l])),-1!==(u=p=tt(t,P[l],n,!1,"0px")).indexOf(" ")&&(u=(p=u.split(" "))[0],p=p[1]),f=c=h[l],d=parseFloat(u),_=u.substr((d+"").length),(b="="===f.charAt(1))?(m=parseInt(f.charAt(0)+"1",10),f=f.substr(2),m*=parseFloat(f),g=f.substr((m+"").length-(m<0?1:0))||""):(m=parseFloat(f),g=f.substr((m+"").length)),""===g&&(g=r[i]||_),g!==_&&(x=et(t,"borderLeft",d,_),w=et(t,"borderTop",d,_),"%"===g?(u=x/y*100+"%",p=w/v*100+"%"):"em"===g?(u=x/(k=et(t,"borderLeft",1,"em"))+"em",p=w/k+"em"):(u=x+"px",p=w+"px"),b&&(f=parseFloat(u)+m+g,c=parseFloat(p)+m+g)),a=wt(T,P[l],u+" "+p,f+" "+c,!1,"0px",a);return a},prefix:!0,formatter:vt("0px 0px 0px 0px",!1,!0)}),Tt("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius",{defaultValue:"0px",parser:function(t,e,i,s,r,a){return wt(t.style,i,this.format(tt(t,i,n,!1,"0px 0px")),this.format(e),!1,"0px",r)},prefix:!0,formatter:vt("0px 0px",!1,!0)}),Tt("backgroundPosition",{defaultValue:"0 0",parser:function(t,e,i,s,r,a){var o,h,l,c,p,u,f="background-position",d=n||Q(t,null),m=this.format((d?y?d.getPropertyValue(f+"-x")+" "+d.getPropertyValue(f+"-y"):d.getPropertyValue(f):t.currentStyle.backgroundPositionX+" "+t.currentStyle.backgroundPositionY)||"0 0"),v=this.format(e);if(-1!==m.indexOf("%")!=(-1!==v.indexOf("%"))&&v.split(",").length<2&&(u=tt(t,"backgroundImage").replace(M,""))&&"none"!==u){for(o=m.split(" "),h=v.split(" "),G.setAttribute("src",u),l=2;--l>-1;)(c=-1!==(m=o[l]).indexOf("%"))!==(-1!==h[l].indexOf("%"))&&(p=0===l?t.offsetWidth-G.width:t.offsetHeight-G.height,o[l]=c?parseFloat(m)/100*p+"px":parseFloat(m)/p*100+"%");m=o.join(" ")}return this.parseComplex(t.style,m,v,r,a)},formatter:ht}),Tt("backgroundSize",{defaultValue:"0 0",formatter:function(t){return ht(-1===(t+="").indexOf(" ")?t+" "+t:t)}}),Tt("perspective",{defaultValue:"0px",prefix:!0}),Tt("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),Tt("transformStyle",{prefix:!0}),Tt("backfaceVisibility",{prefix:!0}),Tt("userSelect",{prefix:!0}),Tt("margin",{parser:gt("marginTop,marginRight,marginBottom,marginLeft")}),Tt("padding",{parser:gt("paddingTop,paddingRight,paddingBottom,paddingLeft")}),Tt("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(t,e,i,s,r,a){var o,h,l;return y<9?(h=t.currentStyle,l=y<8?" ":",",o="rect("+h.clipTop+l+h.clipRight+l+h.clipBottom+l+h.clipLeft+")",e=this.format(e).split(",").join(l)):(o=this.format(tt(t,this.p,n,!1,this.dflt)),e=this.format(e)),this.parseComplex(t.style,o,e,r,a)}}),Tt("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),Tt("autoRound,strictUnits",{parser:function(t,e,i,s,r){return r}}),Tt("border",{defaultValue:"0px solid #000",parser:function(t,e,i,s,r,a){var o=tt(t,"borderTopWidth",n,!1,"0px"),h=this.format(e).split(" "),l=h[0].replace(k,"");return"px"!==l&&(o=parseFloat(o)/et(t,"borderTopWidth",1,l)+l),this.parseComplex(t.style,this.format(o+" "+tt(t,"borderTopStyle",n,!1,"solid")+" "+tt(t,"borderTopColor",n,!1,"#000")),h.join(" "),r,a)},color:!0,formatter:function(t){var e=t.split(" ");return e[0]+" "+(e[1]||"solid")+" "+(t.match(yt)||["#000"])[0]}}),Tt("borderWidth",{parser:gt("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),Tt("float,cssFloat,styleFloat",{parser:function(t,e,i,s,r,n){var a=t.style,o="cssFloat"in a?"cssFloat":"styleFloat";return new bt(a,o,0,0,r,-1,i,!1,0,a[o],e)}});var Zt=function(t){var e,i=this.t,s=i.filter||tt(this.data,"filter")||"",r=this.s+this.c*t|0;100===r&&(-1===s.indexOf("atrix(")&&-1===s.indexOf("radient(")&&-1===s.indexOf("oader(")?(i.removeAttribute("filter"),e=!tt(this.data,"filter")):(i.filter=s.replace(E,""),e=!0)),e||(this.xn1&&(i.filter=s=s||"alpha(opacity="+r+")"),-1===s.indexOf("pacity")?0===r&&this.xn1||(i.filter=s+" alpha(opacity="+r+")"):i.filter=s.replace(P,"opacity="+r))};Tt("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(t,e,i,s,r,a){var o=parseFloat(tt(t,"opacity",n,!1,"1")),h=t.style,l="autoAlpha"===i;return"string"==typeof e&&"="===e.charAt(1)&&(e=("-"===e.charAt(0)?-1:1)*parseFloat(e.substr(2))+o),l&&1===o&&"hidden"===tt(t,"visibility",n)&&0!==e&&(o=0),X?r=new bt(h,"opacity",o,e-o,r):((r=new bt(h,"opacity",100*o,100*(e-o),r)).xn1=l?1:0,h.zoom=1,r.type=2,r.b="alpha(opacity="+r.s+")",r.e="alpha(opacity="+(r.s+r.c)+")",r.data=t,r.plugin=a,r.setRatio=Zt),l&&((r=new bt(h,"visibility",0,0,r,-1,null,!1,0,0!==o?"inherit":"hidden",0===e?"hidden":"inherit")).xs0="inherit",s._overwriteProps.push(r.n),s._overwriteProps.push(i)),r}});var Jt=function(t,e){e&&(t.removeProperty?("ms"!==e.substr(0,2)&&"webkit"!==e.substr(0,6)||(e="-"+e),t.removeProperty(e.replace(A,"-$1").toLowerCase())):t.removeAttribute(e))},Kt=function(t){if(this.t._gsClassPT=this,1===t||0===t){this.t.setAttribute("class",0===t?this.b:this.e);for(var e=this.data,i=this.t.style;e;)e.v?i[e.p]=e.v:Jt(i,e.p),e=e._next;1===t&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};Tt("className",{parser:function(t,e,i,r,a,o,h){var l,c,p,u,f,d=t.getAttribute("class")||"",m=t.style.cssText;if((a=r._classNamePT=new bt(t,i,0,0,a,2)).setRatio=Kt,a.pr=-11,s=!0,a.b=d,c=st(t,n),p=t._gsClassPT){for(u={},f=p.data;f;)u[f.p]=1,f=f._next;p.setRatio(1)}return t._gsClassPT=a,a.e="="!==e.charAt(1)?e:d.replace(new RegExp("(?:\\s|^)"+e.substr(2)+"(?![\\w-])"),"")+("+"===e.charAt(0)?" "+e.substr(2):""),t.setAttribute("class",a.e),l=rt(t,c,st(t),h,u),t.setAttribute("class",d),a.data=l.firstMPT,t.style.cssText=m,a=a.xfirst=r.parse(t,l.difs,a,o)}});var Qt=function(t){if((1===t||0===t)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var e,i,s,r,n,a=this.t.style,o=l.transform.parse;if("all"===this.e)a.cssText="",r=!0;else for(s=(e=this.e.split(" ").join("").split(",")).length;--s>-1;)i=e[s],l[i]&&(l[i].parse===o?r=!0:i="transformOrigin"===i?Ot:l[i].p),Jt(a,i);r&&(Jt(a,Dt),(n=this.t._gsTransform)&&(n.svg&&(this.t.removeAttribute("data-svg-origin"),this.t.removeAttribute("transform")),delete this.t._gsTransform))}};for(Tt("clearProps",{parser:function(t,e,i,r,n){return(n=new bt(t,i,0,0,n,2)).setRatio=Qt,n.e=e,n.pr=-10,n.data=r._tween,s=!0,n}}),c="bezier,throwProps,physicsProps,physics2D".split(","),kt=c.length;kt--;)Et(c[kt]);(c=o.prototype)._firstPT=c._lastParsedTransform=c._transform=null,c._onInitTween=function(t,e,i,h){if(!t.nodeType)return!1;this._target=v=t,this._tween=i,this._vars=e,g=h,p=e.autoRound,s=!1,r=e.suffixMap||o.suffixMap,n=Q(t,""),a=this._overwriteProps;var c,d,y,_,b,x,w,k,P,E=t.style;if(u&&""===E.zIndex&&("auto"!==(c=tt(t,"zIndex",n))&&""!==c||this._addLazySet(E,"zIndex",0)),"string"==typeof e&&(_=E.cssText,c=st(t,n),E.cssText=_+";"+e,c=rt(t,c,st(t)).difs,!X&&T.test(e)&&(c.opacity=parseFloat(RegExp.$1)),e=c,E.cssText=_),e.className?this._firstPT=d=l.className.parse(t,e.className,"className",this,null,null,e):this._firstPT=d=this.parse(t,e,null),this._transformType){for(P=3===this._transformType,Dt?f&&(u=!0,""===E.zIndex&&("auto"!==(w=tt(t,"zIndex",n))&&""!==w||this._addLazySet(E,"zIndex",0)),m&&this._addLazySet(E,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(P?"visible":"hidden"))):E.zoom=1,y=d;y&&y._next;)y=y._next;k=new bt(t,"transform",0,0,null,2),this._linkCSSP(k,null,y),k.setRatio=Dt?Yt:Wt,k.data=this._transform||Xt(t,n,!0),k.tween=i,k.pr=-1,a.pop()}if(s){for(;d;){for(x=d._next,y=_;y&&y.pr>d.pr;)y=y._next;(d._prev=y?y._prev:b)?d._prev._next=d:_=d,(d._next=y)?y._prev=d:b=d,d=x}this._firstPT=_}return!0},c.parse=function(t,e,i,s){var a,o,h,c,u,f,d,m,y,_,b=t.style;for(a in e){if("function"==typeof(f=e[a])&&(f=f(g,v)),o=l[a])i=o.parse(t,f,a,this,i,s,e);else{if("--"===a.substr(0,2)){this._tween._propLookup[a]=this._addTween.call(this._tween,t.style,"setProperty",Q(t).getPropertyValue(a)+"",f+"",a,!1,a);continue}u=tt(t,a,n)+"",y="string"==typeof f,"color"===a||"fill"===a||"stroke"===a||-1!==a.indexOf("Color")||y&&S.test(f)?(y||(f=((f=dt(f)).length>3?"rgba(":"rgb(")+f.join(",")+")"),i=wt(b,a,u,f,!0,"transparent",i,0,s)):y&&F.test(f)?i=wt(b,a,u,f,!0,null,i,0,s):(d=(h=parseFloat(u))||0===h?u.substr((h+"").length):"",""!==u&&"auto"!==u||("width"===a||"height"===a?(h=ot(t,a,n),d="px"):"left"===a||"top"===a?(h=it(t,a,n),d="px"):(h="opacity"!==a?0:1,d="")),(_=y&&"="===f.charAt(1))?(c=parseInt(f.charAt(0)+"1",10),f=f.substr(2),c*=parseFloat(f),m=f.replace(k,"")):(c=parseFloat(f),m=y?f.replace(k,""):""),""===m&&(m=a in r?r[a]:d),f=c||0===c?(_?c+h:c)+m:e[a],d!==m&&(""===m&&"lineHeight"!==a||(c||0===c)&&h&&(h=et(t,a,h,d),"%"===m?(h/=et(t,a,100,"%")/100,!0!==e.strictUnits&&(u=h+"%")):"em"===m||"rem"===m||"vw"===m||"vh"===m?h/=et(t,a,1,m):"px"!==m&&(c=et(t,a,c,m),m="px"),_&&(c||0===c)&&(f=c+h+m))),_&&(c+=h),!h&&0!==h||!c&&0!==c?void 0!==b[a]&&(f||f+""!="NaN"&&null!=f)?(i=new bt(b,a,c||h||0,0,i,-1,a,!1,0,u,f)).xs0="none"!==f||"display"!==a&&-1===a.indexOf("Style")?f:u:Y("invalid "+a+" tween value: "+e[a]):(i=new bt(b,a,h,c-h,i,0,a,!1!==p&&("px"===m||"zIndex"===a),0,u,f)).xs0=m)}s&&i&&!i.plugin&&(i.plugin=s)}return i},c.setRatio=function(t){var e,i,s,r=this._firstPT;if(1!==t||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(t||this._tween._time!==this._tween._duration&&0!==this._tween._time||-1e-6===this._tween._rawPrevTime)for(;r;){if(e=r.c*t+r.s,r.r?e=Math.round(e):e<1e-6&&e>-1e-6&&(e=0),r.type)if(1===r.type)if(2===(s=r.l))r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2;else if(3===s)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3;else if(4===s)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4;else if(5===s)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4+r.xn4+r.xs5;else{for(i=r.xs0+e+r.xs1,s=1;s<r.l;s++)i+=r["xn"+s]+r["xs"+(s+1)];r.t[r.p]=i}else-1===r.type?r.t[r.p]=r.xs0:r.setRatio&&r.setRatio(t);else r.t[r.p]=e+r.xs0;r=r._next}else for(;r;)2!==r.type?r.t[r.p]=r.b:r.setRatio(t),r=r._next;else for(;r;){if(2!==r.type)if(r.r&&-1!==r.type)if(e=Math.round(r.s+r.c),r.type){if(1===r.type){for(s=r.l,i=r.xs0+e+r.xs1,s=1;s<r.l;s++)i+=r["xn"+s]+r["xs"+(s+1)];r.t[r.p]=i}}else r.t[r.p]=e+r.xs0;else r.t[r.p]=r.e;else r.setRatio(t);r=r._next}},c._enableTransforms=function(t){this._transform=this._transform||Xt(this._target,n,!0),this._transformType=this._transform.svg&&St||!t&&3!==this._transformType?2:3};var te=function(t){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};c._addLazySet=function(t,e,i){var s=this._firstPT=new bt(t,e,0,0,this._firstPT,2);s.e=i,s.setRatio=te,s.data=this},c._linkCSSP=function(t,e,i,s){return t&&(e&&(e._prev=t),t._next&&(t._next._prev=t._prev),t._prev?t._prev._next=t._next:this._firstPT===t&&(this._firstPT=t._next,s=!0),i?i._next=t:s||null!==this._firstPT||(this._firstPT=t),t._next=e,t._prev=i),t},c._mod=function(t){for(var e=this._firstPT;e;)"function"==typeof t[e.p]&&t[e.p]===Math.round&&(e.r=1),e=e._next},c._kill=function(e){var i,s,r,n=e;if(e.autoAlpha||e.alpha){for(s in n={},e)n[s]=e[s];n.opacity=1,n.autoAlpha&&(n.visibility=1)}for(e.className&&(i=this._classNamePT)&&((r=i.xfirst)&&r._prev?this._linkCSSP(r._prev,i._next,r._prev._prev):r===this._firstPT&&(this._firstPT=i._next),i._next&&this._linkCSSP(i._next,i._next._next,r._prev),this._classNamePT=null),i=this._firstPT;i;)i.plugin&&i.plugin!==s&&i.plugin._kill&&(i.plugin._kill(e),s=i.plugin),i=i._next;return t.prototype._kill.call(this,n)};var ee=function(t,e,i){var s,r,n,a;if(t.slice)for(r=t.length;--r>-1;)ee(t[r],e,i);else for(r=(s=t.childNodes).length;--r>-1;)a=(n=s[r]).type,n.style&&(e.push(st(n)),i&&i.push(n)),1!==a&&9!==a&&11!==a||!n.childNodes.length||ee(n,e,i)};return o.cascadeTo=function(t,i,s){var r,n,a,o,h=e.to(t,i,s),l=[h],c=[],p=[],u=[],f=e._internals.reservedProps;for(t=h._targets||h.target,ee(t,c,u),h.render(i,!0,!0),ee(t,p),h.render(0,!0,!0),h._enabled(!0),r=u.length;--r>-1;)if((n=rt(u[r],c[r],p[r])).firstMPT){for(a in n=n.difs,s)f[a]&&(n[a]=s[a]);for(a in o={},n)o[a]=c[r][a];l.push(e.fromTo(u[r],i,o,n))}return l},t.activate([o]),o},!0),function(){var t=function(t){for(;t;)t.f||t.blob||(t.m=Math.round),t=t._next},e=i._gsDefine.plugin({propName:"roundProps",version:"1.6.0",priority:-1,API:2,init:function(t,e,i){return this._tween=i,!0}}).prototype;e._onInitAllProps=function(){for(var e,i,s,r=this._tween,n=r.vars.roundProps.join?r.vars.roundProps:r.vars.roundProps.split(","),a=n.length,o={},h=r._propLookup.roundProps;--a>-1;)o[n[a]]=Math.round;for(a=n.length;--a>-1;)for(e=n[a],i=r._firstPT;i;)s=i._next,i.pg?i.t._mod(o):i.n===e&&(2===i.f&&i.t?t(i.t._firstPT):(this._add(i.t,e,i.s,i.c),s&&(s._prev=i._prev),i._prev?i._prev._next=s:r._firstPT===i&&(r._firstPT=s),i._next=i._prev=null,r._propLookup[e]=h)),i=s;return!1},e._add=function(t,e,i,s){this._addTween(t,e,i,i+s,e,Math.round),this._overwriteProps.push(e)}}(),i._gsDefine.plugin({propName:"attr",API:2,version:"0.6.1",init:function(t,e,i,s){var r,n;if("function"!=typeof t.setAttribute)return!1;for(r in e)"function"==typeof(n=e[r])&&(n=n(s,t)),this._addTween(t,"setAttribute",t.getAttribute(r)+"",n+"",r,!1,r),this._overwriteProps.push(r);return!0}}),i._gsDefine.plugin({propName:"directionalRotation",version:"0.3.1",API:2,init:function(t,e,i,s){"object"!=typeof e&&(e={rotation:e}),this.finals={};var r,n,a,o,h,l,c=!0===e.useRadians?2*Math.PI:360;for(r in e)"useRadians"!==r&&("function"==typeof(o=e[r])&&(o=o(s,t)),n=(l=(o+"").split("_"))[0],a=parseFloat("function"!=typeof t[r]?t[r]:t[r.indexOf("set")||"function"!=typeof t["get"+r.substr(3)]?r:"get"+r.substr(3)]()),h=(o=this.finals[r]="string"==typeof n&&"="===n.charAt(1)?a+parseInt(n.charAt(0)+"1",10)*Number(n.substr(2)):Number(n)||0)-a,l.length&&(-1!==(n=l.join("_")).indexOf("short")&&(h%=c)!==h%(c/2)&&(h=h<0?h+c:h-c),-1!==n.indexOf("_cw")&&h<0?h=(h+9999999999*c)%c-(h/c|0)*c:-1!==n.indexOf("ccw")&&h>0&&(h=(h-9999999999*c)%c-(h/c|0)*c)),(h>1e-6||h<-1e-6)&&(this._addTween(t,r,a,a+h,r),this._overwriteProps.push(r)));return!0},set:function(t){var e;if(1!==t)this._super.setRatio.call(this,t);else for(e=this._firstPT;e;)e.f?e.t[e.p](this.finals[e.p]):e.t[e.p]=this.finals[e.p],e=e._next}})._autoCSS=!0,i._gsDefine("easing.Back",["easing.Ease"],function(t){var e,s,r,n,a=i.GreenSockGlobals||i,o=a.com.greensock,h=2*Math.PI,l=Math.PI/2,c=o._class,p=function(e,i){var s=c("easing."+e,function(){},!0),r=s.prototype=new t;return r.constructor=s,r.getRatio=i,s},u=t.register||function(){},f=function(t,e,i,s,r){var n=c("easing."+t,{easeOut:new e,easeIn:new i,easeInOut:new s},!0);return u(n,t),n},d=function(t,e,i){this.t=t,this.v=e,i&&(this.next=i,i.prev=this,this.c=i.v-e,this.gap=i.t-t)},m=function(e,i){var s=c("easing."+e,function(t){this._p1=t||0===t?t:1.70158,this._p2=1.525*this._p1},!0),r=s.prototype=new t;return r.constructor=s,r.getRatio=i,r.config=function(t){return new s(t)},s},y=f("Back",m("BackOut",function(t){return(t-=1)*t*((this._p1+1)*t+this._p1)+1}),m("BackIn",function(t){return t*t*((this._p1+1)*t-this._p1)}),m("BackInOut",function(t){return(t*=2)<1?.5*t*t*((this._p2+1)*t-this._p2):.5*((t-=2)*t*((this._p2+1)*t+this._p2)+2)})),v=c("easing.SlowMo",function(t,e,i){e=e||0===e?e:.7,null==t?t=.7:t>1&&(t=1),this._p=1!==t?e:0,this._p1=(1-t)/2,this._p2=t,this._p3=this._p1+this._p2,this._calcEnd=!0===i},!0),g=v.prototype=new t;return g.constructor=v,g.getRatio=function(t){var e=t+(.5-t)*this._p;return t<this._p1?this._calcEnd?1-(t=1-t/this._p1)*t:e-(t=1-t/this._p1)*t*t*t*e:t>this._p3?this._calcEnd?1===t?0:1-(t=(t-this._p3)/this._p1)*t:e+(t-e)*(t=(t-this._p3)/this._p1)*t*t*t:this._calcEnd?1:e},v.ease=new v(.7,.7),g.config=v.config=function(t,e,i){return new v(t,e,i)},(g=(e=c("easing.SteppedEase",function(t,e){t=t||1,this._p1=1/t,this._p2=t+(e?0:1),this._p3=e?1:0},!0)).prototype=new t).constructor=e,g.getRatio=function(t){return t<0?t=0:t>=1&&(t=.999999999),((this._p2*t|0)+this._p3)*this._p1},g.config=e.config=function(t,i){return new e(t,i)},(g=(s=c("easing.ExpoScaleEase",function(t,e,i){this._p1=Math.log(e/t),this._p2=e-t,this._p3=t,this._ease=i},!0)).prototype=new t).constructor=s,g.getRatio=function(t){return this._ease&&(t=this._ease.getRatio(t)),(this._p3*Math.exp(this._p1*t)-this._p3)/this._p2},g.config=s.config=function(t,e,i){return new s(t,e,i)},(g=(r=c("easing.RoughEase",function(e){for(var i,s,r,n,a,o,h=(e=e||{}).taper||"none",l=[],c=0,p=0|(e.points||20),u=p,f=!1!==e.randomize,m=!0===e.clamp,y=e.template instanceof t?e.template:null,v="number"==typeof e.strength?.4*e.strength:.4;--u>-1;)i=f?Math.random():1/p*u,s=y?y.getRatio(i):i,r="none"===h?v:"out"===h?(n=1-i)*n*v:"in"===h?i*i*v:i<.5?(n=2*i)*n*.5*v:(n=2*(1-i))*n*.5*v,f?s+=Math.random()*r-.5*r:u%2?s+=.5*r:s-=.5*r,m&&(s>1?s=1:s<0&&(s=0)),l[c++]={x:i,y:s};for(l.sort(function(t,e){return t.x-e.x}),o=new d(1,1,null),u=p;--u>-1;)a=l[u],o=new d(a.x,a.y,o);this._prev=new d(0,0,0!==o.t?o:o.next)},!0)).prototype=new t).constructor=r,g.getRatio=function(t){var e=this._prev;if(t>e.t){for(;e.next&&t>=e.t;)e=e.next;e=e.prev}else for(;e.prev&&t<=e.t;)e=e.prev;return this._prev=e,e.v+(t-e.t)/e.gap*e.c},g.config=function(t){return new r(t)},r.ease=new r,f("Bounce",p("BounceOut",function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}),p("BounceIn",function(t){return(t=1-t)<1/2.75?1-7.5625*t*t:t<2/2.75?1-(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)}),p("BounceInOut",function(t){var e=t<.5;return(t=e?1-2*t:2*t-1)<1/2.75?t*=7.5625*t:t=t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,e?.5*(1-t):.5*t+.5})),f("Circ",p("CircOut",function(t){return Math.sqrt(1-(t-=1)*t)}),p("CircIn",function(t){return-(Math.sqrt(1-t*t)-1)}),p("CircInOut",function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)})),f("Elastic",(n=function(e,i,s){var r=c("easing."+e,function(t,e){this._p1=t>=1?t:1,this._p2=(e||s)/(t<1?t:1),this._p3=this._p2/h*(Math.asin(1/this._p1)||0),this._p2=h/this._p2},!0),n=r.prototype=new t;return n.constructor=r,n.getRatio=i,n.config=function(t,e){return new r(t,e)},r})("ElasticOut",function(t){return this._p1*Math.pow(2,-10*t)*Math.sin((t-this._p3)*this._p2)+1},.3),n("ElasticIn",function(t){return-this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2)},.3),n("ElasticInOut",function(t){return(t*=2)<1?this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2)*-.5:this._p1*Math.pow(2,-10*(t-=1))*Math.sin((t-this._p3)*this._p2)*.5+1},.45)),f("Expo",p("ExpoOut",function(t){return 1-Math.pow(2,-10*t)}),p("ExpoIn",function(t){return Math.pow(2,10*(t-1))-.001}),p("ExpoInOut",function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))})),f("Sine",p("SineOut",function(t){return Math.sin(t*l)}),p("SineIn",function(t){return 1-Math.cos(t*l)}),p("SineInOut",function(t){return-.5*(Math.cos(Math.PI*t)-1)})),c("easing.EaseLookup",{find:function(e){return t.map[e]}},!0),u(a.SlowMo,"SlowMo","ease,"),u(r,"RoughEase","ease,"),u(e,"SteppedEase","ease,"),y},!0)}),i._gsDefine&&i._gsQueue.pop()(),function(e,i){"use strict";var s={},r=e.document,n=e.GreenSockGlobals=e.GreenSockGlobals||e;if(!n.TweenLite){var a,o,h,l,c,p,u,f=function(t){var e,i=t.split("."),s=n;for(e=0;e<i.length;e++)s[i[e]]=s=s[i[e]]||{};return s},d=f("com.greensock"),m=function(t){var e,i=[],s=t.length;for(e=0;e!==s;i.push(t[e++]));return i},y=function(){},v=(p=Object.prototype.toString,u=p.call([]),function(t){return null!=t&&(t instanceof Array||"object"==typeof t&&!!t.push&&p.call(t)===u)}),g={},_=function(i,r,a,o){this.sc=g[i]?g[i].sc:[],g[i]=this,this.gsClass=null,this.func=a;var h=[];this.check=function(l){for(var c,p,u,d,m=r.length,y=m;--m>-1;)(c=g[r[m]]||new _(r[m],[])).gsClass?(h[m]=c.gsClass,y--):l&&c.sc.push(this);if(0===y&&a){if(u=(p=("com.greensock."+i).split(".")).pop(),d=f(p.join("."))[u]=this.gsClass=a.apply(a,h),o)if(n[u]=s[u]=d,void 0!==t&&t.exports)if("TweenMax"===i)for(m in t.exports=s.TweenMax=d,s)d[m]=s[m];else s.TweenMax&&(s.TweenMax[u]=d);else"function"==typeof define&&define.amd&&define((e.GreenSockAMDPath?e.GreenSockAMDPath+"/":"")+i.split(".").pop(),[],function(){return d});for(m=0;m<this.sc.length;m++)this.sc[m].check()}},this.check(!0)},b=e._gsDefine=function(t,e,i,s){return new _(t,e,i,s)},x=d._class=function(t,e,i){return e=e||function(){},b(t,[],function(){return e},i),e};b.globals=n;var w=[0,0,1,1],k=x("easing.Ease",function(t,e,i,s){this._func=t,this._type=i||0,this._power=s||0,this._params=e?w.concat(e):w},!0),P=k.map={},T=k.register=function(t,e,i,s){for(var r,n,a,o,h=e.split(","),l=h.length,c=(i||"easeIn,easeOut,easeInOut").split(",");--l>-1;)for(n=h[l],r=s?x("easing."+n,null,!0):d.easing[n]||{},a=c.length;--a>-1;)o=c[a],P[n+"."+o]=P[o+n]=r[o]=t.getRatio?t:t[o]||new t};for((h=k.prototype)._calcEnd=!1,h.getRatio=function(t){if(this._func)return this._params[0]=t,this._func.apply(null,this._params);var e=this._type,i=this._power,s=1===e?1-t:2===e?t:t<.5?2*t:2*(1-t);return 1===i?s*=s:2===i?s*=s*s:3===i?s*=s*s*s:4===i&&(s*=s*s*s*s),1===e?1-s:2===e?s:t<.5?s/2:1-s/2},o=(a=["Linear","Quad","Cubic","Quart","Quint,Strong"]).length;--o>-1;)h=a[o]+",Power"+o,T(new k(null,null,1,o),h,"easeOut",!0),T(new k(null,null,2,o),h,"easeIn"+(0===o?",easeNone":"")),T(new k(null,null,3,o),h,"easeInOut");P.linear=d.easing.Linear.easeIn,P.swing=d.easing.Quad.easeInOut;var E=x("events.EventDispatcher",function(t){this._listeners={},this._eventTarget=t||this});(h=E.prototype).addEventListener=function(t,e,i,s,r){r=r||0;var n,a,o=this._listeners[t],h=0;for(this!==l||c||l.wake(),null==o&&(this._listeners[t]=o=[]),a=o.length;--a>-1;)(n=o[a]).c===e&&n.s===i?o.splice(a,1):0===h&&n.pr<r&&(h=a+1);o.splice(h,0,{c:e,s:i,up:s,pr:r})},h.removeEventListener=function(t,e){var i,s=this._listeners[t];if(s)for(i=s.length;--i>-1;)if(s[i].c===e)return void s.splice(i,1)},h.dispatchEvent=function(t){var e,i,s,r=this._listeners[t];if(r)for((e=r.length)>1&&(r=r.slice(0)),i=this._eventTarget;--e>-1;)(s=r[e])&&(s.up?s.c.call(s.s||i,{type:t,target:i}):s.c.call(s.s||i))};var S=e.requestAnimationFrame,A=e.cancelAnimationFrame,C=Date.now||function(){return(new Date).getTime()},M=C();for(o=(a=["ms","moz","webkit","o"]).length;--o>-1&&!S;)S=e[a[o]+"RequestAnimationFrame"],A=e[a[o]+"CancelAnimationFrame"]||e[a[o]+"CancelRequestAnimationFrame"];x("Ticker",function(t,e){var i,s,n,a,o,h=this,p=C(),u=!(!1===e||!S)&&"auto",f=500,d=33,m=function(t){var e,r,l=C()-M;l>f&&(p+=l-d),M+=l,h.time=(M-p)/1e3,e=h.time-o,(!i||e>0||!0===t)&&(h.frame++,o+=e+(e>=a?.004:a-e),r=!0),!0!==t&&(n=s(m)),r&&h.dispatchEvent("tick")};E.call(h),h.time=h.frame=0,h.tick=function(){m(!0)},h.lagSmoothing=function(t,e){if(!arguments.length)return f<1e10;f=t||1e10,d=Math.min(e,f,0)},h.sleep=function(){null!=n&&(u&&A?A(n):clearTimeout(n),s=y,n=null,h===l&&(c=!1))},h.wake=function(t){null!==n?h.sleep():t?p+=-M+(M=C()):h.frame>10&&(M=C()-f+5),s=0===i?y:u&&S?S:function(t){return setTimeout(t,1e3*(o-h.time)+1|0)},h===l&&(c=!0),m(2)},h.fps=function(t){if(!arguments.length)return i;a=1/((i=t)||60),o=this.time+a,h.wake()},h.useRAF=function(t){if(!arguments.length)return u;h.sleep(),u=t,h.fps(i)},h.fps(t),setTimeout(function(){"auto"===u&&h.frame<5&&"hidden"!==(r||{}).visibilityState&&h.useRAF(!1)},1500)}),(h=d.Ticker.prototype=new d.events.EventDispatcher).constructor=d.Ticker;var N=x("core.Animation",function(t,e){if(this.vars=e=e||{},this._duration=this._totalDuration=t||0,this._delay=Number(e.delay)||0,this._timeScale=1,this._active=!0===e.immediateRender,this.data=e.data,this._reversed=!0===e.reversed,Z){c||l.wake();var i=this.vars.useFrames?Y:Z;i.add(this,i._time),this.vars.paused&&this.paused(!0)}});l=N.ticker=new d.Ticker,(h=N.prototype)._dirty=h._gc=h._initted=h._paused=!1,h._totalTime=h._time=0,h._rawPrevTime=-1,h._next=h._last=h._onUpdate=h._timeline=h.timeline=null,h._paused=!1;var I=function(){c&&C()-M>2e3&&("hidden"!==(r||{}).visibilityState||!l.lagSmoothing())&&l.wake();var t=setTimeout(I,2e3);t.unref&&t.unref()};I(),h.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},h.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},h.resume=function(t,e){return null!=t&&this.seek(t,e),this.paused(!1)},h.seek=function(t,e){return this.totalTime(Number(t),!1!==e)},h.restart=function(t,e){return this.reversed(!1).paused(!1).totalTime(t?-this._delay:0,!1!==e,!0)},h.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},h.render=function(t,e,i){},h.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,!this._gc&&this.timeline||this._enabled(!0),this},h.isActive=function(){var t,e=this._timeline,i=this._startTime;return!e||!this._gc&&!this._paused&&e.isActive()&&(t=e.rawTime(!0))>=i&&t<i+this.totalDuration()/this._timeScale-1e-7},h._enabled=function(t,e){return c||l.wake(),this._gc=!t,this._active=this.isActive(),!0!==e&&(t&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!t&&this.timeline&&this._timeline._remove(this,!0)),!1},h._kill=function(t,e){return this._enabled(!1,!1)},h.kill=function(t,e){return this._kill(t,e),this},h._uncache=function(t){for(var e=t?this:this.timeline;e;)e._dirty=!0,e=e.timeline;return this},h._swapSelfInParams=function(t){for(var e=t.length,i=t.concat();--e>-1;)"{self}"===t[e]&&(i[e]=this);return i},h._callback=function(t){var e=this.vars,i=e[t],s=e[t+"Params"],r=e[t+"Scope"]||e.callbackScope||this;switch(s?s.length:0){case 0:i.call(r);break;case 1:i.call(r,s[0]);break;case 2:i.call(r,s[0],s[1]);break;default:i.apply(r,s)}},h.eventCallback=function(t,e,i,s){if("on"===(t||"").substr(0,2)){var r=this.vars;if(1===arguments.length)return r[t];null==e?delete r[t]:(r[t]=e,r[t+"Params"]=v(i)&&-1!==i.join("").indexOf("{self}")?this._swapSelfInParams(i):i,r[t+"Scope"]=s),"onUpdate"===t&&(this._onUpdate=e)}return this},h.delay=function(t){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+t-this._delay),this._delay=t,this):this._delay},h.duration=function(t){return arguments.length?(this._duration=this._totalDuration=t,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==t&&this.totalTime(this._totalTime*(t/this._duration),!0),this):(this._dirty=!1,this._duration)},h.totalDuration=function(t){return this._dirty=!1,arguments.length?this.duration(t):this._totalDuration},h.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(t>this._duration?this._duration:t,e)):this._time},h.totalTime=function(t,e,i){if(c||l.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(t<0&&!i&&(t+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var s=this._totalDuration,r=this._timeline;if(t>s&&!i&&(t=s),this._startTime=(this._paused?this._pauseTime:r._time)-(this._reversed?s-t:t)/this._timeScale,r._dirty||this._uncache(!1),r._timeline)for(;r._timeline;)r._timeline._time!==(r._startTime+r._totalTime)/r._timeScale&&r.totalTime(r._totalTime,!0),r=r._timeline}this._gc&&this._enabled(!0,!1),this._totalTime===t&&0!==this._duration||(F.length&&K(),this.render(t,e,!1),F.length&&K())}return this},h.progress=h.totalProgress=function(t,e){var i=this.duration();return arguments.length?this.totalTime(i*t,e):i?this._time/i:this.ratio},h.startTime=function(t){return arguments.length?(t!==this._startTime&&(this._startTime=t,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,t-this._delay)),this):this._startTime},h.endTime=function(t){return this._startTime+(0!=t?this.totalDuration():this.duration())/this._timeScale},h.timeScale=function(t){if(!arguments.length)return this._timeScale;var e,i;for(t=t||1e-10,this._timeline&&this._timeline.smoothChildTiming&&(i=(e=this._pauseTime)||0===e?e:this._timeline.totalTime(),this._startTime=i-(i-this._startTime)*this._timeScale/t),this._timeScale=t,i=this.timeline;i&&i.timeline;)i._dirty=!0,i.totalDuration(),i=i.timeline;return this},h.reversed=function(t){return arguments.length?(t!=this._reversed&&(this._reversed=t,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},h.paused=function(t){if(!arguments.length)return this._paused;var e,i,s=this._timeline;return t!=this._paused&&s&&(c||t||l.wake(),i=(e=s.rawTime())-this._pauseTime,!t&&s.smoothChildTiming&&(this._startTime+=i,this._uncache(!1)),this._pauseTime=t?e:null,this._paused=t,this._active=this.isActive(),!t&&0!==i&&this._initted&&this.duration()&&(e=s.smoothChildTiming?this._totalTime:(e-this._startTime)/this._timeScale,this.render(e,e===this._totalTime,!0))),this._gc&&!t&&this._enabled(!0,!1),this};var D=x("core.SimpleTimeline",function(t){N.call(this,0,t),this.autoRemoveChildren=this.smoothChildTiming=!0});(h=D.prototype=new N).constructor=D,h.kill()._gc=!1,h._first=h._last=h._recent=null,h._sortChildren=!1,h.add=h.insert=function(t,e,i,s){var r,n;if(t._startTime=Number(e||0)+t._delay,t._paused&&this!==t._timeline&&(t._pauseTime=t._startTime+(this.rawTime()-t._startTime)/t._timeScale),t.timeline&&t.timeline._remove(t,!0),t.timeline=t._timeline=this,t._gc&&t._enabled(!0,!0),r=this._last,this._sortChildren)for(n=t._startTime;r&&r._startTime>n;)r=r._prev;return r?(t._next=r._next,r._next=t):(t._next=this._first,this._first=t),t._next?t._next._prev=t:this._last=t,t._prev=r,this._recent=t,this._timeline&&this._uncache(!0),this},h._remove=function(t,e){return t.timeline===this&&(e||t._enabled(!1,!0),t._prev?t._prev._next=t._next:this._first===t&&(this._first=t._next),t._next?t._next._prev=t._prev:this._last===t&&(this._last=t._prev),t._next=t._prev=t.timeline=null,t===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},h.render=function(t,e,i){var s,r=this._first;for(this._totalTime=this._time=this._rawPrevTime=t;r;)s=r._next,(r._active||t>=r._startTime&&!r._paused&&!r._gc)&&(r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(t-r._startTime)*r._timeScale,e,i):r.render((t-r._startTime)*r._timeScale,e,i)),r=s},h.rawTime=function(){return c||l.wake(),this._totalTime};var z=x("TweenLite",function(t,i,s){if(N.call(this,i,s),this.render=z.prototype.render,null==t)throw"Cannot tween a null target.";this.target=t="string"!=typeof t?t:z.selector(t)||t;var r,n,a,o=t.jquery||t.length&&t!==e&&t[0]&&(t[0]===e||t[0].nodeType&&t[0].style&&!t.nodeType),h=this.vars.overwrite;if(this._overwrite=h=null==h?W[z.defaultOverwrite]:"number"==typeof h?h>>0:W[h],(o||t instanceof Array||t.push&&v(t))&&"number"!=typeof t[0])for(this._targets=a=m(t),this._propLookup=[],this._siblings=[],r=0;r<a.length;r++)(n=a[r])?"string"!=typeof n?n.length&&n!==e&&n[0]&&(n[0]===e||n[0].nodeType&&n[0].style&&!n.nodeType)?(a.splice(r--,1),this._targets=a=a.concat(m(n))):(this._siblings[r]=Q(n,this,!1),1===h&&this._siblings[r].length>1&&et(n,this,null,1,this._siblings[r])):"string"==typeof(n=a[r--]=z.selector(n))&&a.splice(r+1,1):a.splice(r--,1);else this._propLookup={},this._siblings=Q(t,this,!1),1===h&&this._siblings.length>1&&et(t,this,null,1,this._siblings);(this.vars.immediateRender||0===i&&0===this._delay&&!1!==this.vars.immediateRender)&&(this._time=-1e-10,this.render(Math.min(0,-this._delay)))},!0),O=function(t){return t&&t.length&&t!==e&&t[0]&&(t[0]===e||t[0].nodeType&&t[0].style&&!t.nodeType)};(h=z.prototype=new N).constructor=z,h.kill()._gc=!1,h.ratio=0,h._firstPT=h._targets=h._overwrittenProps=h._startAt=null,h._notifyPluginsOfEnabled=h._lazy=!1,z.version="1.20.4",z.defaultEase=h._ease=new k(null,null,1,1),z.defaultOverwrite="auto",z.ticker=l,z.autoSleep=120,z.lagSmoothing=function(t,e){l.lagSmoothing(t,e)},z.selector=e.$||e.jQuery||function(t){var i=e.$||e.jQuery;return i?(z.selector=i,i(t)):void 0===r?t:r.querySelectorAll?r.querySelectorAll(t):r.getElementById("#"===t.charAt(0)?t.substr(1):t)};var F=[],L={},V=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,R=/[\+-]=-?[\.\d]/,j=function(t){for(var e,i=this._firstPT;i;)e=i.blob?1===t&&null!=this.end?this.end:t?this.join(""):this.start:i.c*t+i.s,i.m?e=i.m(e,this._target||i.t):e<1e-6&&e>-1e-6&&!i.blob&&(e=0),i.f?i.fp?i.t[i.p](i.fp,e):i.t[i.p](e):i.t[i.p]=e,i=i._next},B=function(t,e,i,s){var r,n,a,o,h,l,c,p=[],u=0,f="",d=0;for(p.start=t,p.end=e,t=p[0]=t+"",e=p[1]=e+"",i&&(i(p),t=p[0],e=p[1]),p.length=0,r=t.match(V)||[],n=e.match(V)||[],s&&(s._next=null,s.blob=1,p._firstPT=p._applyPT=s),h=n.length,o=0;o<h;o++)c=n[o],f+=(l=e.substr(u,e.indexOf(c,u)-u))||!o?l:",",u+=l.length,d?d=(d+1)%5:"rgba("===l.substr(-5)&&(d=1),c===r[o]||r.length<=o?f+=c:(f&&(p.push(f),f=""),a=parseFloat(r[o]),p.push(a),p._firstPT={_next:p._firstPT,t:p,p:p.length-1,s:a,c:("="===c.charAt(1)?parseInt(c.charAt(0)+"1",10)*parseFloat(c.substr(2)):parseFloat(c)-a)||0,f:0,m:d&&d<4?Math.round:0}),u+=c.length;return(f+=e.substr(u))&&p.push(f),p.setRatio=j,R.test(e)&&(p.end=null),p},H=function(t,e,i,s,r,n,a,o,h){"function"==typeof s&&(s=s(h||0,t));var l=typeof t[e],c="function"!==l?"":e.indexOf("set")||"function"!=typeof t["get"+e.substr(3)]?e:"get"+e.substr(3),p="get"!==i?i:c?a?t[c](a):t[c]():t[e],u="string"==typeof s&&"="===s.charAt(1),f={t:t,p:e,s:p,f:"function"===l,pg:0,n:r||e,m:n?"function"==typeof n?n:Math.round:0,pr:0,c:u?parseInt(s.charAt(0)+"1",10)*parseFloat(s.substr(2)):parseFloat(s)-p||0};if(("number"!=typeof p||"number"!=typeof s&&!u)&&(a||isNaN(p)||!u&&isNaN(s)||"boolean"==typeof p||"boolean"==typeof s?(f.fp=a,f={t:B(p,u?parseFloat(f.s)+f.c+(f.s+"").replace(/[0-9\-\.]/g,""):s,o||z.defaultStringFilter,f),p:"setRatio",s:0,c:1,f:2,pg:0,n:r||e,pr:0,m:0}):(f.s=parseFloat(p),u||(f.c=parseFloat(s)-f.s||0))),f.c)return(f._next=this._firstPT)&&(f._next._prev=f),this._firstPT=f,f},$=z._internals={isArray:v,isSelector:O,lazyTweens:F,blobDif:B},G=z._plugins={},U=$.tweenLookup={},q=0,X=$.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1,yoyoEase:1},W={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},Y=N._rootFramesTimeline=new D,Z=N._rootTimeline=new D,J=30,K=$.lazyRender=function(){var t,e=F.length;for(L={};--e>-1;)(t=F[e])&&!1!==t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0),t._lazy=!1);F.length=0};Z._startTime=l.time,Y._startTime=l.frame,Z._active=Y._active=!0,setTimeout(K,1),N._updateRoot=z.render=function(){var t,e,i;if(F.length&&K(),Z.render((l.time-Z._startTime)*Z._timeScale,!1,!1),Y.render((l.frame-Y._startTime)*Y._timeScale,!1,!1),F.length&&K(),l.frame>=J){for(i in J=l.frame+(parseInt(z.autoSleep,10)||120),U){for(t=(e=U[i].tweens).length;--t>-1;)e[t]._gc&&e.splice(t,1);0===e.length&&delete U[i]}if((!(i=Z._first)||i._paused)&&z.autoSleep&&!Y._first&&1===l._listeners.tick.length){for(;i&&i._paused;)i=i._next;i||l.sleep()}}},l.addEventListener("tick",N._updateRoot);var Q=function(t,e,i){var s,r,n=t._gsTweenID;if(U[n||(t._gsTweenID=n="t"+q++)]||(U[n]={target:t,tweens:[]}),e&&((s=U[n].tweens)[r=s.length]=e,i))for(;--r>-1;)s[r]===e&&s.splice(r,1);return U[n].tweens},tt=function(t,e,i,s){var r,n,a=t.vars.onOverwrite;return a&&(r=a(t,e,i,s)),(a=z.onOverwrite)&&(n=a(t,e,i,s)),!1!==r&&!1!==n},et=function(t,e,i,s,r){var n,a,o,h;if(1===s||s>=4){for(h=r.length,n=0;n<h;n++)if((o=r[n])!==e)o._gc||o._kill(null,t,e)&&(a=!0);else if(5===s)break;return a}var l,c=e._startTime+1e-10,p=[],u=0,f=0===e._duration;for(n=r.length;--n>-1;)(o=r[n])===e||o._gc||o._paused||(o._timeline!==e._timeline?(l=l||it(e,0,f),0===it(o,l,f)&&(p[u++]=o)):o._startTime<=c&&o._startTime+o.totalDuration()/o._timeScale>c&&((f||!o._initted)&&c-o._startTime<=2e-10||(p[u++]=o)));for(n=u;--n>-1;)if(o=p[n],2===s&&o._kill(i,t,e)&&(a=!0),2!==s||!o._firstPT&&o._initted){if(2!==s&&!tt(o,e))continue;o._enabled(!1,!1)&&(a=!0)}return a},it=function(t,e,i){for(var s=t._timeline,r=s._timeScale,n=t._startTime;s._timeline;){if(n+=s._startTime,r*=s._timeScale,s._paused)return-100;s=s._timeline}return(n/=r)>e?n-e:i&&n===e||!t._initted&&n-e<2e-10?1e-10:(n+=t.totalDuration()/t._timeScale/r)>e+1e-10?0:n-e-1e-10};h._init=function(){var t,e,i,s,r,n,a=this.vars,o=this._overwrittenProps,h=this._duration,l=!!a.immediateRender,c=a.ease;if(a.startAt){for(s in this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),r={},a.startAt)r[s]=a.startAt[s];if(r.data="isStart",r.overwrite=!1,r.immediateRender=!0,r.lazy=l&&!1!==a.lazy,r.startAt=r.delay=null,r.onUpdate=a.onUpdate,r.onUpdateParams=a.onUpdateParams,r.onUpdateScope=a.onUpdateScope||a.callbackScope||this,this._startAt=z.to(this.target,0,r),l)if(this._time>0)this._startAt=null;else if(0!==h)return}else if(a.runBackwards&&0!==h)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{for(s in 0!==this._time&&(l=!1),i={},a)X[s]&&"autoCSS"!==s||(i[s]=a[s]);if(i.overwrite=0,i.data="isFromStart",i.lazy=l&&!1!==a.lazy,i.immediateRender=l,this._startAt=z.to(this.target,0,i),l){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=c=c?c instanceof k?c:"function"==typeof c?new k(c,a.easeParams):P[c]||z.defaultEase:z.defaultEase,a.easeParams instanceof Array&&c.config&&(this._ease=c.config.apply(c,a.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(n=this._targets.length,t=0;t<n;t++)this._initProps(this._targets[t],this._propLookup[t]={},this._siblings[t],o?o[t]:null,t)&&(e=!0);else e=this._initProps(this.target,this._propLookup,this._siblings,o,0);if(e&&z._onPluginEvent("_onInitAllProps",this),o&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),a.runBackwards)for(i=this._firstPT;i;)i.s+=i.c,i.c=-i.c,i=i._next;this._onUpdate=a.onUpdate,this._initted=!0},h._initProps=function(t,i,s,r,n){var a,o,h,l,c,p;if(null==t)return!1;for(a in L[t._gsTweenID]&&K(),this.vars.css||t.style&&t!==e&&t.nodeType&&G.css&&!1!==this.vars.autoCSS&&function(t,e){var i,s={};for(i in t)X[i]||i in e&&"transform"!==i&&"x"!==i&&"y"!==i&&"width"!==i&&"height"!==i&&"className"!==i&&"border"!==i||!(!G[i]||G[i]&&G[i]._autoCSS)||(s[i]=t[i],delete t[i]);t.css=s}(this.vars,t),this.vars)if(p=this.vars[a],X[a])p&&(p instanceof Array||p.push&&v(p))&&-1!==p.join("").indexOf("{self}")&&(this.vars[a]=p=this._swapSelfInParams(p,this));else if(G[a]&&(l=new G[a])._onInitTween(t,this.vars[a],this,n)){for(this._firstPT=c={_next:this._firstPT,t:l,p:"setRatio",s:0,c:1,f:1,n:a,pg:1,pr:l._priority,m:0},o=l._overwriteProps.length;--o>-1;)i[l._overwriteProps[o]]=this._firstPT;(l._priority||l._onInitAllProps)&&(h=!0),(l._onDisable||l._onEnable)&&(this._notifyPluginsOfEnabled=!0),c._next&&(c._next._prev=c)}else i[a]=H.call(this,t,a,"get",p,a,0,null,this.vars.stringFilter,n);return r&&this._kill(r,t)?this._initProps(t,i,s,r,n):this._overwrite>1&&this._firstPT&&s.length>1&&et(t,this,i,this._overwrite,s)?(this._kill(i,t),this._initProps(t,i,s,r,n)):(this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration)&&(L[t._gsTweenID]=!0),h)},h.render=function(t,e,i){var s,r,n,a,o=this._time,h=this._duration,l=this._rawPrevTime;if(t>=h-1e-7&&t>=0)this._totalTime=this._time=h,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(s=!0,r="onComplete",i=i||this._timeline.autoRemoveChildren),0===h&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(t=0),(l<0||t<=0&&t>=-1e-7||1e-10===l&&"isPause"!==this.data)&&l!==t&&(i=!0,l>1e-10&&(r="onReverseComplete")),this._rawPrevTime=a=!e||t||l===t?t:1e-10);else if(t<1e-7)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==o||0===h&&l>0)&&(r="onReverseComplete",s=this._reversed),t<0&&(this._active=!1,0===h&&(this._initted||!this.vars.lazy||i)&&(l>=0&&(1e-10!==l||"isPause"!==this.data)&&(i=!0),this._rawPrevTime=a=!e||t||l===t?t:1e-10)),(!this._initted||this._startAt&&this._startAt.progress())&&(i=!0);else if(this._totalTime=this._time=t,this._easeType){var c=t/h,p=this._easeType,u=this._easePower;(1===p||3===p&&c>=.5)&&(c=1-c),3===p&&(c*=2),1===u?c*=c:2===u?c*=c*c:3===u?c*=c*c*c:4===u&&(c*=c*c*c*c),this.ratio=1===p?1-c:2===p?c:t/h<.5?c/2:1-c/2}else this.ratio=this._ease.getRatio(t/h);if(this._time!==o||i){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=o,this._rawPrevTime=l,F.push(this),void(this._lazy=[t,e]);this._time&&!s?this.ratio=this._ease.getRatio(this._time/h):s&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==o&&t>=0&&(this._active=!0),0===o&&(this._startAt&&(t>=0?this._startAt.render(t,!0,i):r||(r="_dummyGS")),this.vars.onStart&&(0===this._time&&0!==h||e||this._callback("onStart"))),n=this._firstPT;n;)n.f?n.t[n.p](n.c*this.ratio+n.s):n.t[n.p]=n.c*this.ratio+n.s,n=n._next;this._onUpdate&&(t<0&&this._startAt&&-1e-4!==t&&this._startAt.render(t,!0,i),e||(this._time!==o||s||i)&&this._callback("onUpdate")),r&&(this._gc&&!i||(t<0&&this._startAt&&!this._onUpdate&&-1e-4!==t&&this._startAt.render(t,!0,i),s&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[r]&&this._callback(r),0===h&&1e-10===this._rawPrevTime&&1e-10!==a&&(this._rawPrevTime=0)))}},h._kill=function(t,e,i){if("all"===t&&(t=null),null==t&&(null==e||e===this.target))return this._lazy=!1,this._enabled(!1,!1);e="string"!=typeof e?e||this._targets||this.target:z.selector(e)||e;var s,r,n,a,o,h,l,c,p,u=i&&this._time&&i._startTime===this._startTime&&this._timeline===i._timeline;if((v(e)||O(e))&&"number"!=typeof e[0])for(s=e.length;--s>-1;)this._kill(t,e[s],i)&&(h=!0);else{if(this._targets){for(s=this._targets.length;--s>-1;)if(e===this._targets[s]){o=this._propLookup[s]||{},this._overwrittenProps=this._overwrittenProps||[],r=this._overwrittenProps[s]=t?this._overwrittenProps[s]||{}:"all";break}}else{if(e!==this.target)return!1;o=this._propLookup,r=this._overwrittenProps=t?this._overwrittenProps||{}:"all"}if(o){if(l=t||o,c=t!==r&&"all"!==r&&t!==o&&("object"!=typeof t||!t._tempKill),i&&(z.onOverwrite||this.vars.onOverwrite)){for(n in l)o[n]&&(p||(p=[]),p.push(n));if((p||!t)&&!tt(this,i,e,p))return!1}for(n in l)(a=o[n])&&(u&&(a.f?a.t[a.p](a.s):a.t[a.p]=a.s,h=!0),a.pg&&a.t._kill(l)&&(h=!0),a.pg&&0!==a.t._overwriteProps.length||(a._prev?a._prev._next=a._next:a===this._firstPT&&(this._firstPT=a._next),a._next&&(a._next._prev=a._prev),a._next=a._prev=null),delete o[n]),c&&(r[n]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return h},h.invalidate=function(){return this._notifyPluginsOfEnabled&&z._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],N.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-1e-10,this.render(Math.min(0,-this._delay))),this},h._enabled=function(t,e){if(c||l.wake(),t&&this._gc){var i,s=this._targets;if(s)for(i=s.length;--i>-1;)this._siblings[i]=Q(s[i],this,!0);else this._siblings=Q(this.target,this,!0)}return N.prototype._enabled.call(this,t,e),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&z._onPluginEvent(t?"_onEnable":"_onDisable",this)},z.to=function(t,e,i){return new z(t,e,i)},z.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new z(t,e,i)},z.fromTo=function(t,e,i,s){return s.startAt=i,s.immediateRender=0!=s.immediateRender&&0!=i.immediateRender,new z(t,e,s)},z.delayedCall=function(t,e,i,s,r){return new z(e,0,{delay:t,onComplete:e,onCompleteParams:i,callbackScope:s,onReverseComplete:e,onReverseCompleteParams:i,immediateRender:!1,lazy:!1,useFrames:r,overwrite:0})},z.set=function(t,e){return new z(t,0,e)},z.getTweensOf=function(t,e){if(null==t)return[];var i,s,r,n;if(t="string"!=typeof t?t:z.selector(t)||t,(v(t)||O(t))&&"number"!=typeof t[0]){for(i=t.length,s=[];--i>-1;)s=s.concat(z.getTweensOf(t[i],e));for(i=s.length;--i>-1;)for(n=s[i],r=i;--r>-1;)n===s[r]&&s.splice(i,1)}else if(t._gsTweenID)for(i=(s=Q(t).concat()).length;--i>-1;)(s[i]._gc||e&&!s[i].isActive())&&s.splice(i,1);return s||[]},z.killTweensOf=z.killDelayedCallsTo=function(t,e,i){"object"==typeof e&&(i=e,e=!1);for(var s=z.getTweensOf(t,e),r=s.length;--r>-1;)s[r]._kill(i,t)};var st=x("plugins.TweenPlugin",function(t,e){this._overwriteProps=(t||"").split(","),this._propName=this._overwriteProps[0],this._priority=e||0,this._super=st.prototype},!0);if(h=st.prototype,st.version="1.19.0",st.API=2,h._firstPT=null,h._addTween=H,h.setRatio=j,h._kill=function(t){var e,i=this._overwriteProps,s=this._firstPT;if(null!=t[this._propName])this._overwriteProps=[];else for(e=i.length;--e>-1;)null!=t[i[e]]&&i.splice(e,1);for(;s;)null!=t[s.n]&&(s._next&&(s._next._prev=s._prev),s._prev?(s._prev._next=s._next,s._prev=null):this._firstPT===s&&(this._firstPT=s._next)),s=s._next;return!1},h._mod=h._roundProps=function(t){for(var e,i=this._firstPT;i;)(e=t[this._propName]||null!=i.n&&t[i.n.split(this._propName+"_").join("")])&&"function"==typeof e&&(2===i.f?i.t._applyPT.m=e:i.m=e),i=i._next},z._onPluginEvent=function(t,e){var i,s,r,n,a,o=e._firstPT;if("_onInitAllProps"===t){for(;o;){for(a=o._next,s=r;s&&s.pr>o.pr;)s=s._next;(o._prev=s?s._prev:n)?o._prev._next=o:r=o,(o._next=s)?s._prev=o:n=o,o=a}o=e._firstPT=r}for(;o;)o.pg&&"function"==typeof o.t[t]&&o.t[t]()&&(i=!0),o=o._next;return i},st.activate=function(t){for(var e=t.length;--e>-1;)t[e].API===st.API&&(G[(new t[e])._propName]=t[e]);return!0},b.plugin=function(t){if(!(t&&t.propName&&t.init&&t.API))throw"illegal plugin definition.";var e,i=t.propName,s=t.priority||0,r=t.overwriteProps,n={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},a=x("plugins."+i.charAt(0).toUpperCase()+i.substr(1)+"Plugin",function(){st.call(this,i,s),this._overwriteProps=r||[]},!0===t.global),o=a.prototype=new st(i);for(e in o.constructor=a,a.API=t.API,n)"function"==typeof t[e]&&(o[n[e]]=t[e]);return a.version=t.version,st.activate([a]),a},a=e._gsQueue){for(o=0;o<a.length;o++)a[o]();for(h in g)g[h].func||e.console.log("GSAP encountered missing dependency: "+h)}c=!1}}(void 0!==t&&t.exports&&void 0!==e?e:this||window)}).call(e,i("DuR2"))},"+ZMJ":function(t,e,i){var s=i("lOnJ");t.exports=function(t,e,i){if(s(t),void 0===e)return t;switch(i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,s){return t.call(e,i,s)};case 3:return function(i,s,r){return t.call(e,i,s,r)}}return function(){return t.apply(e,arguments)}}},"/ocq":function(t,e,i){"use strict";
/**
  * vue-router v3.0.1
  * (c) 2017 Evan You
  * @license MIT
  */function s(t,e){0}function r(t){return Object.prototype.toString.call(t).indexOf("Error")>-1}var n={name:"router-view",functional:!0,props:{name:{type:String,default:"default"}},render:function(t,e){var i=e.props,s=e.children,r=e.parent,n=e.data;n.routerView=!0;for(var a=r.$createElement,o=i.name,h=r.$route,l=r._routerViewCache||(r._routerViewCache={}),c=0,p=!1;r&&r._routerRoot!==r;)r.$vnode&&r.$vnode.data.routerView&&c++,r._inactive&&(p=!0),r=r.$parent;if(n.routerViewDepth=c,p)return a(l[o],n,s);var u=h.matched[c];if(!u)return l[o]=null,a();var f=l[o]=u.components[o];n.registerRouteInstance=function(t,e){var i=u.instances[o];(e&&i!==t||!e&&i===t)&&(u.instances[o]=e)},(n.hook||(n.hook={})).prepatch=function(t,e){u.instances[o]=e.componentInstance};var d=n.props=function(t,e){switch(typeof e){case"undefined":return;case"object":return e;case"function":return e(t);case"boolean":return e?t.params:void 0;default:0}}(h,u.props&&u.props[o]);if(d){d=n.props=function(t,e){for(var i in e)t[i]=e[i];return t}({},d);var m=n.attrs=n.attrs||{};for(var y in d)f.props&&y in f.props||(m[y]=d[y],delete d[y])}return a(f,n,s)}};var a=/[!'()*]/g,o=function(t){return"%"+t.charCodeAt(0).toString(16)},h=/%2C/g,l=function(t){return encodeURIComponent(t).replace(a,o).replace(h,",")},c=decodeURIComponent;function p(t){var e={};return(t=t.trim().replace(/^(\?|#|&)/,""))?(t.split("&").forEach(function(t){var i=t.replace(/\+/g," ").split("="),s=c(i.shift()),r=i.length>0?c(i.join("=")):null;void 0===e[s]?e[s]=r:Array.isArray(e[s])?e[s].push(r):e[s]=[e[s],r]}),e):e}function u(t){var e=t?Object.keys(t).map(function(e){var i=t[e];if(void 0===i)return"";if(null===i)return l(e);if(Array.isArray(i)){var s=[];return i.forEach(function(t){void 0!==t&&(null===t?s.push(l(e)):s.push(l(e)+"="+l(t)))}),s.join("&")}return l(e)+"="+l(i)}).filter(function(t){return t.length>0}).join("&"):null;return e?"?"+e:""}var f=/\/?$/;function d(t,e,i,s){var r=s&&s.options.stringifyQuery,n=e.query||{};try{n=m(n)}catch(t){}var a={name:e.name||t&&t.name,meta:t&&t.meta||{},path:e.path||"/",hash:e.hash||"",query:n,params:e.params||{},fullPath:v(e,r),matched:t?function(t){var e=[];for(;t;)e.unshift(t),t=t.parent;return e}(t):[]};return i&&(a.redirectedFrom=v(i,r)),Object.freeze(a)}function m(t){if(Array.isArray(t))return t.map(m);if(t&&"object"==typeof t){var e={};for(var i in t)e[i]=m(t[i]);return e}return t}var y=d(null,{path:"/"});function v(t,e){var i=t.path,s=t.query;void 0===s&&(s={});var r=t.hash;return void 0===r&&(r=""),(i||"/")+(e||u)(s)+r}function g(t,e){return e===y?t===e:!!e&&(t.path&&e.path?t.path.replace(f,"")===e.path.replace(f,"")&&t.hash===e.hash&&_(t.query,e.query):!(!t.name||!e.name)&&(t.name===e.name&&t.hash===e.hash&&_(t.query,e.query)&&_(t.params,e.params)))}function _(t,e){if(void 0===t&&(t={}),void 0===e&&(e={}),!t||!e)return t===e;var i=Object.keys(t),s=Object.keys(e);return i.length===s.length&&i.every(function(i){var s=t[i],r=e[i];return"object"==typeof s&&"object"==typeof r?_(s,r):String(s)===String(r)})}var b,x=[String,Object],w=[String,Array],k={name:"router-link",props:{to:{type:x,required:!0},tag:{type:String,default:"a"},exact:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,event:{type:w,default:"click"}},render:function(t){var e=this,i=this.$router,s=this.$route,r=i.resolve(this.to,s,this.append),n=r.location,a=r.route,o=r.href,h={},l=i.options.linkActiveClass,c=i.options.linkExactActiveClass,p=null==l?"router-link-active":l,u=null==c?"router-link-exact-active":c,m=null==this.activeClass?p:this.activeClass,y=null==this.exactActiveClass?u:this.exactActiveClass,v=n.path?d(null,n,null,i):a;h[y]=g(s,v),h[m]=this.exact?h[y]:function(t,e){return 0===t.path.replace(f,"/").indexOf(e.path.replace(f,"/"))&&(!e.hash||t.hash===e.hash)&&function(t,e){for(var i in e)if(!(i in t))return!1;return!0}(t.query,e.query)}(s,v);var _=function(t){P(t)&&(e.replace?i.replace(n):i.push(n))},x={click:P};Array.isArray(this.event)?this.event.forEach(function(t){x[t]=_}):x[this.event]=_;var w={class:h};if("a"===this.tag)w.on=x,w.attrs={href:o};else{var k=function t(e){if(e)for(var i,s=0;s<e.length;s++){if("a"===(i=e[s]).tag)return i;if(i.children&&(i=t(i.children)))return i}}(this.$slots.default);if(k){k.isStatic=!1;var T=b.util.extend;(k.data=T({},k.data)).on=x,(k.data.attrs=T({},k.data.attrs)).href=o}else w.on=x}return t(this.tag,w,this.$slots.default)}};function P(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey||t.defaultPrevented||void 0!==t.button&&0!==t.button)){if(t.currentTarget&&t.currentTarget.getAttribute){var e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function T(t){if(!T.installed||b!==t){T.installed=!0,b=t;var e=function(t){return void 0!==t},i=function(t,i){var s=t.$options._parentVnode;e(s)&&e(s=s.data)&&e(s=s.registerRouteInstance)&&s(t,i)};t.mixin({beforeCreate:function(){e(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),t.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,i(this,this)},destroyed:function(){i(this)}}),Object.defineProperty(t.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(t.prototype,"$route",{get:function(){return this._routerRoot._route}}),t.component("router-view",n),t.component("router-link",k);var s=t.config.optionMergeStrategies;s.beforeRouteEnter=s.beforeRouteLeave=s.beforeRouteUpdate=s.created}}var E="undefined"!=typeof window;function S(t,e,i){var s=t.charAt(0);if("/"===s)return t;if("?"===s||"#"===s)return e+t;var r=e.split("/");i&&r[r.length-1]||r.pop();for(var n=t.replace(/^\//,"").split("/"),a=0;a<n.length;a++){var o=n[a];".."===o?r.pop():"."!==o&&r.push(o)}return""!==r[0]&&r.unshift(""),r.join("/")}function A(t){return t.replace(/\/\//g,"/")}var C=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)},M=G,N=F,I=function(t,e){return V(F(t,e))},D=V,z=$,O=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function F(t,e){for(var i,s=[],r=0,n=0,a="",o=e&&e.delimiter||"/";null!=(i=O.exec(t));){var h=i[0],l=i[1],c=i.index;if(a+=t.slice(n,c),n=c+h.length,l)a+=l[1];else{var p=t[n],u=i[2],f=i[3],d=i[4],m=i[5],y=i[6],v=i[7];a&&(s.push(a),a="");var g=null!=u&&null!=p&&p!==u,_="+"===y||"*"===y,b="?"===y||"*"===y,x=i[2]||o,w=d||m;s.push({name:f||r++,prefix:u||"",delimiter:x,optional:b,repeat:_,partial:g,asterisk:!!v,pattern:w?j(w):v?".*":"[^"+R(x)+"]+?"})}}return n<t.length&&(a+=t.substr(n)),a&&s.push(a),s}function L(t){return encodeURI(t).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function V(t){for(var e=new Array(t.length),i=0;i<t.length;i++)"object"==typeof t[i]&&(e[i]=new RegExp("^(?:"+t[i].pattern+")$"));return function(i,s){for(var r="",n=i||{},a=(s||{}).pretty?L:encodeURIComponent,o=0;o<t.length;o++){var h=t[o];if("string"!=typeof h){var l,c=n[h.name];if(null==c){if(h.optional){h.partial&&(r+=h.prefix);continue}throw new TypeError('Expected "'+h.name+'" to be defined')}if(C(c)){if(!h.repeat)throw new TypeError('Expected "'+h.name+'" to not repeat, but received `'+JSON.stringify(c)+"`");if(0===c.length){if(h.optional)continue;throw new TypeError('Expected "'+h.name+'" to not be empty')}for(var p=0;p<c.length;p++){if(l=a(c[p]),!e[o].test(l))throw new TypeError('Expected all "'+h.name+'" to match "'+h.pattern+'", but received `'+JSON.stringify(l)+"`");r+=(0===p?h.prefix:h.delimiter)+l}}else{if(l=h.asterisk?encodeURI(c).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}):a(c),!e[o].test(l))throw new TypeError('Expected "'+h.name+'" to match "'+h.pattern+'", but received "'+l+'"');r+=h.prefix+l}}else r+=h}return r}}function R(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function j(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function B(t,e){return t.keys=e,t}function H(t){return t.sensitive?"":"i"}function $(t,e,i){C(e)||(i=e||i,e=[]);for(var s=(i=i||{}).strict,r=!1!==i.end,n="",a=0;a<t.length;a++){var o=t[a];if("string"==typeof o)n+=R(o);else{var h=R(o.prefix),l="(?:"+o.pattern+")";e.push(o),o.repeat&&(l+="(?:"+h+l+")*"),n+=l=o.optional?o.partial?h+"("+l+")?":"(?:"+h+"("+l+"))?":h+"("+l+")"}}var c=R(i.delimiter||"/"),p=n.slice(-c.length)===c;return s||(n=(p?n.slice(0,-c.length):n)+"(?:"+c+"(?=$))?"),n+=r?"$":s&&p?"":"(?="+c+"|$)",B(new RegExp("^"+n,H(i)),e)}function G(t,e,i){return C(e)||(i=e||i,e=[]),i=i||{},t instanceof RegExp?function(t,e){var i=t.source.match(/\((?!\?)/g);if(i)for(var s=0;s<i.length;s++)e.push({name:s,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return B(t,e)}(t,e):C(t)?function(t,e,i){for(var s=[],r=0;r<t.length;r++)s.push(G(t[r],e,i).source);return B(new RegExp("(?:"+s.join("|")+")",H(i)),e)}(t,e,i):function(t,e,i){return $(F(t,i),e,i)}(t,e,i)}M.parse=N,M.compile=I,M.tokensToFunction=D,M.tokensToRegExp=z;var U=Object.create(null);function q(t,e,i){try{return(U[t]||(U[t]=M.compile(t)))(e||{},{pretty:!0})}catch(t){return""}}function X(t,e,i,s){var r=e||[],n=i||Object.create(null),a=s||Object.create(null);t.forEach(function(t){!function t(e,i,s,r,n,a){var o=r.path;var h=r.name;0;var l=r.pathToRegexpOptions||{};var c=function(t,e,i){i||(t=t.replace(/\/$/,""));if("/"===t[0])return t;if(null==e)return t;return A(e.path+"/"+t)}(o,n,l.strict);"boolean"==typeof r.caseSensitive&&(l.sensitive=r.caseSensitive);var p={path:c,regex:function(t,e){var i=M(t,[],e);return i}(c,l),components:r.components||{default:r.component},instances:{},name:h,parent:n,matchAs:a,redirect:r.redirect,beforeEnter:r.beforeEnter,meta:r.meta||{},props:null==r.props?{}:r.components?r.props:{default:r.props}};r.children&&r.children.forEach(function(r){var n=a?A(a+"/"+r.path):void 0;t(e,i,s,r,p,n)});if(void 0!==r.alias){var u=Array.isArray(r.alias)?r.alias:[r.alias];u.forEach(function(a){var o={path:a,children:r.children};t(e,i,s,o,n,p.path||"/")})}i[p.path]||(e.push(p.path),i[p.path]=p);h&&(s[h]||(s[h]=p))}(r,n,a,t)});for(var o=0,h=r.length;o<h;o++)"*"===r[o]&&(r.push(r.splice(o,1)[0]),h--,o--);return{pathList:r,pathMap:n,nameMap:a}}function W(t,e,i,s){var r="string"==typeof t?{path:t}:t;if(r.name||r._normalized)return r;if(!r.path&&r.params&&e){(r=Y({},r))._normalized=!0;var n=Y(Y({},e.params),r.params);if(e.name)r.name=e.name,r.params=n;else if(e.matched.length){var a=e.matched[e.matched.length-1].path;r.path=q(a,n,e.path)}else 0;return r}var o=function(t){var e="",i="",s=t.indexOf("#");s>=0&&(e=t.slice(s),t=t.slice(0,s));var r=t.indexOf("?");return r>=0&&(i=t.slice(r+1),t=t.slice(0,r)),{path:t,query:i,hash:e}}(r.path||""),h=e&&e.path||"/",l=o.path?S(o.path,h,i||r.append):h,c=function(t,e,i){void 0===e&&(e={});var s,r=i||p;try{s=r(t||"")}catch(t){s={}}for(var n in e)s[n]=e[n];return s}(o.query,r.query,s&&s.options.parseQuery),u=r.hash||o.hash;return u&&"#"!==u.charAt(0)&&(u="#"+u),{_normalized:!0,path:l,query:c,hash:u}}function Y(t,e){for(var i in e)t[i]=e[i];return t}function Z(t,e){var i=X(t),s=i.pathList,r=i.pathMap,n=i.nameMap;function a(t,i,a){var o=W(t,i,!1,e),l=o.name;if(l){var c=n[l];if(!c)return h(null,o);var p=c.regex.keys.filter(function(t){return!t.optional}).map(function(t){return t.name});if("object"!=typeof o.params&&(o.params={}),i&&"object"==typeof i.params)for(var u in i.params)!(u in o.params)&&p.indexOf(u)>-1&&(o.params[u]=i.params[u]);if(c)return o.path=q(c.path,o.params),h(c,o,a)}else if(o.path){o.params={};for(var f=0;f<s.length;f++){var d=s[f],m=r[d];if(J(m.regex,o.path,o.params))return h(m,o,a)}}return h(null,o)}function o(t,i){var s=t.redirect,r="function"==typeof s?s(d(t,i,null,e)):s;if("string"==typeof r&&(r={path:r}),!r||"object"!=typeof r)return h(null,i);var o=r,l=o.name,c=o.path,p=i.query,u=i.hash,f=i.params;if(p=o.hasOwnProperty("query")?o.query:p,u=o.hasOwnProperty("hash")?o.hash:u,f=o.hasOwnProperty("params")?o.params:f,l){n[l];return a({_normalized:!0,name:l,query:p,hash:u,params:f},void 0,i)}if(c){var m=function(t,e){return S(t,e.parent?e.parent.path:"/",!0)}(c,t);return a({_normalized:!0,path:q(m,f),query:p,hash:u},void 0,i)}return h(null,i)}function h(t,i,s){return t&&t.redirect?o(t,s||i):t&&t.matchAs?function(t,e,i){var s=a({_normalized:!0,path:q(i,e.params)});if(s){var r=s.matched,n=r[r.length-1];return e.params=s.params,h(n,e)}return h(null,e)}(0,i,t.matchAs):d(t,i,s,e)}return{match:a,addRoutes:function(t){X(t,s,r,n)}}}function J(t,e,i){var s=e.match(t);if(!s)return!1;if(!i)return!0;for(var r=1,n=s.length;r<n;++r){var a=t.keys[r-1],o="string"==typeof s[r]?decodeURIComponent(s[r]):s[r];a&&(i[a.name]=o)}return!0}var K=Object.create(null);function Q(){window.history.replaceState({key:pt()},""),window.addEventListener("popstate",function(t){var e;et(),t.state&&t.state.key&&(e=t.state.key,lt=e)})}function tt(t,e,i,s){if(t.app){var r=t.options.scrollBehavior;r&&t.app.$nextTick(function(){var t=function(){var t=pt();if(t)return K[t]}(),n=r(e,i,s?t:null);n&&("function"==typeof n.then?n.then(function(e){nt(e,t)}).catch(function(t){0}):nt(n,t))})}}function et(){var t=pt();t&&(K[t]={x:window.pageXOffset,y:window.pageYOffset})}function it(t){return rt(t.x)||rt(t.y)}function st(t){return{x:rt(t.x)?t.x:window.pageXOffset,y:rt(t.y)?t.y:window.pageYOffset}}function rt(t){return"number"==typeof t}function nt(t,e){var i,s="object"==typeof t;if(s&&"string"==typeof t.selector){var r=document.querySelector(t.selector);if(r){var n=t.offset&&"object"==typeof t.offset?t.offset:{};e=function(t,e){var i=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{x:s.left-i.left-e.x,y:s.top-i.top-e.y}}(r,n={x:rt((i=n).x)?i.x:0,y:rt(i.y)?i.y:0})}else it(t)&&(e=st(t))}else s&&it(t)&&(e=st(t));e&&window.scrollTo(e.x,e.y)}var at,ot=E&&((-1===(at=window.navigator.userAgent).indexOf("Android 2.")&&-1===at.indexOf("Android 4.0")||-1===at.indexOf("Mobile Safari")||-1!==at.indexOf("Chrome")||-1!==at.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history),ht=E&&window.performance&&window.performance.now?window.performance:Date,lt=ct();function ct(){return ht.now().toFixed(3)}function pt(){return lt}function ut(t,e){et();var i=window.history;try{e?i.replaceState({key:lt},"",t):(lt=ct(),i.pushState({key:lt},"",t))}catch(i){window.location[e?"replace":"assign"](t)}}function ft(t){ut(t,!0)}function dt(t,e,i){var s=function(r){r>=t.length?i():t[r]?e(t[r],function(){s(r+1)}):s(r+1)};s(0)}function mt(t){return function(e,i,s){var n=!1,a=0,o=null;yt(t,function(t,e,i,h){if("function"==typeof t&&void 0===t.cid){n=!0,a++;var l,c=_t(function(e){var r;((r=e).__esModule||gt&&"Module"===r[Symbol.toStringTag])&&(e=e.default),t.resolved="function"==typeof e?e:b.extend(e),i.components[h]=e,--a<=0&&s()}),p=_t(function(t){var e="Failed to resolve async component "+h+": "+t;o||(o=r(t)?t:new Error(e),s(o))});try{l=t(c,p)}catch(t){p(t)}if(l)if("function"==typeof l.then)l.then(c,p);else{var u=l.component;u&&"function"==typeof u.then&&u.then(c,p)}}}),n||s()}}function yt(t,e){return vt(t.map(function(t){return Object.keys(t.components).map(function(i){return e(t.components[i],t.instances[i],t,i)})}))}function vt(t){return Array.prototype.concat.apply([],t)}var gt="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;function _t(t){var e=!1;return function(){for(var i=[],s=arguments.length;s--;)i[s]=arguments[s];if(!e)return e=!0,t.apply(this,i)}}var bt=function(t,e){this.router=t,this.base=function(t){if(!t)if(E){var e=document.querySelector("base");t=(t=e&&e.getAttribute("href")||"/").replace(/^https?:\/\/[^\/]+/,"")}else t="/";"/"!==t.charAt(0)&&(t="/"+t);return t.replace(/\/$/,"")}(e),this.current=y,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[]};function xt(t,e,i,s){var r=yt(t,function(t,s,r,n){var a=function(t,e){"function"!=typeof t&&(t=b.extend(t));return t.options[e]}(t,e);if(a)return Array.isArray(a)?a.map(function(t){return i(t,s,r,n)}):i(a,s,r,n)});return vt(s?r.reverse():r)}function wt(t,e){if(e)return function(){return t.apply(e,arguments)}}bt.prototype.listen=function(t){this.cb=t},bt.prototype.onReady=function(t,e){this.ready?t():(this.readyCbs.push(t),e&&this.readyErrorCbs.push(e))},bt.prototype.onError=function(t){this.errorCbs.push(t)},bt.prototype.transitionTo=function(t,e,i){var s=this,r=this.router.match(t,this.current);this.confirmTransition(r,function(){s.updateRoute(r),e&&e(r),s.ensureURL(),s.ready||(s.ready=!0,s.readyCbs.forEach(function(t){t(r)}))},function(t){i&&i(t),t&&!s.ready&&(s.ready=!0,s.readyErrorCbs.forEach(function(e){e(t)}))})},bt.prototype.confirmTransition=function(t,e,i){var n=this,a=this.current,o=function(t){r(t)&&(n.errorCbs.length?n.errorCbs.forEach(function(e){e(t)}):(s(),console.error(t))),i&&i(t)};if(g(t,a)&&t.matched.length===a.matched.length)return this.ensureURL(),o();var h=function(t,e){var i,s=Math.max(t.length,e.length);for(i=0;i<s&&t[i]===e[i];i++);return{updated:e.slice(0,i),activated:e.slice(i),deactivated:t.slice(i)}}(this.current.matched,t.matched),l=h.updated,c=h.deactivated,p=h.activated,u=[].concat(function(t){return xt(t,"beforeRouteLeave",wt,!0)}(c),this.router.beforeHooks,function(t){return xt(t,"beforeRouteUpdate",wt)}(l),p.map(function(t){return t.beforeEnter}),mt(p));this.pending=t;var f=function(e,i){if(n.pending!==t)return o();try{e(t,a,function(t){!1===t||r(t)?(n.ensureURL(!0),o(t)):"string"==typeof t||"object"==typeof t&&("string"==typeof t.path||"string"==typeof t.name)?(o(),"object"==typeof t&&t.replace?n.replace(t):n.push(t)):i(t)})}catch(t){o(t)}};dt(u,f,function(){var i=[];dt(function(t,e,i){return xt(t,"beforeRouteEnter",function(t,s,r,n){return function(t,e,i,s,r){return function(n,a,o){return t(n,a,function(t){o(t),"function"==typeof t&&s.push(function(){!function t(e,i,s,r){i[s]?e(i[s]):r()&&setTimeout(function(){t(e,i,s,r)},16)}(t,e.instances,i,r)})})}}(t,r,n,e,i)})}(p,i,function(){return n.current===t}).concat(n.router.resolveHooks),f,function(){if(n.pending!==t)return o();n.pending=null,e(t),n.router.app&&n.router.app.$nextTick(function(){i.forEach(function(t){t()})})})})},bt.prototype.updateRoute=function(t){var e=this.current;this.current=t,this.cb&&this.cb(t),this.router.afterHooks.forEach(function(i){i&&i(t,e)})};var kt=function(t){function e(e,i){var s=this;t.call(this,e,i);var r=e.options.scrollBehavior;r&&Q();var n=Pt(this.base);window.addEventListener("popstate",function(t){var i=s.current,a=Pt(s.base);s.current===y&&a===n||s.transitionTo(a,function(t){r&&tt(e,t,i,!0)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.go=function(t){window.history.go(t)},e.prototype.push=function(t,e,i){var s=this,r=this.current;this.transitionTo(t,function(t){ut(A(s.base+t.fullPath)),tt(s.router,t,r,!1),e&&e(t)},i)},e.prototype.replace=function(t,e,i){var s=this,r=this.current;this.transitionTo(t,function(t){ft(A(s.base+t.fullPath)),tt(s.router,t,r,!1),e&&e(t)},i)},e.prototype.ensureURL=function(t){if(Pt(this.base)!==this.current.fullPath){var e=A(this.base+this.current.fullPath);t?ut(e):ft(e)}},e.prototype.getCurrentLocation=function(){return Pt(this.base)},e}(bt);function Pt(t){var e=window.location.pathname;return t&&0===e.indexOf(t)&&(e=e.slice(t.length)),(e||"/")+window.location.search+window.location.hash}var Tt=function(t){function e(e,i,s){t.call(this,e,i),s&&function(t){var e=Pt(t);if(!/^\/#/.test(e))return window.location.replace(A(t+"/#"+e)),!0}(this.base)||Et()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var t=this,e=this.router.options.scrollBehavior,i=ot&&e;i&&Q(),window.addEventListener(ot?"popstate":"hashchange",function(){var e=t.current;Et()&&t.transitionTo(St(),function(s){i&&tt(t.router,s,e,!0),ot||Mt(s.fullPath)})})},e.prototype.push=function(t,e,i){var s=this,r=this.current;this.transitionTo(t,function(t){Ct(t.fullPath),tt(s.router,t,r,!1),e&&e(t)},i)},e.prototype.replace=function(t,e,i){var s=this,r=this.current;this.transitionTo(t,function(t){Mt(t.fullPath),tt(s.router,t,r,!1),e&&e(t)},i)},e.prototype.go=function(t){window.history.go(t)},e.prototype.ensureURL=function(t){var e=this.current.fullPath;St()!==e&&(t?Ct(e):Mt(e))},e.prototype.getCurrentLocation=function(){return St()},e}(bt);function Et(){var t=St();return"/"===t.charAt(0)||(Mt("/"+t),!1)}function St(){var t=window.location.href,e=t.indexOf("#");return-1===e?"":t.slice(e+1)}function At(t){var e=window.location.href,i=e.indexOf("#");return(i>=0?e.slice(0,i):e)+"#"+t}function Ct(t){ot?ut(At(t)):window.location.hash=t}function Mt(t){ot?ft(At(t)):window.location.replace(At(t))}var Nt=function(t){function e(e,i){t.call(this,e,i),this.stack=[],this.index=-1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.push=function(t,e,i){var s=this;this.transitionTo(t,function(t){s.stack=s.stack.slice(0,s.index+1).concat(t),s.index++,e&&e(t)},i)},e.prototype.replace=function(t,e,i){var s=this;this.transitionTo(t,function(t){s.stack=s.stack.slice(0,s.index).concat(t),e&&e(t)},i)},e.prototype.go=function(t){var e=this,i=this.index+t;if(!(i<0||i>=this.stack.length)){var s=this.stack[i];this.confirmTransition(s,function(){e.index=i,e.updateRoute(s)})}},e.prototype.getCurrentLocation=function(){var t=this.stack[this.stack.length-1];return t?t.fullPath:"/"},e.prototype.ensureURL=function(){},e}(bt),It=function(t){void 0===t&&(t={}),this.app=null,this.apps=[],this.options=t,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=Z(t.routes||[],this);var e=t.mode||"hash";switch(this.fallback="history"===e&&!ot&&!1!==t.fallback,this.fallback&&(e="hash"),E||(e="abstract"),this.mode=e,e){case"history":this.history=new kt(this,t.base);break;case"hash":this.history=new Tt(this,t.base,this.fallback);break;case"abstract":this.history=new Nt(this,t.base);break;default:0}},Dt={currentRoute:{configurable:!0}};function zt(t,e){return t.push(e),function(){var i=t.indexOf(e);i>-1&&t.splice(i,1)}}It.prototype.match=function(t,e,i){return this.matcher.match(t,e,i)},Dt.currentRoute.get=function(){return this.history&&this.history.current},It.prototype.init=function(t){var e=this;if(this.apps.push(t),!this.app){this.app=t;var i=this.history;if(i instanceof kt)i.transitionTo(i.getCurrentLocation());else if(i instanceof Tt){var s=function(){i.setupListeners()};i.transitionTo(i.getCurrentLocation(),s,s)}i.listen(function(t){e.apps.forEach(function(e){e._route=t})})}},It.prototype.beforeEach=function(t){return zt(this.beforeHooks,t)},It.prototype.beforeResolve=function(t){return zt(this.resolveHooks,t)},It.prototype.afterEach=function(t){return zt(this.afterHooks,t)},It.prototype.onReady=function(t,e){this.history.onReady(t,e)},It.prototype.onError=function(t){this.history.onError(t)},It.prototype.push=function(t,e,i){this.history.push(t,e,i)},It.prototype.replace=function(t,e,i){this.history.replace(t,e,i)},It.prototype.go=function(t){this.history.go(t)},It.prototype.back=function(){this.go(-1)},It.prototype.forward=function(){this.go(1)},It.prototype.getMatchedComponents=function(t){var e=t?t.matched?t:this.resolve(t).route:this.currentRoute;return e?[].concat.apply([],e.matched.map(function(t){return Object.keys(t.components).map(function(e){return t.components[e]})})):[]},It.prototype.resolve=function(t,e,i){var s=W(t,e||this.history.current,i,this),r=this.match(s,e),n=r.redirectedFrom||r.fullPath;return{location:s,route:r,href:function(t,e,i){var s="hash"===i?"#"+e:e;return t?A(t+"/"+s):s}(this.history.base,n,this.mode),normalizedTo:s,resolved:r}},It.prototype.addRoutes=function(t){this.matcher.addRoutes(t),this.history.current!==y&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(It.prototype,Dt),It.install=T,It.version="3.0.1",E&&window.Vue&&window.Vue.use(It),e.a=It},"1kS7":function(t,e){e.f=Object.getOwnPropertySymbols},"21It":function(t,e,i){"use strict";var s=i("FtD3");t.exports=function(t,e,i){var r=i.config.validateStatus;i.status&&r&&!r(i.status)?e(s("Request failed with status code "+i.status,i.config,null,i.request,i)):t(i)}},"3Eo+":function(t,e){var i=0,s=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++i+s).toString(36))}},"3fo+":function(t,e,i){t.exports=i("YAhB")},"52gC":function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},"5VQ+":function(t,e,i){"use strict";var s=i("cGG2");t.exports=function(t,e){s.forEach(t,function(i,s){s!==e&&s.toUpperCase()===e.toUpperCase()&&(t[e]=i,delete t[s])})}},"7+uW":function(t,e,i){"use strict";(function(t){
/*!
 * Vue.js v2.5.16
 * (c) 2014-2018 Evan You
 * Released under the MIT License.
 */
var i=Object.freeze({});function s(t){return void 0===t||null===t}function r(t){return void 0!==t&&null!==t}function n(t){return!0===t}function a(t){return"string"==typeof t||"number"==typeof t||"symbol"==typeof t||"boolean"==typeof t}function o(t){return null!==t&&"object"==typeof t}var h=Object.prototype.toString;function l(t){return"[object Object]"===h.call(t)}function c(t){return"[object RegExp]"===h.call(t)}function p(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function u(t){return null==t?"":"object"==typeof t?JSON.stringify(t,null,2):String(t)}function f(t){var e=parseFloat(t);return isNaN(e)?t:e}function d(t,e){for(var i=Object.create(null),s=t.split(","),r=0;r<s.length;r++)i[s[r]]=!0;return e?function(t){return i[t.toLowerCase()]}:function(t){return i[t]}}var m=d("slot,component",!0),y=d("key,ref,slot,slot-scope,is");function v(t,e){if(t.length){var i=t.indexOf(e);if(i>-1)return t.splice(i,1)}}var g=Object.prototype.hasOwnProperty;function _(t,e){return g.call(t,e)}function b(t){var e=Object.create(null);return function(i){return e[i]||(e[i]=t(i))}}var x=/-(\w)/g,w=b(function(t){return t.replace(x,function(t,e){return e?e.toUpperCase():""})}),k=b(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}),P=/\B([A-Z])/g,T=b(function(t){return t.replace(P,"-$1").toLowerCase()});var E=Function.prototype.bind?function(t,e){return t.bind(e)}:function(t,e){function i(i){var s=arguments.length;return s?s>1?t.apply(e,arguments):t.call(e,i):t.call(e)}return i._length=t.length,i};function S(t,e){e=e||0;for(var i=t.length-e,s=new Array(i);i--;)s[i]=t[i+e];return s}function A(t,e){for(var i in e)t[i]=e[i];return t}function C(t){for(var e={},i=0;i<t.length;i++)t[i]&&A(e,t[i]);return e}function M(t,e,i){}var N=function(t,e,i){return!1},I=function(t){return t};function D(t,e){if(t===e)return!0;var i=o(t),s=o(e);if(!i||!s)return!i&&!s&&String(t)===String(e);try{var r=Array.isArray(t),n=Array.isArray(e);if(r&&n)return t.length===e.length&&t.every(function(t,i){return D(t,e[i])});if(r||n)return!1;var a=Object.keys(t),h=Object.keys(e);return a.length===h.length&&a.every(function(i){return D(t[i],e[i])})}catch(t){return!1}}function z(t,e){for(var i=0;i<t.length;i++)if(D(t[i],e))return i;return-1}function O(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}var F="data-server-rendered",L=["component","directive","filter"],V=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured"],R={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:N,isReservedAttr:N,isUnknownElement:N,getTagNamespace:M,parsePlatformTagName:I,mustUseProp:N,_lifecycleHooks:V};function j(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function B(t,e,i,s){Object.defineProperty(t,e,{value:i,enumerable:!!s,writable:!0,configurable:!0})}var H=/[^\w.$]/;var $,G="__proto__"in{},U="undefined"!=typeof window,q="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,X=q&&WXEnvironment.platform.toLowerCase(),W=U&&window.navigator.userAgent.toLowerCase(),Y=W&&/msie|trident/.test(W),Z=W&&W.indexOf("msie 9.0")>0,J=W&&W.indexOf("edge/")>0,K=(W&&W.indexOf("android"),W&&/iphone|ipad|ipod|ios/.test(W)||"ios"===X),Q=(W&&/chrome\/\d+/.test(W),{}.watch),tt=!1;if(U)try{var et={};Object.defineProperty(et,"passive",{get:function(){tt=!0}}),window.addEventListener("test-passive",null,et)}catch(t){}var it=function(){return void 0===$&&($=!U&&!q&&void 0!==t&&"server"===t.process.env.VUE_ENV),$},st=U&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function rt(t){return"function"==typeof t&&/native code/.test(t.toString())}var nt,at="undefined"!=typeof Symbol&&rt(Symbol)&&"undefined"!=typeof Reflect&&rt(Reflect.ownKeys);nt="undefined"!=typeof Set&&rt(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var ot=M,ht=0,lt=function(){this.id=ht++,this.subs=[]};lt.prototype.addSub=function(t){this.subs.push(t)},lt.prototype.removeSub=function(t){v(this.subs,t)},lt.prototype.depend=function(){lt.target&&lt.target.addDep(this)},lt.prototype.notify=function(){for(var t=this.subs.slice(),e=0,i=t.length;e<i;e++)t[e].update()},lt.target=null;var ct=[];function pt(t){lt.target&&ct.push(lt.target),lt.target=t}function ut(){lt.target=ct.pop()}var ft=function(t,e,i,s,r,n,a,o){this.tag=t,this.data=e,this.children=i,this.text=s,this.elm=r,this.ns=void 0,this.context=n,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=o,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},dt={child:{configurable:!0}};dt.child.get=function(){return this.componentInstance},Object.defineProperties(ft.prototype,dt);var mt=function(t){void 0===t&&(t="");var e=new ft;return e.text=t,e.isComment=!0,e};function yt(t){return new ft(void 0,void 0,void 0,String(t))}function vt(t){var e=new ft(t.tag,t.data,t.children,t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.isCloned=!0,e}var gt=Array.prototype,_t=Object.create(gt);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(t){var e=gt[t];B(_t,t,function(){for(var i=[],s=arguments.length;s--;)i[s]=arguments[s];var r,n=e.apply(this,i),a=this.__ob__;switch(t){case"push":case"unshift":r=i;break;case"splice":r=i.slice(2)}return r&&a.observeArray(r),a.dep.notify(),n})});var bt=Object.getOwnPropertyNames(_t),xt=!0;function wt(t){xt=t}var kt=function(t){(this.value=t,this.dep=new lt,this.vmCount=0,B(t,"__ob__",this),Array.isArray(t))?((G?Pt:Tt)(t,_t,bt),this.observeArray(t)):this.walk(t)};function Pt(t,e,i){t.__proto__=e}function Tt(t,e,i){for(var s=0,r=i.length;s<r;s++){var n=i[s];B(t,n,e[n])}}function Et(t,e){var i;if(o(t)&&!(t instanceof ft))return _(t,"__ob__")&&t.__ob__ instanceof kt?i=t.__ob__:xt&&!it()&&(Array.isArray(t)||l(t))&&Object.isExtensible(t)&&!t._isVue&&(i=new kt(t)),e&&i&&i.vmCount++,i}function St(t,e,i,s,r){var n=new lt,a=Object.getOwnPropertyDescriptor(t,e);if(!a||!1!==a.configurable){var o=a&&a.get;o||2!==arguments.length||(i=t[e]);var h=a&&a.set,l=!r&&Et(i);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=o?o.call(t):i;return lt.target&&(n.depend(),l&&(l.dep.depend(),Array.isArray(e)&&function t(e){for(var i=void 0,s=0,r=e.length;s<r;s++)(i=e[s])&&i.__ob__&&i.__ob__.dep.depend(),Array.isArray(i)&&t(i)}(e))),e},set:function(e){var s=o?o.call(t):i;e===s||e!=e&&s!=s||(h?h.call(t,e):i=e,l=!r&&Et(e),n.notify())}})}}function At(t,e,i){if(Array.isArray(t)&&p(e))return t.length=Math.max(t.length,e),t.splice(e,1,i),i;if(e in t&&!(e in Object.prototype))return t[e]=i,i;var s=t.__ob__;return t._isVue||s&&s.vmCount?i:s?(St(s.value,e,i),s.dep.notify(),i):(t[e]=i,i)}function Ct(t,e){if(Array.isArray(t)&&p(e))t.splice(e,1);else{var i=t.__ob__;t._isVue||i&&i.vmCount||_(t,e)&&(delete t[e],i&&i.dep.notify())}}kt.prototype.walk=function(t){for(var e=Object.keys(t),i=0;i<e.length;i++)St(t,e[i])},kt.prototype.observeArray=function(t){for(var e=0,i=t.length;e<i;e++)Et(t[e])};var Mt=R.optionMergeStrategies;function Nt(t,e){if(!e)return t;for(var i,s,r,n=Object.keys(e),a=0;a<n.length;a++)s=t[i=n[a]],r=e[i],_(t,i)?l(s)&&l(r)&&Nt(s,r):At(t,i,r);return t}function It(t,e,i){return i?function(){var s="function"==typeof e?e.call(i,i):e,r="function"==typeof t?t.call(i,i):t;return s?Nt(s,r):r}:e?t?function(){return Nt("function"==typeof e?e.call(this,this):e,"function"==typeof t?t.call(this,this):t)}:e:t}function Dt(t,e){return e?t?t.concat(e):Array.isArray(e)?e:[e]:t}function zt(t,e,i,s){var r=Object.create(t||null);return e?A(r,e):r}Mt.data=function(t,e,i){return i?It(t,e,i):e&&"function"!=typeof e?t:It(t,e)},V.forEach(function(t){Mt[t]=Dt}),L.forEach(function(t){Mt[t+"s"]=zt}),Mt.watch=function(t,e,i,s){if(t===Q&&(t=void 0),e===Q&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var r={};for(var n in A(r,t),e){var a=r[n],o=e[n];a&&!Array.isArray(a)&&(a=[a]),r[n]=a?a.concat(o):Array.isArray(o)?o:[o]}return r},Mt.props=Mt.methods=Mt.inject=Mt.computed=function(t,e,i,s){if(!t)return e;var r=Object.create(null);return A(r,t),e&&A(r,e),r},Mt.provide=It;var Ot=function(t,e){return void 0===e?t:e};function Ft(t,e,i){"function"==typeof e&&(e=e.options),function(t,e){var i=t.props;if(i){var s,r,n={};if(Array.isArray(i))for(s=i.length;s--;)"string"==typeof(r=i[s])&&(n[w(r)]={type:null});else if(l(i))for(var a in i)r=i[a],n[w(a)]=l(r)?r:{type:r};t.props=n}}(e),function(t,e){var i=t.inject;if(i){var s=t.inject={};if(Array.isArray(i))for(var r=0;r<i.length;r++)s[i[r]]={from:i[r]};else if(l(i))for(var n in i){var a=i[n];s[n]=l(a)?A({from:n},a):{from:a}}}}(e),function(t){var e=t.directives;if(e)for(var i in e){var s=e[i];"function"==typeof s&&(e[i]={bind:s,update:s})}}(e);var s=e.extends;if(s&&(t=Ft(t,s,i)),e.mixins)for(var r=0,n=e.mixins.length;r<n;r++)t=Ft(t,e.mixins[r],i);var a,o={};for(a in t)h(a);for(a in e)_(t,a)||h(a);function h(s){var r=Mt[s]||Ot;o[s]=r(t[s],e[s],i,s)}return o}function Lt(t,e,i,s){if("string"==typeof i){var r=t[e];if(_(r,i))return r[i];var n=w(i);if(_(r,n))return r[n];var a=k(n);return _(r,a)?r[a]:r[i]||r[n]||r[a]}}function Vt(t,e,i,s){var r=e[t],n=!_(i,t),a=i[t],o=Bt(Boolean,r.type);if(o>-1)if(n&&!_(r,"default"))a=!1;else if(""===a||a===T(t)){var h=Bt(String,r.type);(h<0||o<h)&&(a=!0)}if(void 0===a){a=function(t,e,i){if(!_(e,"default"))return;var s=e.default;0;if(t&&t.$options.propsData&&void 0===t.$options.propsData[i]&&void 0!==t._props[i])return t._props[i];return"function"==typeof s&&"Function"!==Rt(e.type)?s.call(t):s}(s,r,t);var l=xt;wt(!0),Et(a),wt(l)}return a}function Rt(t){var e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function jt(t,e){return Rt(t)===Rt(e)}function Bt(t,e){if(!Array.isArray(e))return jt(e,t)?0:-1;for(var i=0,s=e.length;i<s;i++)if(jt(e[i],t))return i;return-1}function Ht(t,e,i){if(e)for(var s=e;s=s.$parent;){var r=s.$options.errorCaptured;if(r)for(var n=0;n<r.length;n++)try{if(!1===r[n].call(s,t,e,i))return}catch(t){$t(t,s,"errorCaptured hook")}}$t(t,e,i)}function $t(t,e,i){if(R.errorHandler)try{return R.errorHandler.call(null,t,e,i)}catch(t){Gt(t,null,"config.errorHandler")}Gt(t,e,i)}function Gt(t,e,i){if(!U&&!q||"undefined"==typeof console)throw t;console.error(t)}var Ut,qt,Xt=[],Wt=!1;function Yt(){Wt=!1;var t=Xt.slice(0);Xt.length=0;for(var e=0;e<t.length;e++)t[e]()}var Zt=!1;if("undefined"!=typeof setImmediate&&rt(setImmediate))qt=function(){setImmediate(Yt)};else if("undefined"==typeof MessageChannel||!rt(MessageChannel)&&"[object MessageChannelConstructor]"!==MessageChannel.toString())qt=function(){setTimeout(Yt,0)};else{var Jt=new MessageChannel,Kt=Jt.port2;Jt.port1.onmessage=Yt,qt=function(){Kt.postMessage(1)}}if("undefined"!=typeof Promise&&rt(Promise)){var Qt=Promise.resolve();Ut=function(){Qt.then(Yt),K&&setTimeout(M)}}else Ut=qt;function te(t,e){var i;if(Xt.push(function(){if(t)try{t.call(e)}catch(t){Ht(t,e,"nextTick")}else i&&i(e)}),Wt||(Wt=!0,Zt?qt():Ut()),!t&&"undefined"!=typeof Promise)return new Promise(function(t){i=t})}var ee=new nt;function ie(t){!function t(e,i){var s,r;var n=Array.isArray(e);if(!n&&!o(e)||Object.isFrozen(e)||e instanceof ft)return;if(e.__ob__){var a=e.__ob__.dep.id;if(i.has(a))return;i.add(a)}if(n)for(s=e.length;s--;)t(e[s],i);else for(r=Object.keys(e),s=r.length;s--;)t(e[r[s]],i)}(t,ee),ee.clear()}var se,re=b(function(t){var e="&"===t.charAt(0),i="~"===(t=e?t.slice(1):t).charAt(0),s="!"===(t=i?t.slice(1):t).charAt(0);return{name:t=s?t.slice(1):t,once:i,capture:s,passive:e}});function ne(t){function e(){var t=arguments,i=e.fns;if(!Array.isArray(i))return i.apply(null,arguments);for(var s=i.slice(),r=0;r<s.length;r++)s[r].apply(null,t)}return e.fns=t,e}function ae(t,e,i,r,n){var a,o,h,l;for(a in t)o=t[a],h=e[a],l=re(a),s(o)||(s(h)?(s(o.fns)&&(o=t[a]=ne(o)),i(l.name,o,l.once,l.capture,l.passive,l.params)):o!==h&&(h.fns=o,t[a]=h));for(a in e)s(t[a])&&r((l=re(a)).name,e[a],l.capture)}function oe(t,e,i){var a;t instanceof ft&&(t=t.data.hook||(t.data.hook={}));var o=t[e];function h(){i.apply(this,arguments),v(a.fns,h)}s(o)?a=ne([h]):r(o.fns)&&n(o.merged)?(a=o).fns.push(h):a=ne([o,h]),a.merged=!0,t[e]=a}function he(t,e,i,s,n){if(r(e)){if(_(e,i))return t[i]=e[i],n||delete e[i],!0;if(_(e,s))return t[i]=e[s],n||delete e[s],!0}return!1}function le(t){return a(t)?[yt(t)]:Array.isArray(t)?function t(e,i){var o=[];var h,l,c,p;for(h=0;h<e.length;h++)s(l=e[h])||"boolean"==typeof l||(c=o.length-1,p=o[c],Array.isArray(l)?l.length>0&&(ce((l=t(l,(i||"")+"_"+h))[0])&&ce(p)&&(o[c]=yt(p.text+l[0].text),l.shift()),o.push.apply(o,l)):a(l)?ce(p)?o[c]=yt(p.text+l):""!==l&&o.push(yt(l)):ce(l)&&ce(p)?o[c]=yt(p.text+l.text):(n(e._isVList)&&r(l.tag)&&s(l.key)&&r(i)&&(l.key="__vlist"+i+"_"+h+"__"),o.push(l)));return o}(t):void 0}function ce(t){return r(t)&&r(t.text)&&!1===t.isComment}function pe(t,e){return(t.__esModule||at&&"Module"===t[Symbol.toStringTag])&&(t=t.default),o(t)?e.extend(t):t}function ue(t){return t.isComment&&t.asyncFactory}function fe(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var i=t[e];if(r(i)&&(r(i.componentOptions)||ue(i)))return i}}function de(t,e,i){i?se.$once(t,e):se.$on(t,e)}function me(t,e){se.$off(t,e)}function ye(t,e,i){se=t,ae(e,i||{},de,me),se=void 0}function ve(t,e){var i={};if(!t)return i;for(var s=0,r=t.length;s<r;s++){var n=t[s],a=n.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,n.context!==e&&n.fnContext!==e||!a||null==a.slot)(i.default||(i.default=[])).push(n);else{var o=a.slot,h=i[o]||(i[o]=[]);"template"===n.tag?h.push.apply(h,n.children||[]):h.push(n)}}for(var l in i)i[l].every(ge)&&delete i[l];return i}function ge(t){return t.isComment&&!t.asyncFactory||" "===t.text}function _e(t,e){e=e||{};for(var i=0;i<t.length;i++)Array.isArray(t[i])?_e(t[i],e):e[t[i].key]=t[i].fn;return e}var be=null;function xe(t){for(;t&&(t=t.$parent);)if(t._inactive)return!0;return!1}function we(t,e){if(e){if(t._directInactive=!1,xe(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var i=0;i<t.$children.length;i++)we(t.$children[i]);ke(t,"activated")}}function ke(t,e){pt();var i=t.$options[e];if(i)for(var s=0,r=i.length;s<r;s++)try{i[s].call(t)}catch(i){Ht(i,t,e+" hook")}t._hasHookEvent&&t.$emit("hook:"+e),ut()}var Pe=[],Te=[],Ee={},Se=!1,Ae=!1,Ce=0;function Me(){var t,e;for(Ae=!0,Pe.sort(function(t,e){return t.id-e.id}),Ce=0;Ce<Pe.length;Ce++)e=(t=Pe[Ce]).id,Ee[e]=null,t.run();var i=Te.slice(),s=Pe.slice();Ce=Pe.length=Te.length=0,Ee={},Se=Ae=!1,function(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,we(t[e],!0)}(i),function(t){var e=t.length;for(;e--;){var i=t[e],s=i.vm;s._watcher===i&&s._isMounted&&ke(s,"updated")}}(s),st&&R.devtools&&st.emit("flush")}var Ne=0,Ie=function(t,e,i,s,r){this.vm=t,r&&(t._watcher=this),t._watchers.push(this),s?(this.deep=!!s.deep,this.user=!!s.user,this.lazy=!!s.lazy,this.sync=!!s.sync):this.deep=this.user=this.lazy=this.sync=!1,this.cb=i,this.id=++Ne,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new nt,this.newDepIds=new nt,this.expression="","function"==typeof e?this.getter=e:(this.getter=function(t){if(!H.test(t)){var e=t.split(".");return function(t){for(var i=0;i<e.length;i++){if(!t)return;t=t[e[i]]}return t}}}(e),this.getter||(this.getter=function(){})),this.value=this.lazy?void 0:this.get()};Ie.prototype.get=function(){var t;pt(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(t){if(!this.user)throw t;Ht(t,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&ie(t),ut(),this.cleanupDeps()}return t},Ie.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},Ie.prototype.cleanupDeps=function(){for(var t=this.deps.length;t--;){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var i=this.depIds;this.depIds=this.newDepIds,this.newDepIds=i,this.newDepIds.clear(),i=this.deps,this.deps=this.newDeps,this.newDeps=i,this.newDeps.length=0},Ie.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(t){var e=t.id;if(null==Ee[e]){if(Ee[e]=!0,Ae){for(var i=Pe.length-1;i>Ce&&Pe[i].id>t.id;)i--;Pe.splice(i+1,0,t)}else Pe.push(t);Se||(Se=!0,te(Me))}}(this)},Ie.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||o(t)||this.deep){var e=this.value;if(this.value=t,this.user)try{this.cb.call(this.vm,t,e)}catch(t){Ht(t,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,t,e)}}},Ie.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},Ie.prototype.depend=function(){for(var t=this.deps.length;t--;)this.deps[t].depend()},Ie.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||v(this.vm._watchers,this);for(var t=this.deps.length;t--;)this.deps[t].removeSub(this);this.active=!1}};var De={enumerable:!0,configurable:!0,get:M,set:M};function ze(t,e,i){De.get=function(){return this[e][i]},De.set=function(t){this[e][i]=t},Object.defineProperty(t,i,De)}function Oe(t){t._watchers=[];var e=t.$options;e.props&&function(t,e){var i=t.$options.propsData||{},s=t._props={},r=t.$options._propKeys=[];t.$parent&&wt(!1);var n=function(n){r.push(n);var a=Vt(n,e,i,t);St(s,n,a),n in t||ze(t,"_props",n)};for(var a in e)n(a);wt(!0)}(t,e.props),e.methods&&function(t,e){t.$options.props;for(var i in e)t[i]=null==e[i]?M:E(e[i],t)}(t,e.methods),e.data?function(t){var e=t.$options.data;l(e=t._data="function"==typeof e?function(t,e){pt();try{return t.call(e,e)}catch(t){return Ht(t,e,"data()"),{}}finally{ut()}}(e,t):e||{})||(e={});var i=Object.keys(e),s=t.$options.props,r=(t.$options.methods,i.length);for(;r--;){var n=i[r];0,s&&_(s,n)||j(n)||ze(t,"_data",n)}Et(e,!0)}(t):Et(t._data={},!0),e.computed&&function(t,e){var i=t._computedWatchers=Object.create(null),s=it();for(var r in e){var n=e[r],a="function"==typeof n?n:n.get;0,s||(i[r]=new Ie(t,a||M,M,Fe)),r in t||Le(t,r,n)}}(t,e.computed),e.watch&&e.watch!==Q&&function(t,e){for(var i in e){var s=e[i];if(Array.isArray(s))for(var r=0;r<s.length;r++)Re(t,i,s[r]);else Re(t,i,s)}}(t,e.watch)}var Fe={lazy:!0};function Le(t,e,i){var s=!it();"function"==typeof i?(De.get=s?Ve(e):i,De.set=M):(De.get=i.get?s&&!1!==i.cache?Ve(e):i.get:M,De.set=i.set?i.set:M),Object.defineProperty(t,e,De)}function Ve(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),lt.target&&e.depend(),e.value}}function Re(t,e,i,s){return l(i)&&(s=i,i=i.handler),"string"==typeof i&&(i=t[i]),t.$watch(e,i,s)}function je(t,e){if(t){for(var i=Object.create(null),s=at?Reflect.ownKeys(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}):Object.keys(t),r=0;r<s.length;r++){for(var n=s[r],a=t[n].from,o=e;o;){if(o._provided&&_(o._provided,a)){i[n]=o._provided[a];break}o=o.$parent}if(!o)if("default"in t[n]){var h=t[n].default;i[n]="function"==typeof h?h.call(e):h}else 0}return i}}function Be(t,e){var i,s,n,a,h;if(Array.isArray(t)||"string"==typeof t)for(i=new Array(t.length),s=0,n=t.length;s<n;s++)i[s]=e(t[s],s);else if("number"==typeof t)for(i=new Array(t),s=0;s<t;s++)i[s]=e(s+1,s);else if(o(t))for(a=Object.keys(t),i=new Array(a.length),s=0,n=a.length;s<n;s++)h=a[s],i[s]=e(t[h],h,s);return r(i)&&(i._isVList=!0),i}function He(t,e,i,s){var r,n=this.$scopedSlots[t];if(n)i=i||{},s&&(i=A(A({},s),i)),r=n(i)||e;else{var a=this.$slots[t];a&&(a._rendered=!0),r=a||e}var o=i&&i.slot;return o?this.$createElement("template",{slot:o},r):r}function $e(t){return Lt(this.$options,"filters",t)||I}function Ge(t,e){return Array.isArray(t)?-1===t.indexOf(e):t!==e}function Ue(t,e,i,s,r){var n=R.keyCodes[e]||i;return r&&s&&!R.keyCodes[e]?Ge(r,s):n?Ge(n,t):s?T(s)!==e:void 0}function qe(t,e,i,s,r){if(i)if(o(i)){var n;Array.isArray(i)&&(i=C(i));var a=function(a){if("class"===a||"style"===a||y(a))n=t;else{var o=t.attrs&&t.attrs.type;n=s||R.mustUseProp(e,o,a)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}a in n||(n[a]=i[a],r&&((t.on||(t.on={}))["update:"+a]=function(t){i[a]=t}))};for(var h in i)a(h)}else;return t}function Xe(t,e){var i=this._staticTrees||(this._staticTrees=[]),s=i[t];return s&&!e?s:(Ye(s=i[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this),"__static__"+t,!1),s)}function We(t,e,i){return Ye(t,"__once__"+e+(i?"_"+i:""),!0),t}function Ye(t,e,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)t[s]&&"string"!=typeof t[s]&&Ze(t[s],e+"_"+s,i);else Ze(t,e,i)}function Ze(t,e,i){t.isStatic=!0,t.key=e,t.isOnce=i}function Je(t,e){if(e)if(l(e)){var i=t.on=t.on?A({},t.on):{};for(var s in e){var r=i[s],n=e[s];i[s]=r?[].concat(r,n):n}}else;return t}function Ke(t){t._o=We,t._n=f,t._s=u,t._l=Be,t._t=He,t._q=D,t._i=z,t._m=Xe,t._f=$e,t._k=Ue,t._b=qe,t._v=yt,t._e=mt,t._u=_e,t._g=Je}function Qe(t,e,s,r,a){var o,h=a.options;_(r,"_uid")?(o=Object.create(r))._original=r:(o=r,r=r._original);var l=n(h._compiled),c=!l;this.data=t,this.props=e,this.children=s,this.parent=r,this.listeners=t.on||i,this.injections=je(h.inject,r),this.slots=function(){return ve(s,r)},l&&(this.$options=h,this.$slots=this.slots(),this.$scopedSlots=t.scopedSlots||i),h._scopeId?this._c=function(t,e,i,s){var n=oi(o,t,e,i,s,c);return n&&!Array.isArray(n)&&(n.fnScopeId=h._scopeId,n.fnContext=r),n}:this._c=function(t,e,i,s){return oi(o,t,e,i,s,c)}}function ti(t,e,i,s){var r=vt(t);return r.fnContext=i,r.fnOptions=s,e.slot&&((r.data||(r.data={})).slot=e.slot),r}function ei(t,e){for(var i in e)t[w(i)]=e[i]}Ke(Qe.prototype);var ii={init:function(t,e,i,s){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var n=t;ii.prepatch(n,n)}else{(t.componentInstance=function(t,e,i,s){var n={_isComponent:!0,parent:e,_parentVnode:t,_parentElm:i||null,_refElm:s||null},a=t.data.inlineTemplate;r(a)&&(n.render=a.render,n.staticRenderFns=a.staticRenderFns);return new t.componentOptions.Ctor(n)}(t,be,i,s)).$mount(e?t.elm:void 0,e)}},prepatch:function(t,e){var s=e.componentOptions;!function(t,e,s,r,n){var a=!!(n||t.$options._renderChildren||r.data.scopedSlots||t.$scopedSlots!==i);if(t.$options._parentVnode=r,t.$vnode=r,t._vnode&&(t._vnode.parent=r),t.$options._renderChildren=n,t.$attrs=r.data.attrs||i,t.$listeners=s||i,e&&t.$options.props){wt(!1);for(var o=t._props,h=t.$options._propKeys||[],l=0;l<h.length;l++){var c=h[l],p=t.$options.props;o[c]=Vt(c,p,e,t)}wt(!0),t.$options.propsData=e}s=s||i;var u=t.$options._parentListeners;t.$options._parentListeners=s,ye(t,s,u),a&&(t.$slots=ve(n,r.context),t.$forceUpdate())}(e.componentInstance=t.componentInstance,s.propsData,s.listeners,e,s.children)},insert:function(t){var e,i=t.context,s=t.componentInstance;s._isMounted||(s._isMounted=!0,ke(s,"mounted")),t.data.keepAlive&&(i._isMounted?((e=s)._inactive=!1,Te.push(e)):we(s,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?function t(e,i){if(!(i&&(e._directInactive=!0,xe(e))||e._inactive)){e._inactive=!0;for(var s=0;s<e.$children.length;s++)t(e.$children[s]);ke(e,"deactivated")}}(e,!0):e.$destroy())}},si=Object.keys(ii);function ri(t,e,a,h,l){if(!s(t)){var c=a.$options._base;if(o(t)&&(t=c.extend(t)),"function"==typeof t){var p;if(s(t.cid)&&void 0===(t=function(t,e,i){if(n(t.error)&&r(t.errorComp))return t.errorComp;if(r(t.resolved))return t.resolved;if(n(t.loading)&&r(t.loadingComp))return t.loadingComp;if(!r(t.contexts)){var a=t.contexts=[i],h=!0,l=function(){for(var t=0,e=a.length;t<e;t++)a[t].$forceUpdate()},c=O(function(i){t.resolved=pe(i,e),h||l()}),p=O(function(e){r(t.errorComp)&&(t.error=!0,l())}),u=t(c,p);return o(u)&&("function"==typeof u.then?s(t.resolved)&&u.then(c,p):r(u.component)&&"function"==typeof u.component.then&&(u.component.then(c,p),r(u.error)&&(t.errorComp=pe(u.error,e)),r(u.loading)&&(t.loadingComp=pe(u.loading,e),0===u.delay?t.loading=!0:setTimeout(function(){s(t.resolved)&&s(t.error)&&(t.loading=!0,l())},u.delay||200)),r(u.timeout)&&setTimeout(function(){s(t.resolved)&&p(null)},u.timeout))),h=!1,t.loading?t.loadingComp:t.resolved}t.contexts.push(i)}(p=t,c,a)))return function(t,e,i,s,r){var n=mt();return n.asyncFactory=t,n.asyncMeta={data:e,context:i,children:s,tag:r},n}(p,e,a,h,l);e=e||{},li(t),r(e.model)&&function(t,e){var i=t.model&&t.model.prop||"value",s=t.model&&t.model.event||"input";(e.props||(e.props={}))[i]=e.model.value;var n=e.on||(e.on={});r(n[s])?n[s]=[e.model.callback].concat(n[s]):n[s]=e.model.callback}(t.options,e);var u=function(t,e,i){var n=e.options.props;if(!s(n)){var a={},o=t.attrs,h=t.props;if(r(o)||r(h))for(var l in n){var c=T(l);he(a,h,l,c,!0)||he(a,o,l,c,!1)}return a}}(e,t);if(n(t.options.functional))return function(t,e,s,n,a){var o=t.options,h={},l=o.props;if(r(l))for(var c in l)h[c]=Vt(c,l,e||i);else r(s.attrs)&&ei(h,s.attrs),r(s.props)&&ei(h,s.props);var p=new Qe(s,h,a,n,t),u=o.render.call(null,p._c,p);if(u instanceof ft)return ti(u,s,p.parent,o);if(Array.isArray(u)){for(var f=le(u)||[],d=new Array(f.length),m=0;m<f.length;m++)d[m]=ti(f[m],s,p.parent,o);return d}}(t,u,e,a,h);var f=e.on;if(e.on=e.nativeOn,n(t.options.abstract)){var d=e.slot;e={},d&&(e.slot=d)}!function(t){for(var e=t.hook||(t.hook={}),i=0;i<si.length;i++){var s=si[i];e[s]=ii[s]}}(e);var m=t.options.name||l;return new ft("vue-component-"+t.cid+(m?"-"+m:""),e,void 0,void 0,void 0,a,{Ctor:t,propsData:u,listeners:f,tag:l,children:h},p)}}}var ni=1,ai=2;function oi(t,e,i,h,l,c){return(Array.isArray(i)||a(i))&&(l=h,h=i,i=void 0),n(c)&&(l=ai),function(t,e,i,a,h){if(r(i)&&r(i.__ob__))return mt();r(i)&&r(i.is)&&(e=i.is);if(!e)return mt();0;Array.isArray(a)&&"function"==typeof a[0]&&((i=i||{}).scopedSlots={default:a[0]},a.length=0);h===ai?a=le(a):h===ni&&(a=function(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}(a));var l,c;if("string"==typeof e){var p;c=t.$vnode&&t.$vnode.ns||R.getTagNamespace(e),l=R.isReservedTag(e)?new ft(R.parsePlatformTagName(e),i,a,void 0,void 0,t):r(p=Lt(t.$options,"components",e))?ri(p,i,t,a,e):new ft(e,i,a,void 0,void 0,t)}else l=ri(e,i,t,a);return Array.isArray(l)?l:r(l)?(r(c)&&function t(e,i,a){e.ns=i;"foreignObject"===e.tag&&(i=void 0,a=!0);if(r(e.children))for(var o=0,h=e.children.length;o<h;o++){var l=e.children[o];r(l.tag)&&(s(l.ns)||n(a)&&"svg"!==l.tag)&&t(l,i,a)}}(l,c),r(i)&&function(t){o(t.style)&&ie(t.style);o(t.class)&&ie(t.class)}(i),l):mt()}(t,e,i,h,l)}var hi=0;function li(t){var e=t.options;if(t.super){var i=li(t.super);if(i!==t.superOptions){t.superOptions=i;var s=function(t){var e,i=t.options,s=t.extendOptions,r=t.sealedOptions;for(var n in i)i[n]!==r[n]&&(e||(e={}),e[n]=ci(i[n],s[n],r[n]));return e}(t);s&&A(t.extendOptions,s),(e=t.options=Ft(i,t.extendOptions)).name&&(e.components[e.name]=t)}}return e}function ci(t,e,i){if(Array.isArray(t)){var s=[];i=Array.isArray(i)?i:[i],e=Array.isArray(e)?e:[e];for(var r=0;r<t.length;r++)(e.indexOf(t[r])>=0||i.indexOf(t[r])<0)&&s.push(t[r]);return s}return t}function pi(t){this._init(t)}function ui(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var i=this,s=i.cid,r=t._Ctor||(t._Ctor={});if(r[s])return r[s];var n=t.name||i.options.name;var a=function(t){this._init(t)};return(a.prototype=Object.create(i.prototype)).constructor=a,a.cid=e++,a.options=Ft(i.options,t),a.super=i,a.options.props&&function(t){var e=t.options.props;for(var i in e)ze(t.prototype,"_props",i)}(a),a.options.computed&&function(t){var e=t.options.computed;for(var i in e)Le(t.prototype,i,e[i])}(a),a.extend=i.extend,a.mixin=i.mixin,a.use=i.use,L.forEach(function(t){a[t]=i[t]}),n&&(a.options.components[n]=a),a.superOptions=i.options,a.extendOptions=t,a.sealedOptions=A({},a.options),r[s]=a,a}}function fi(t){return t&&(t.Ctor.options.name||t.tag)}function di(t,e){return Array.isArray(t)?t.indexOf(e)>-1:"string"==typeof t?t.split(",").indexOf(e)>-1:!!c(t)&&t.test(e)}function mi(t,e){var i=t.cache,s=t.keys,r=t._vnode;for(var n in i){var a=i[n];if(a){var o=fi(a.componentOptions);o&&!e(o)&&yi(i,n,s,r)}}}function yi(t,e,i,s){var r=t[e];!r||s&&r.tag===s.tag||r.componentInstance.$destroy(),t[e]=null,v(i,e)}!function(t){t.prototype._init=function(t){var e=this;e._uid=hi++,e._isVue=!0,t&&t._isComponent?function(t,e){var i=t.$options=Object.create(t.constructor.options),s=e._parentVnode;i.parent=e.parent,i._parentVnode=s,i._parentElm=e._parentElm,i._refElm=e._refElm;var r=s.componentOptions;i.propsData=r.propsData,i._parentListeners=r.listeners,i._renderChildren=r.children,i._componentTag=r.tag,e.render&&(i.render=e.render,i.staticRenderFns=e.staticRenderFns)}(e,t):e.$options=Ft(li(e.constructor),t||{},e),e._renderProxy=e,e._self=e,function(t){var e=t.$options,i=e.parent;if(i&&!e.abstract){for(;i.$options.abstract&&i.$parent;)i=i.$parent;i.$children.push(t)}t.$parent=i,t.$root=i?i.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}(e),function(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&ye(t,e)}(e),function(t){t._vnode=null,t._staticTrees=null;var e=t.$options,s=t.$vnode=e._parentVnode,r=s&&s.context;t.$slots=ve(e._renderChildren,r),t.$scopedSlots=i,t._c=function(e,i,s,r){return oi(t,e,i,s,r,!1)},t.$createElement=function(e,i,s,r){return oi(t,e,i,s,r,!0)};var n=s&&s.data;St(t,"$attrs",n&&n.attrs||i,null,!0),St(t,"$listeners",e._parentListeners||i,null,!0)}(e),ke(e,"beforeCreate"),function(t){var e=je(t.$options.inject,t);e&&(wt(!1),Object.keys(e).forEach(function(i){St(t,i,e[i])}),wt(!0))}(e),Oe(e),function(t){var e=t.$options.provide;e&&(t._provided="function"==typeof e?e.call(t):e)}(e),ke(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}(pi),function(t){var e={get:function(){return this._data}},i={get:function(){return this._props}};Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",i),t.prototype.$set=At,t.prototype.$delete=Ct,t.prototype.$watch=function(t,e,i){if(l(e))return Re(this,t,e,i);(i=i||{}).user=!0;var s=new Ie(this,t,e,i);return i.immediate&&e.call(this,s.value),function(){s.teardown()}}}(pi),function(t){var e=/^hook:/;t.prototype.$on=function(t,i){if(Array.isArray(t))for(var s=0,r=t.length;s<r;s++)this.$on(t[s],i);else(this._events[t]||(this._events[t]=[])).push(i),e.test(t)&&(this._hasHookEvent=!0);return this},t.prototype.$once=function(t,e){var i=this;function s(){i.$off(t,s),e.apply(i,arguments)}return s.fn=e,i.$on(t,s),i},t.prototype.$off=function(t,e){var i=this;if(!arguments.length)return i._events=Object.create(null),i;if(Array.isArray(t)){for(var s=0,r=t.length;s<r;s++)this.$off(t[s],e);return i}var n=i._events[t];if(!n)return i;if(!e)return i._events[t]=null,i;if(e)for(var a,o=n.length;o--;)if((a=n[o])===e||a.fn===e){n.splice(o,1);break}return i},t.prototype.$emit=function(t){var e=this,i=e._events[t];if(i){i=i.length>1?S(i):i;for(var s=S(arguments,1),r=0,n=i.length;r<n;r++)try{i[r].apply(e,s)}catch(i){Ht(i,e,'event handler for "'+t+'"')}}return e}}(pi),function(t){t.prototype._update=function(t,e){var i=this;i._isMounted&&ke(i,"beforeUpdate");var s=i.$el,r=i._vnode,n=be;be=i,i._vnode=t,r?i.$el=i.__patch__(r,t):(i.$el=i.__patch__(i.$el,t,e,!1,i.$options._parentElm,i.$options._refElm),i.$options._parentElm=i.$options._refElm=null),be=n,s&&(s.__vue__=null),i.$el&&(i.$el.__vue__=i),i.$vnode&&i.$parent&&i.$vnode===i.$parent._vnode&&(i.$parent.$el=i.$el)},t.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){ke(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||v(e.$children,t),t._watcher&&t._watcher.teardown();for(var i=t._watchers.length;i--;)t._watchers[i].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),ke(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}(pi),function(t){Ke(t.prototype),t.prototype.$nextTick=function(t){return te(t,this)},t.prototype._render=function(){var t,e=this,s=e.$options,r=s.render,n=s._parentVnode;n&&(e.$scopedSlots=n.data.scopedSlots||i),e.$vnode=n;try{t=r.call(e._renderProxy,e.$createElement)}catch(i){Ht(i,e,"render"),t=e._vnode}return t instanceof ft||(t=mt()),t.parent=n,t}}(pi);var vi=[String,RegExp,Array],gi={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:vi,exclude:vi,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)yi(this.cache,t,this.keys)},mounted:function(){var t=this;this.$watch("include",function(e){mi(t,function(t){return di(e,t)})}),this.$watch("exclude",function(e){mi(t,function(t){return!di(e,t)})})},render:function(){var t=this.$slots.default,e=fe(t),i=e&&e.componentOptions;if(i){var s=fi(i),r=this.include,n=this.exclude;if(r&&(!s||!di(r,s))||n&&s&&di(n,s))return e;var a=this.cache,o=this.keys,h=null==e.key?i.Ctor.cid+(i.tag?"::"+i.tag:""):e.key;a[h]?(e.componentInstance=a[h].componentInstance,v(o,h),o.push(h)):(a[h]=e,o.push(h),this.max&&o.length>parseInt(this.max)&&yi(a,o[0],o,this._vnode)),e.data.keepAlive=!0}return e||t&&t[0]}}};!function(t){var e={get:function(){return R}};Object.defineProperty(t,"config",e),t.util={warn:ot,extend:A,mergeOptions:Ft,defineReactive:St},t.set=At,t.delete=Ct,t.nextTick=te,t.options=Object.create(null),L.forEach(function(e){t.options[e+"s"]=Object.create(null)}),t.options._base=t,A(t.options.components,gi),function(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var i=S(arguments,1);return i.unshift(this),"function"==typeof t.install?t.install.apply(t,i):"function"==typeof t&&t.apply(null,i),e.push(t),this}}(t),function(t){t.mixin=function(t){return this.options=Ft(this.options,t),this}}(t),ui(t),function(t){L.forEach(function(e){t[e]=function(t,i){return i?("component"===e&&l(i)&&(i.name=i.name||t,i=this.options._base.extend(i)),"directive"===e&&"function"==typeof i&&(i={bind:i,update:i}),this.options[e+"s"][t]=i,i):this.options[e+"s"][t]}})}(t)}(pi),Object.defineProperty(pi.prototype,"$isServer",{get:it}),Object.defineProperty(pi.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(pi,"FunctionalRenderContext",{value:Qe}),pi.version="2.5.16";var _i=d("style,class"),bi=d("input,textarea,option,select,progress"),xi=function(t,e,i){return"value"===i&&bi(t)&&"button"!==e||"selected"===i&&"option"===t||"checked"===i&&"input"===t||"muted"===i&&"video"===t},wi=d("contenteditable,draggable,spellcheck"),ki=d("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),Pi="http://www.w3.org/1999/xlink",Ti=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},Ei=function(t){return Ti(t)?t.slice(6,t.length):""},Si=function(t){return null==t||!1===t};function Ai(t){for(var e=t.data,i=t,s=t;r(s.componentInstance);)(s=s.componentInstance._vnode)&&s.data&&(e=Ci(s.data,e));for(;r(i=i.parent);)i&&i.data&&(e=Ci(e,i.data));return function(t,e){if(r(t)||r(e))return Mi(t,Ni(e));return""}(e.staticClass,e.class)}function Ci(t,e){return{staticClass:Mi(t.staticClass,e.staticClass),class:r(t.class)?[t.class,e.class]:e.class}}function Mi(t,e){return t?e?t+" "+e:t:e||""}function Ni(t){return Array.isArray(t)?function(t){for(var e,i="",s=0,n=t.length;s<n;s++)r(e=Ni(t[s]))&&""!==e&&(i&&(i+=" "),i+=e);return i}(t):o(t)?function(t){var e="";for(var i in t)t[i]&&(e&&(e+=" "),e+=i);return e}(t):"string"==typeof t?t:""}var Ii={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Di=d("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),zi=d("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Oi=function(t){return Di(t)||zi(t)};function Fi(t){return zi(t)?"svg":"math"===t?"math":void 0}var Li=Object.create(null);var Vi=d("text,number,password,search,email,tel,url");function Ri(t){if("string"==typeof t){var e=document.querySelector(t);return e||document.createElement("div")}return t}var ji=Object.freeze({createElement:function(t,e){var i=document.createElement(t);return"select"!==t?i:(e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&i.setAttribute("multiple","multiple"),i)},createElementNS:function(t,e){return document.createElementNS(Ii[t],e)},createTextNode:function(t){return document.createTextNode(t)},createComment:function(t){return document.createComment(t)},insertBefore:function(t,e,i){t.insertBefore(e,i)},removeChild:function(t,e){t.removeChild(e)},appendChild:function(t,e){t.appendChild(e)},parentNode:function(t){return t.parentNode},nextSibling:function(t){return t.nextSibling},tagName:function(t){return t.tagName},setTextContent:function(t,e){t.textContent=e},setStyleScope:function(t,e){t.setAttribute(e,"")}}),Bi={create:function(t,e){Hi(e)},update:function(t,e){t.data.ref!==e.data.ref&&(Hi(t,!0),Hi(e))},destroy:function(t){Hi(t,!0)}};function Hi(t,e){var i=t.data.ref;if(r(i)){var s=t.context,n=t.componentInstance||t.elm,a=s.$refs;e?Array.isArray(a[i])?v(a[i],n):a[i]===n&&(a[i]=void 0):t.data.refInFor?Array.isArray(a[i])?a[i].indexOf(n)<0&&a[i].push(n):a[i]=[n]:a[i]=n}}var $i=new ft("",{},[]),Gi=["create","activate","update","remove","destroy"];function Ui(t,e){return t.key===e.key&&(t.tag===e.tag&&t.isComment===e.isComment&&r(t.data)===r(e.data)&&function(t,e){if("input"!==t.tag)return!0;var i,s=r(i=t.data)&&r(i=i.attrs)&&i.type,n=r(i=e.data)&&r(i=i.attrs)&&i.type;return s===n||Vi(s)&&Vi(n)}(t,e)||n(t.isAsyncPlaceholder)&&t.asyncFactory===e.asyncFactory&&s(e.asyncFactory.error))}function qi(t,e,i){var s,n,a={};for(s=e;s<=i;++s)r(n=t[s].key)&&(a[n]=s);return a}var Xi={create:Wi,update:Wi,destroy:function(t){Wi(t,$i)}};function Wi(t,e){(t.data.directives||e.data.directives)&&function(t,e){var i,s,r,n=t===$i,a=e===$i,o=Zi(t.data.directives,t.context),h=Zi(e.data.directives,e.context),l=[],c=[];for(i in h)s=o[i],r=h[i],s?(r.oldValue=s.value,Ki(r,"update",e,t),r.def&&r.def.componentUpdated&&c.push(r)):(Ki(r,"bind",e,t),r.def&&r.def.inserted&&l.push(r));if(l.length){var p=function(){for(var i=0;i<l.length;i++)Ki(l[i],"inserted",e,t)};n?oe(e,"insert",p):p()}c.length&&oe(e,"postpatch",function(){for(var i=0;i<c.length;i++)Ki(c[i],"componentUpdated",e,t)});if(!n)for(i in o)h[i]||Ki(o[i],"unbind",t,t,a)}(t,e)}var Yi=Object.create(null);function Zi(t,e){var i,s,r=Object.create(null);if(!t)return r;for(i=0;i<t.length;i++)(s=t[i]).modifiers||(s.modifiers=Yi),r[Ji(s)]=s,s.def=Lt(e.$options,"directives",s.name);return r}function Ji(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function Ki(t,e,i,s,r){var n=t.def&&t.def[e];if(n)try{n(i.elm,t,i,s,r)}catch(s){Ht(s,i.context,"directive "+t.name+" "+e+" hook")}}var Qi=[Bi,Xi];function ts(t,e){var i=e.componentOptions;if(!(r(i)&&!1===i.Ctor.options.inheritAttrs||s(t.data.attrs)&&s(e.data.attrs))){var n,a,o=e.elm,h=t.data.attrs||{},l=e.data.attrs||{};for(n in r(l.__ob__)&&(l=e.data.attrs=A({},l)),l)a=l[n],h[n]!==a&&es(o,n,a);for(n in(Y||J)&&l.value!==h.value&&es(o,"value",l.value),h)s(l[n])&&(Ti(n)?o.removeAttributeNS(Pi,Ei(n)):wi(n)||o.removeAttribute(n))}}function es(t,e,i){t.tagName.indexOf("-")>-1?is(t,e,i):ki(e)?Si(i)?t.removeAttribute(e):(i="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,i)):wi(e)?t.setAttribute(e,Si(i)||"false"===i?"false":"true"):Ti(e)?Si(i)?t.removeAttributeNS(Pi,Ei(e)):t.setAttributeNS(Pi,e,i):is(t,e,i)}function is(t,e,i){if(Si(i))t.removeAttribute(e);else{if(Y&&!Z&&"TEXTAREA"===t.tagName&&"placeholder"===e&&!t.__ieph){var s=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",s)};t.addEventListener("input",s),t.__ieph=!0}t.setAttribute(e,i)}}var ss={create:ts,update:ts};function rs(t,e){var i=e.elm,n=e.data,a=t.data;if(!(s(n.staticClass)&&s(n.class)&&(s(a)||s(a.staticClass)&&s(a.class)))){var o=Ai(e),h=i._transitionClasses;r(h)&&(o=Mi(o,Ni(h))),o!==i._prevClass&&(i.setAttribute("class",o),i._prevClass=o)}}var ns,as,os,hs,ls,cs,ps={create:rs,update:rs},us=/[\w).+\-_$\]]/;function fs(t){var e,i,s,r,n,a=!1,o=!1,h=!1,l=!1,c=0,p=0,u=0,f=0;for(s=0;s<t.length;s++)if(i=e,e=t.charCodeAt(s),a)39===e&&92!==i&&(a=!1);else if(o)34===e&&92!==i&&(o=!1);else if(h)96===e&&92!==i&&(h=!1);else if(l)47===e&&92!==i&&(l=!1);else if(124!==e||124===t.charCodeAt(s+1)||124===t.charCodeAt(s-1)||c||p||u){switch(e){case 34:o=!0;break;case 39:a=!0;break;case 96:h=!0;break;case 40:u++;break;case 41:u--;break;case 91:p++;break;case 93:p--;break;case 123:c++;break;case 125:c--}if(47===e){for(var d=s-1,m=void 0;d>=0&&" "===(m=t.charAt(d));d--);m&&us.test(m)||(l=!0)}}else void 0===r?(f=s+1,r=t.slice(0,s).trim()):y();function y(){(n||(n=[])).push(t.slice(f,s).trim()),f=s+1}if(void 0===r?r=t.slice(0,s).trim():0!==f&&y(),n)for(s=0;s<n.length;s++)r=ds(r,n[s]);return r}function ds(t,e){var i=e.indexOf("(");if(i<0)return'_f("'+e+'")('+t+")";var s=e.slice(0,i),r=e.slice(i+1);return'_f("'+s+'")('+t+(")"!==r?","+r:r)}function ms(t){console.error("[Vue compiler]: "+t)}function ys(t,e){return t?t.map(function(t){return t[e]}).filter(function(t){return t}):[]}function vs(t,e,i){(t.props||(t.props=[])).push({name:e,value:i}),t.plain=!1}function gs(t,e,i){(t.attrs||(t.attrs=[])).push({name:e,value:i}),t.plain=!1}function _s(t,e,i){t.attrsMap[e]=i,t.attrsList.push({name:e,value:i})}function bs(t,e,i,s,r,n){(t.directives||(t.directives=[])).push({name:e,rawName:i,value:s,arg:r,modifiers:n}),t.plain=!1}function xs(t,e,s,r,n,a){var o;(r=r||i).capture&&(delete r.capture,e="!"+e),r.once&&(delete r.once,e="~"+e),r.passive&&(delete r.passive,e="&"+e),"click"===e&&(r.right?(e="contextmenu",delete r.right):r.middle&&(e="mouseup")),r.native?(delete r.native,o=t.nativeEvents||(t.nativeEvents={})):o=t.events||(t.events={});var h={value:s.trim()};r!==i&&(h.modifiers=r);var l=o[e];Array.isArray(l)?n?l.unshift(h):l.push(h):o[e]=l?n?[h,l]:[l,h]:h,t.plain=!1}function ws(t,e,i){var s=ks(t,":"+e)||ks(t,"v-bind:"+e);if(null!=s)return fs(s);if(!1!==i){var r=ks(t,e);if(null!=r)return JSON.stringify(r)}}function ks(t,e,i){var s;if(null!=(s=t.attrsMap[e]))for(var r=t.attrsList,n=0,a=r.length;n<a;n++)if(r[n].name===e){r.splice(n,1);break}return i&&delete t.attrsMap[e],s}function Ps(t,e,i){var s=i||{},r=s.number,n="$$v";s.trim&&(n="(typeof $$v === 'string'? $$v.trim(): $$v)"),r&&(n="_n("+n+")");var a=Ts(e,n);t.model={value:"("+e+")",expression:'"'+e+'"',callback:"function ($$v) {"+a+"}"}}function Ts(t,e){var i=function(t){if(t=t.trim(),ns=t.length,t.indexOf("[")<0||t.lastIndexOf("]")<ns-1)return(hs=t.lastIndexOf("."))>-1?{exp:t.slice(0,hs),key:'"'+t.slice(hs+1)+'"'}:{exp:t,key:null};as=t,hs=ls=cs=0;for(;!Ss();)As(os=Es())?Ms(os):91===os&&Cs(os);return{exp:t.slice(0,ls),key:t.slice(ls+1,cs)}}(t);return null===i.key?t+"="+e:"$set("+i.exp+", "+i.key+", "+e+")"}function Es(){return as.charCodeAt(++hs)}function Ss(){return hs>=ns}function As(t){return 34===t||39===t}function Cs(t){var e=1;for(ls=hs;!Ss();)if(As(t=Es()))Ms(t);else if(91===t&&e++,93===t&&e--,0===e){cs=hs;break}}function Ms(t){for(var e=t;!Ss()&&(t=Es())!==e;);}var Ns,Is="__r",Ds="__c";function zs(t,e,i,s,r){var n;e=(n=e)._withTask||(n._withTask=function(){Zt=!0;var t=n.apply(null,arguments);return Zt=!1,t}),i&&(e=function(t,e,i){var s=Ns;return function r(){null!==t.apply(null,arguments)&&Os(e,r,i,s)}}(e,t,s)),Ns.addEventListener(t,e,tt?{capture:s,passive:r}:s)}function Os(t,e,i,s){(s||Ns).removeEventListener(t,e._withTask||e,i)}function Fs(t,e){if(!s(t.data.on)||!s(e.data.on)){var i=e.data.on||{},n=t.data.on||{};Ns=e.elm,function(t){if(r(t[Is])){var e=Y?"change":"input";t[e]=[].concat(t[Is],t[e]||[]),delete t[Is]}r(t[Ds])&&(t.change=[].concat(t[Ds],t.change||[]),delete t[Ds])}(i),ae(i,n,zs,Os,e.context),Ns=void 0}}var Ls={create:Fs,update:Fs};function Vs(t,e){if(!s(t.data.domProps)||!s(e.data.domProps)){var i,n,a=e.elm,o=t.data.domProps||{},h=e.data.domProps||{};for(i in r(h.__ob__)&&(h=e.data.domProps=A({},h)),o)s(h[i])&&(a[i]="");for(i in h){if(n=h[i],"textContent"===i||"innerHTML"===i){if(e.children&&(e.children.length=0),n===o[i])continue;1===a.childNodes.length&&a.removeChild(a.childNodes[0])}if("value"===i){a._value=n;var l=s(n)?"":String(n);Rs(a,l)&&(a.value=l)}else a[i]=n}}}function Rs(t,e){return!t.composing&&("OPTION"===t.tagName||function(t,e){var i=!0;try{i=document.activeElement!==t}catch(t){}return i&&t.value!==e}(t,e)||function(t,e){var i=t.value,s=t._vModifiers;if(r(s)){if(s.lazy)return!1;if(s.number)return f(i)!==f(e);if(s.trim)return i.trim()!==e.trim()}return i!==e}(t,e))}var js={create:Vs,update:Vs},Bs=b(function(t){var e={},i=/:(.+)/;return t.split(/;(?![^(]*\))/g).forEach(function(t){if(t){var s=t.split(i);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e});function Hs(t){var e=$s(t.style);return t.staticStyle?A(t.staticStyle,e):e}function $s(t){return Array.isArray(t)?C(t):"string"==typeof t?Bs(t):t}var Gs,Us=/^--/,qs=/\s*!important$/,Xs=function(t,e,i){if(Us.test(e))t.style.setProperty(e,i);else if(qs.test(i))t.style.setProperty(e,i.replace(qs,""),"important");else{var s=Ys(e);if(Array.isArray(i))for(var r=0,n=i.length;r<n;r++)t.style[s]=i[r];else t.style[s]=i}},Ws=["Webkit","Moz","ms"],Ys=b(function(t){if(Gs=Gs||document.createElement("div").style,"filter"!==(t=w(t))&&t in Gs)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<Ws.length;i++){var s=Ws[i]+e;if(s in Gs)return s}});function Zs(t,e){var i=e.data,n=t.data;if(!(s(i.staticStyle)&&s(i.style)&&s(n.staticStyle)&&s(n.style))){var a,o,h=e.elm,l=n.staticStyle,c=n.normalizedStyle||n.style||{},p=l||c,u=$s(e.data.style)||{};e.data.normalizedStyle=r(u.__ob__)?A({},u):u;var f=function(t,e){var i,s={};if(e)for(var r=t;r.componentInstance;)(r=r.componentInstance._vnode)&&r.data&&(i=Hs(r.data))&&A(s,i);(i=Hs(t.data))&&A(s,i);for(var n=t;n=n.parent;)n.data&&(i=Hs(n.data))&&A(s,i);return s}(e,!0);for(o in p)s(f[o])&&Xs(h,o,"");for(o in f)(a=f[o])!==p[o]&&Xs(h,o,null==a?"":a)}}var Js={create:Zs,update:Zs};function Ks(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(/\s+/).forEach(function(e){return t.classList.add(e)}):t.classList.add(e);else{var i=" "+(t.getAttribute("class")||"")+" ";i.indexOf(" "+e+" ")<0&&t.setAttribute("class",(i+e).trim())}}function Qs(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(/\s+/).forEach(function(e){return t.classList.remove(e)}):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{for(var i=" "+(t.getAttribute("class")||"")+" ",s=" "+e+" ";i.indexOf(s)>=0;)i=i.replace(s," ");(i=i.trim())?t.setAttribute("class",i):t.removeAttribute("class")}}function tr(t){if(t){if("object"==typeof t){var e={};return!1!==t.css&&A(e,er(t.name||"v")),A(e,t),e}return"string"==typeof t?er(t):void 0}}var er=b(function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}}),ir=U&&!Z,sr="transition",rr="animation",nr="transition",ar="transitionend",or="animation",hr="animationend";ir&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(nr="WebkitTransition",ar="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(or="WebkitAnimation",hr="webkitAnimationEnd"));var lr=U?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function cr(t){lr(function(){lr(t)})}function pr(t,e){var i=t._transitionClasses||(t._transitionClasses=[]);i.indexOf(e)<0&&(i.push(e),Ks(t,e))}function ur(t,e){t._transitionClasses&&v(t._transitionClasses,e),Qs(t,e)}function fr(t,e,i){var s=mr(t,e),r=s.type,n=s.timeout,a=s.propCount;if(!r)return i();var o=r===sr?ar:hr,h=0,l=function(){t.removeEventListener(o,c),i()},c=function(e){e.target===t&&++h>=a&&l()};setTimeout(function(){h<a&&l()},n+1),t.addEventListener(o,c)}var dr=/\b(transform|all)(,|$)/;function mr(t,e){var i,s=window.getComputedStyle(t),r=s[nr+"Delay"].split(", "),n=s[nr+"Duration"].split(", "),a=yr(r,n),o=s[or+"Delay"].split(", "),h=s[or+"Duration"].split(", "),l=yr(o,h),c=0,p=0;return e===sr?a>0&&(i=sr,c=a,p=n.length):e===rr?l>0&&(i=rr,c=l,p=h.length):p=(i=(c=Math.max(a,l))>0?a>l?sr:rr:null)?i===sr?n.length:h.length:0,{type:i,timeout:c,propCount:p,hasTransform:i===sr&&dr.test(s[nr+"Property"])}}function yr(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max.apply(null,e.map(function(e,i){return vr(e)+vr(t[i])}))}function vr(t){return 1e3*Number(t.slice(0,-1))}function gr(t,e){var i=t.elm;r(i._leaveCb)&&(i._leaveCb.cancelled=!0,i._leaveCb());var n=tr(t.data.transition);if(!s(n)&&!r(i._enterCb)&&1===i.nodeType){for(var a=n.css,h=n.type,l=n.enterClass,c=n.enterToClass,p=n.enterActiveClass,u=n.appearClass,d=n.appearToClass,m=n.appearActiveClass,y=n.beforeEnter,v=n.enter,g=n.afterEnter,_=n.enterCancelled,b=n.beforeAppear,x=n.appear,w=n.afterAppear,k=n.appearCancelled,P=n.duration,T=be,E=be.$vnode;E&&E.parent;)T=(E=E.parent).context;var S=!T._isMounted||!t.isRootInsert;if(!S||x||""===x){var A=S&&u?u:l,C=S&&m?m:p,M=S&&d?d:c,N=S&&b||y,I=S&&"function"==typeof x?x:v,D=S&&w||g,z=S&&k||_,F=f(o(P)?P.enter:P);0;var L=!1!==a&&!Z,V=xr(I),R=i._enterCb=O(function(){L&&(ur(i,M),ur(i,C)),R.cancelled?(L&&ur(i,A),z&&z(i)):D&&D(i),i._enterCb=null});t.data.show||oe(t,"insert",function(){var e=i.parentNode,s=e&&e._pending&&e._pending[t.key];s&&s.tag===t.tag&&s.elm._leaveCb&&s.elm._leaveCb(),I&&I(i,R)}),N&&N(i),L&&(pr(i,A),pr(i,C),cr(function(){ur(i,A),R.cancelled||(pr(i,M),V||(br(F)?setTimeout(R,F):fr(i,h,R)))})),t.data.show&&(e&&e(),I&&I(i,R)),L||V||R()}}}function _r(t,e){var i=t.elm;r(i._enterCb)&&(i._enterCb.cancelled=!0,i._enterCb());var n=tr(t.data.transition);if(s(n)||1!==i.nodeType)return e();if(!r(i._leaveCb)){var a=n.css,h=n.type,l=n.leaveClass,c=n.leaveToClass,p=n.leaveActiveClass,u=n.beforeLeave,d=n.leave,m=n.afterLeave,y=n.leaveCancelled,v=n.delayLeave,g=n.duration,_=!1!==a&&!Z,b=xr(d),x=f(o(g)?g.leave:g);0;var w=i._leaveCb=O(function(){i.parentNode&&i.parentNode._pending&&(i.parentNode._pending[t.key]=null),_&&(ur(i,c),ur(i,p)),w.cancelled?(_&&ur(i,l),y&&y(i)):(e(),m&&m(i)),i._leaveCb=null});v?v(k):k()}function k(){w.cancelled||(t.data.show||((i.parentNode._pending||(i.parentNode._pending={}))[t.key]=t),u&&u(i),_&&(pr(i,l),pr(i,p),cr(function(){ur(i,l),w.cancelled||(pr(i,c),b||(br(x)?setTimeout(w,x):fr(i,h,w)))})),d&&d(i,w),_||b||w())}}function br(t){return"number"==typeof t&&!isNaN(t)}function xr(t){if(s(t))return!1;var e=t.fns;return r(e)?xr(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function wr(t,e){!0!==e.data.show&&gr(e)}var kr=function(t){var e,i,o={},h=t.modules,l=t.nodeOps;for(e=0;e<Gi.length;++e)for(o[Gi[e]]=[],i=0;i<h.length;++i)r(h[i][Gi[e]])&&o[Gi[e]].push(h[i][Gi[e]]);function c(t){var e=l.parentNode(t);r(e)&&l.removeChild(e,t)}function p(t,e,i,s,a,h,c){if(r(t.elm)&&r(h)&&(t=h[c]=vt(t)),t.isRootInsert=!a,!function(t,e,i,s){var a=t.data;if(r(a)){var h=r(t.componentInstance)&&a.keepAlive;if(r(a=a.hook)&&r(a=a.init)&&a(t,!1,i,s),r(t.componentInstance))return u(t,e),n(h)&&function(t,e,i,s){for(var n,a=t;a.componentInstance;)if(a=a.componentInstance._vnode,r(n=a.data)&&r(n=n.transition)){for(n=0;n<o.activate.length;++n)o.activate[n]($i,a);e.push(a);break}f(i,t.elm,s)}(t,e,i,s),!0}}(t,e,i,s)){var p=t.data,d=t.children,y=t.tag;r(y)?(t.elm=t.ns?l.createElementNS(t.ns,y):l.createElement(y,t),g(t),m(t,d,e),r(p)&&v(t,e),f(i,t.elm,s)):n(t.isComment)?(t.elm=l.createComment(t.text),f(i,t.elm,s)):(t.elm=l.createTextNode(t.text),f(i,t.elm,s))}}function u(t,e){r(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,y(t)?(v(t,e),g(t)):(Hi(t),e.push(t))}function f(t,e,i){r(t)&&(r(i)?i.parentNode===t&&l.insertBefore(t,e,i):l.appendChild(t,e))}function m(t,e,i){if(Array.isArray(e))for(var s=0;s<e.length;++s)p(e[s],i,t.elm,null,!0,e,s);else a(t.text)&&l.appendChild(t.elm,l.createTextNode(String(t.text)))}function y(t){for(;t.componentInstance;)t=t.componentInstance._vnode;return r(t.tag)}function v(t,i){for(var s=0;s<o.create.length;++s)o.create[s]($i,t);r(e=t.data.hook)&&(r(e.create)&&e.create($i,t),r(e.insert)&&i.push(t))}function g(t){var e;if(r(e=t.fnScopeId))l.setStyleScope(t.elm,e);else for(var i=t;i;)r(e=i.context)&&r(e=e.$options._scopeId)&&l.setStyleScope(t.elm,e),i=i.parent;r(e=be)&&e!==t.context&&e!==t.fnContext&&r(e=e.$options._scopeId)&&l.setStyleScope(t.elm,e)}function _(t,e,i,s,r,n){for(;s<=r;++s)p(i[s],n,t,e,!1,i,s)}function b(t){var e,i,s=t.data;if(r(s))for(r(e=s.hook)&&r(e=e.destroy)&&e(t),e=0;e<o.destroy.length;++e)o.destroy[e](t);if(r(e=t.children))for(i=0;i<t.children.length;++i)b(t.children[i])}function x(t,e,i,s){for(;i<=s;++i){var n=e[i];r(n)&&(r(n.tag)?(w(n),b(n)):c(n.elm))}}function w(t,e){if(r(e)||r(t.data)){var i,s=o.remove.length+1;for(r(e)?e.listeners+=s:e=function(t,e){function i(){0==--i.listeners&&c(t)}return i.listeners=e,i}(t.elm,s),r(i=t.componentInstance)&&r(i=i._vnode)&&r(i.data)&&w(i,e),i=0;i<o.remove.length;++i)o.remove[i](t,e);r(i=t.data.hook)&&r(i=i.remove)?i(t,e):e()}else c(t.elm)}function k(t,e,i,s){for(var n=i;n<s;n++){var a=e[n];if(r(a)&&Ui(t,a))return n}}function P(t,e,i,a){if(t!==e){var h=e.elm=t.elm;if(n(t.isAsyncPlaceholder))r(e.asyncFactory.resolved)?S(t.elm,e,i):e.isAsyncPlaceholder=!0;else if(n(e.isStatic)&&n(t.isStatic)&&e.key===t.key&&(n(e.isCloned)||n(e.isOnce)))e.componentInstance=t.componentInstance;else{var c,u=e.data;r(u)&&r(c=u.hook)&&r(c=c.prepatch)&&c(t,e);var f=t.children,d=e.children;if(r(u)&&y(e)){for(c=0;c<o.update.length;++c)o.update[c](t,e);r(c=u.hook)&&r(c=c.update)&&c(t,e)}s(e.text)?r(f)&&r(d)?f!==d&&function(t,e,i,n,a){for(var o,h,c,u=0,f=0,d=e.length-1,m=e[0],y=e[d],v=i.length-1,g=i[0],b=i[v],w=!a;u<=d&&f<=v;)s(m)?m=e[++u]:s(y)?y=e[--d]:Ui(m,g)?(P(m,g,n),m=e[++u],g=i[++f]):Ui(y,b)?(P(y,b,n),y=e[--d],b=i[--v]):Ui(m,b)?(P(m,b,n),w&&l.insertBefore(t,m.elm,l.nextSibling(y.elm)),m=e[++u],b=i[--v]):Ui(y,g)?(P(y,g,n),w&&l.insertBefore(t,y.elm,m.elm),y=e[--d],g=i[++f]):(s(o)&&(o=qi(e,u,d)),s(h=r(g.key)?o[g.key]:k(g,e,u,d))?p(g,n,t,m.elm,!1,i,f):Ui(c=e[h],g)?(P(c,g,n),e[h]=void 0,w&&l.insertBefore(t,c.elm,m.elm)):p(g,n,t,m.elm,!1,i,f),g=i[++f]);u>d?_(t,s(i[v+1])?null:i[v+1].elm,i,f,v,n):f>v&&x(0,e,u,d)}(h,f,d,i,a):r(d)?(r(t.text)&&l.setTextContent(h,""),_(h,null,d,0,d.length-1,i)):r(f)?x(0,f,0,f.length-1):r(t.text)&&l.setTextContent(h,""):t.text!==e.text&&l.setTextContent(h,e.text),r(u)&&r(c=u.hook)&&r(c=c.postpatch)&&c(t,e)}}}function T(t,e,i){if(n(i)&&r(t.parent))t.parent.data.pendingInsert=e;else for(var s=0;s<e.length;++s)e[s].data.hook.insert(e[s])}var E=d("attrs,class,staticClass,staticStyle,key");function S(t,e,i,s){var a,o=e.tag,h=e.data,l=e.children;if(s=s||h&&h.pre,e.elm=t,n(e.isComment)&&r(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(r(h)&&(r(a=h.hook)&&r(a=a.init)&&a(e,!0),r(a=e.componentInstance)))return u(e,i),!0;if(r(o)){if(r(l))if(t.hasChildNodes())if(r(a=h)&&r(a=a.domProps)&&r(a=a.innerHTML)){if(a!==t.innerHTML)return!1}else{for(var c=!0,p=t.firstChild,f=0;f<l.length;f++){if(!p||!S(p,l[f],i,s)){c=!1;break}p=p.nextSibling}if(!c||p)return!1}else m(e,l,i);if(r(h)){var d=!1;for(var y in h)if(!E(y)){d=!0,v(e,i);break}!d&&h.class&&ie(h.class)}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,i,a,h,c){if(!s(e)){var u,f=!1,d=[];if(s(t))f=!0,p(e,d,h,c);else{var m=r(t.nodeType);if(!m&&Ui(t,e))P(t,e,d,a);else{if(m){if(1===t.nodeType&&t.hasAttribute(F)&&(t.removeAttribute(F),i=!0),n(i)&&S(t,e,d))return T(e,d,!0),t;u=t,t=new ft(l.tagName(u).toLowerCase(),{},[],void 0,u)}var v=t.elm,g=l.parentNode(v);if(p(e,d,v._leaveCb?null:g,l.nextSibling(v)),r(e.parent))for(var _=e.parent,w=y(e);_;){for(var k=0;k<o.destroy.length;++k)o.destroy[k](_);if(_.elm=e.elm,w){for(var E=0;E<o.create.length;++E)o.create[E]($i,_);var A=_.data.hook.insert;if(A.merged)for(var C=1;C<A.fns.length;C++)A.fns[C]()}else Hi(_);_=_.parent}r(g)?x(0,[t],0,0):r(t.tag)&&b(t)}}return T(e,d,f),e.elm}r(t)&&b(t)}}({nodeOps:ji,modules:[ss,ps,Ls,js,Js,U?{create:wr,activate:wr,remove:function(t,e){!0!==t.data.show?_r(t,e):e()}}:{}].concat(Qi)});Z&&document.addEventListener("selectionchange",function(){var t=document.activeElement;t&&t.vmodel&&Nr(t,"input")});var Pr={inserted:function(t,e,i,s){"select"===i.tag?(s.elm&&!s.elm._vOptions?oe(i,"postpatch",function(){Pr.componentUpdated(t,e,i)}):Tr(t,e,i.context),t._vOptions=[].map.call(t.options,Ar)):("textarea"===i.tag||Vi(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",Cr),t.addEventListener("compositionend",Mr),t.addEventListener("change",Mr),Z&&(t.vmodel=!0)))},componentUpdated:function(t,e,i){if("select"===i.tag){Tr(t,e,i.context);var s=t._vOptions,r=t._vOptions=[].map.call(t.options,Ar);if(r.some(function(t,e){return!D(t,s[e])}))(t.multiple?e.value.some(function(t){return Sr(t,r)}):e.value!==e.oldValue&&Sr(e.value,r))&&Nr(t,"change")}}};function Tr(t,e,i){Er(t,e,i),(Y||J)&&setTimeout(function(){Er(t,e,i)},0)}function Er(t,e,i){var s=e.value,r=t.multiple;if(!r||Array.isArray(s)){for(var n,a,o=0,h=t.options.length;o<h;o++)if(a=t.options[o],r)n=z(s,Ar(a))>-1,a.selected!==n&&(a.selected=n);else if(D(Ar(a),s))return void(t.selectedIndex!==o&&(t.selectedIndex=o));r||(t.selectedIndex=-1)}}function Sr(t,e){return e.every(function(e){return!D(e,t)})}function Ar(t){return"_value"in t?t._value:t.value}function Cr(t){t.target.composing=!0}function Mr(t){t.target.composing&&(t.target.composing=!1,Nr(t.target,"input"))}function Nr(t,e){var i=document.createEvent("HTMLEvents");i.initEvent(e,!0,!0),t.dispatchEvent(i)}function Ir(t){return!t.componentInstance||t.data&&t.data.transition?t:Ir(t.componentInstance._vnode)}var Dr={model:Pr,show:{bind:function(t,e,i){var s=e.value,r=(i=Ir(i)).data&&i.data.transition,n=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;s&&r?(i.data.show=!0,gr(i,function(){t.style.display=n})):t.style.display=s?n:"none"},update:function(t,e,i){var s=e.value;!s!=!e.oldValue&&((i=Ir(i)).data&&i.data.transition?(i.data.show=!0,s?gr(i,function(){t.style.display=t.__vOriginalDisplay}):_r(i,function(){t.style.display="none"})):t.style.display=s?t.__vOriginalDisplay:"none")},unbind:function(t,e,i,s,r){r||(t.style.display=t.__vOriginalDisplay)}}},zr={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Or(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?Or(fe(e.children)):t}function Fr(t){var e={},i=t.$options;for(var s in i.propsData)e[s]=t[s];var r=i._parentListeners;for(var n in r)e[w(n)]=r[n];return e}function Lr(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}var Vr={name:"transition",props:zr,abstract:!0,render:function(t){var e=this,i=this.$slots.default;if(i&&(i=i.filter(function(t){return t.tag||ue(t)})).length){0;var s=this.mode;0;var r=i[0];if(function(t){for(;t=t.parent;)if(t.data.transition)return!0}(this.$vnode))return r;var n=Or(r);if(!n)return r;if(this._leaving)return Lr(t,r);var o="__transition-"+this._uid+"-";n.key=null==n.key?n.isComment?o+"comment":o+n.tag:a(n.key)?0===String(n.key).indexOf(o)?n.key:o+n.key:n.key;var h=(n.data||(n.data={})).transition=Fr(this),l=this._vnode,c=Or(l);if(n.data.directives&&n.data.directives.some(function(t){return"show"===t.name})&&(n.data.show=!0),c&&c.data&&!function(t,e){return e.key===t.key&&e.tag===t.tag}(n,c)&&!ue(c)&&(!c.componentInstance||!c.componentInstance._vnode.isComment)){var p=c.data.transition=A({},h);if("out-in"===s)return this._leaving=!0,oe(p,"afterLeave",function(){e._leaving=!1,e.$forceUpdate()}),Lr(t,r);if("in-out"===s){if(ue(n))return l;var u,f=function(){u()};oe(h,"afterEnter",f),oe(h,"enterCancelled",f),oe(p,"delayLeave",function(t){u=t})}}return r}}},Rr=A({tag:String,moveClass:String},zr);function jr(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function Br(t){t.data.newPos=t.elm.getBoundingClientRect()}function Hr(t){var e=t.data.pos,i=t.data.newPos,s=e.left-i.left,r=e.top-i.top;if(s||r){t.data.moved=!0;var n=t.elm.style;n.transform=n.WebkitTransform="translate("+s+"px,"+r+"px)",n.transitionDuration="0s"}}delete Rr.mode;var $r={Transition:Vr,TransitionGroup:{props:Rr,render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",i=Object.create(null),s=this.prevChildren=this.children,r=this.$slots.default||[],n=this.children=[],a=Fr(this),o=0;o<r.length;o++){var h=r[o];if(h.tag)if(null!=h.key&&0!==String(h.key).indexOf("__vlist"))n.push(h),i[h.key]=h,(h.data||(h.data={})).transition=a;else;}if(s){for(var l=[],c=[],p=0;p<s.length;p++){var u=s[p];u.data.transition=a,u.data.pos=u.elm.getBoundingClientRect(),i[u.key]?l.push(u):c.push(u)}this.kept=t(e,null,l),this.removed=c}return t(e,null,n)},beforeUpdate:function(){this.__patch__(this._vnode,this.kept,!1,!0),this._vnode=this.kept},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(jr),t.forEach(Br),t.forEach(Hr),this._reflow=document.body.offsetHeight,t.forEach(function(t){if(t.data.moved){var i=t.elm,s=i.style;pr(i,e),s.transform=s.WebkitTransform=s.transitionDuration="",i.addEventListener(ar,i._moveCb=function t(s){s&&!/transform$/.test(s.propertyName)||(i.removeEventListener(ar,t),i._moveCb=null,ur(i,e))})}}))},methods:{hasMove:function(t,e){if(!ir)return!1;if(this._hasMove)return this._hasMove;var i=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach(function(t){Qs(i,t)}),Ks(i,e),i.style.display="none",this.$el.appendChild(i);var s=mr(i);return this.$el.removeChild(i),this._hasMove=s.hasTransform}}}};pi.config.mustUseProp=xi,pi.config.isReservedTag=Oi,pi.config.isReservedAttr=_i,pi.config.getTagNamespace=Fi,pi.config.isUnknownElement=function(t){if(!U)return!0;if(Oi(t))return!1;if(t=t.toLowerCase(),null!=Li[t])return Li[t];var e=document.createElement(t);return t.indexOf("-")>-1?Li[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:Li[t]=/HTMLUnknownElement/.test(e.toString())},A(pi.options.directives,Dr),A(pi.options.components,$r),pi.prototype.__patch__=U?kr:M,pi.prototype.$mount=function(t,e){return function(t,e,i){return t.$el=e,t.$options.render||(t.$options.render=mt),ke(t,"beforeMount"),new Ie(t,function(){t._update(t._render(),i)},M,null,!0),i=!1,null==t.$vnode&&(t._isMounted=!0,ke(t,"mounted")),t}(this,t=t&&U?Ri(t):void 0,e)},U&&setTimeout(function(){R.devtools&&st&&st.emit("init",pi)},0);var Gr=/\{\{((?:.|\n)+?)\}\}/g,Ur=/[-.*+?^${}()|[\]\/\\]/g,qr=b(function(t){var e=t[0].replace(Ur,"\\$&"),i=t[1].replace(Ur,"\\$&");return new RegExp(e+"((?:.|\\n)+?)"+i,"g")});function Xr(t,e){var i=e?qr(e):Gr;if(i.test(t)){for(var s,r,n,a=[],o=[],h=i.lastIndex=0;s=i.exec(t);){(r=s.index)>h&&(o.push(n=t.slice(h,r)),a.push(JSON.stringify(n)));var l=fs(s[1].trim());a.push("_s("+l+")"),o.push({"@binding":l}),h=r+s[0].length}return h<t.length&&(o.push(n=t.slice(h)),a.push(JSON.stringify(n))),{expression:a.join("+"),tokens:o}}}var Wr={staticKeys:["staticClass"],transformNode:function(t,e){e.warn;var i=ks(t,"class");i&&(t.staticClass=JSON.stringify(i));var s=ws(t,"class",!1);s&&(t.classBinding=s)},genData:function(t){var e="";return t.staticClass&&(e+="staticClass:"+t.staticClass+","),t.classBinding&&(e+="class:"+t.classBinding+","),e}};var Yr,Zr={staticKeys:["staticStyle"],transformNode:function(t,e){e.warn;var i=ks(t,"style");i&&(t.staticStyle=JSON.stringify(Bs(i)));var s=ws(t,"style",!1);s&&(t.styleBinding=s)},genData:function(t){var e="";return t.staticStyle&&(e+="staticStyle:"+t.staticStyle+","),t.styleBinding&&(e+="style:("+t.styleBinding+"),"),e}},Jr=function(t){return(Yr=Yr||document.createElement("div")).innerHTML=t,Yr.textContent},Kr=d("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr"),Qr=d("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source"),tn=d("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track"),en=/^\s*([^\s"'<>\/=]+)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,sn="[a-zA-Z_][\\w\\-\\.]*",rn="((?:"+sn+"\\:)?"+sn+")",nn=new RegExp("^<"+rn),an=/^\s*(\/?)>/,on=new RegExp("^<\\/"+rn+"[^>]*>"),hn=/^<!DOCTYPE [^>]+>/i,ln=/^<!\--/,cn=/^<!\[/,pn=!1;"x".replace(/x(.)?/g,function(t,e){pn=""===e});var un=d("script,style,textarea",!0),fn={},dn={"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&","&#10;":"\n","&#9;":"\t"},mn=/&(?:lt|gt|quot|amp);/g,yn=/&(?:lt|gt|quot|amp|#10|#9);/g,vn=d("pre,textarea",!0),gn=function(t,e){return t&&vn(t)&&"\n"===e[0]};function _n(t,e){var i=e?yn:mn;return t.replace(i,function(t){return dn[t]})}var bn,xn,wn,kn,Pn,Tn,En,Sn,An=/^@|^v-on:/,Cn=/^v-|^@|^:/,Mn=/([^]*?)\s+(?:in|of)\s+([^]*)/,Nn=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,In=/^\(|\)$/g,Dn=/:(.*)$/,zn=/^:|^v-bind:/,On=/\.[^.]+/g,Fn=b(Jr);function Ln(t,e,i){return{type:1,tag:t,attrsList:e,attrsMap:function(t){for(var e={},i=0,s=t.length;i<s;i++)e[t[i].name]=t[i].value;return e}(e),parent:i,children:[]}}function Vn(t,e){bn=e.warn||ms,Tn=e.isPreTag||N,En=e.mustUseProp||N,Sn=e.getTagNamespace||N,wn=ys(e.modules,"transformNode"),kn=ys(e.modules,"preTransformNode"),Pn=ys(e.modules,"postTransformNode"),xn=e.delimiters;var i,s,r=[],n=!1!==e.preserveWhitespace,a=!1,o=!1;function h(t){t.pre&&(a=!1),Tn(t.tag)&&(o=!1);for(var i=0;i<Pn.length;i++)Pn[i](t,e)}return function(t,e){for(var i,s,r=[],n=e.expectHTML,a=e.isUnaryTag||N,o=e.canBeLeftOpenTag||N,h=0;t;){if(i=t,s&&un(s)){var l=0,c=s.toLowerCase(),p=fn[c]||(fn[c]=new RegExp("([\\s\\S]*?)(</"+c+"[^>]*>)","i")),u=t.replace(p,function(t,i,s){return l=s.length,un(c)||"noscript"===c||(i=i.replace(/<!\--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")),gn(c,i)&&(i=i.slice(1)),e.chars&&e.chars(i),""});h+=t.length-u.length,t=u,E(c,h-l,h)}else{var f=t.indexOf("<");if(0===f){if(ln.test(t)){var d=t.indexOf("--\x3e");if(d>=0){e.shouldKeepComment&&e.comment(t.substring(4,d)),k(d+3);continue}}if(cn.test(t)){var m=t.indexOf("]>");if(m>=0){k(m+2);continue}}var y=t.match(hn);if(y){k(y[0].length);continue}var v=t.match(on);if(v){var g=h;k(v[0].length),E(v[1],g,h);continue}var _=P();if(_){T(_),gn(s,t)&&k(1);continue}}var b=void 0,x=void 0,w=void 0;if(f>=0){for(x=t.slice(f);!(on.test(x)||nn.test(x)||ln.test(x)||cn.test(x)||(w=x.indexOf("<",1))<0);)f+=w,x=t.slice(f);b=t.substring(0,f),k(f)}f<0&&(b=t,t=""),e.chars&&b&&e.chars(b)}if(t===i){e.chars&&e.chars(t);break}}function k(e){h+=e,t=t.substring(e)}function P(){var e=t.match(nn);if(e){var i,s,r={tagName:e[1],attrs:[],start:h};for(k(e[0].length);!(i=t.match(an))&&(s=t.match(en));)k(s[0].length),r.attrs.push(s);if(i)return r.unarySlash=i[1],k(i[0].length),r.end=h,r}}function T(t){var i=t.tagName,h=t.unarySlash;n&&("p"===s&&tn(i)&&E(s),o(i)&&s===i&&E(i));for(var l=a(i)||!!h,c=t.attrs.length,p=new Array(c),u=0;u<c;u++){var f=t.attrs[u];pn&&-1===f[0].indexOf('""')&&(""===f[3]&&delete f[3],""===f[4]&&delete f[4],""===f[5]&&delete f[5]);var d=f[3]||f[4]||f[5]||"",m="a"===i&&"href"===f[1]?e.shouldDecodeNewlinesForHref:e.shouldDecodeNewlines;p[u]={name:f[1],value:_n(d,m)}}l||(r.push({tag:i,lowerCasedTag:i.toLowerCase(),attrs:p}),s=i),e.start&&e.start(i,p,l,t.start,t.end)}function E(t,i,n){var a,o;if(null==i&&(i=h),null==n&&(n=h),t&&(o=t.toLowerCase()),t)for(a=r.length-1;a>=0&&r[a].lowerCasedTag!==o;a--);else a=0;if(a>=0){for(var l=r.length-1;l>=a;l--)e.end&&e.end(r[l].tag,i,n);r.length=a,s=a&&r[a-1].tag}else"br"===o?e.start&&e.start(t,[],!0,i,n):"p"===o&&(e.start&&e.start(t,[],!1,i,n),e.end&&e.end(t,i,n))}E()}(t,{warn:bn,expectHTML:e.expectHTML,isUnaryTag:e.isUnaryTag,canBeLeftOpenTag:e.canBeLeftOpenTag,shouldDecodeNewlines:e.shouldDecodeNewlines,shouldDecodeNewlinesForHref:e.shouldDecodeNewlinesForHref,shouldKeepComment:e.comments,start:function(t,n,l){var c=s&&s.ns||Sn(t);Y&&"svg"===c&&(n=function(t){for(var e=[],i=0;i<t.length;i++){var s=t[i];$n.test(s.name)||(s.name=s.name.replace(Gn,""),e.push(s))}return e}(n));var p,u=Ln(t,n,s);c&&(u.ns=c),"style"!==(p=u).tag&&("script"!==p.tag||p.attrsMap.type&&"text/javascript"!==p.attrsMap.type)||it()||(u.forbidden=!0);for(var f=0;f<kn.length;f++)u=kn[f](u,e)||u;function d(t){0}if(a||(!function(t){null!=ks(t,"v-pre")&&(t.pre=!0)}(u),u.pre&&(a=!0)),Tn(u.tag)&&(o=!0),a?function(t){var e=t.attrsList.length;if(e)for(var i=t.attrs=new Array(e),s=0;s<e;s++)i[s]={name:t.attrsList[s].name,value:JSON.stringify(t.attrsList[s].value)};else t.pre||(t.plain=!0)}(u):u.processed||(jn(u),function(t){var e=ks(t,"v-if");if(e)t.if=e,Bn(t,{exp:e,block:t});else{null!=ks(t,"v-else")&&(t.else=!0);var i=ks(t,"v-else-if");i&&(t.elseif=i)}}(u),function(t){null!=ks(t,"v-once")&&(t.once=!0)}(u),Rn(u,e)),i?r.length||i.if&&(u.elseif||u.else)&&(d(),Bn(i,{exp:u.elseif,block:u})):(i=u,d()),s&&!u.forbidden)if(u.elseif||u.else)!function(t,e){var i=function(t){var e=t.length;for(;e--;){if(1===t[e].type)return t[e];t.pop()}}(e.children);i&&i.if&&Bn(i,{exp:t.elseif,block:t})}(u,s);else if(u.slotScope){s.plain=!1;var m=u.slotTarget||'"default"';(s.scopedSlots||(s.scopedSlots={}))[m]=u}else s.children.push(u),u.parent=s;l?h(u):(s=u,r.push(u))},end:function(){var t=r[r.length-1],e=t.children[t.children.length-1];e&&3===e.type&&" "===e.text&&!o&&t.children.pop(),r.length-=1,s=r[r.length-1],h(t)},chars:function(t){if(s&&(!Y||"textarea"!==s.tag||s.attrsMap.placeholder!==t)){var e,i,r=s.children;if(t=o||t.trim()?"script"===(e=s).tag||"style"===e.tag?t:Fn(t):n&&r.length?" ":"")!a&&" "!==t&&(i=Xr(t,xn))?r.push({type:2,expression:i.expression,tokens:i.tokens,text:t}):" "===t&&r.length&&" "===r[r.length-1].text||r.push({type:3,text:t})}},comment:function(t){s.children.push({type:3,text:t,isComment:!0})}}),i}function Rn(t,e){var i,s;(s=ws(i=t,"key"))&&(i.key=s),t.plain=!t.key&&!t.attrsList.length,function(t){var e=ws(t,"ref");e&&(t.ref=e,t.refInFor=function(t){var e=t;for(;e;){if(void 0!==e.for)return!0;e=e.parent}return!1}(t))}(t),function(t){if("slot"===t.tag)t.slotName=ws(t,"name");else{var e;"template"===t.tag?(e=ks(t,"scope"),t.slotScope=e||ks(t,"slot-scope")):(e=ks(t,"slot-scope"))&&(t.slotScope=e);var i=ws(t,"slot");i&&(t.slotTarget='""'===i?'"default"':i,"template"===t.tag||t.slotScope||gs(t,"slot",i))}}(t),function(t){var e;(e=ws(t,"is"))&&(t.component=e);null!=ks(t,"inline-template")&&(t.inlineTemplate=!0)}(t);for(var r=0;r<wn.length;r++)t=wn[r](t,e)||t;!function(t){var e,i,s,r,n,a,o,h=t.attrsList;for(e=0,i=h.length;e<i;e++){if(s=r=h[e].name,n=h[e].value,Cn.test(s))if(t.hasBindings=!0,(a=Hn(s))&&(s=s.replace(On,"")),zn.test(s))s=s.replace(zn,""),n=fs(n),o=!1,a&&(a.prop&&(o=!0,"innerHtml"===(s=w(s))&&(s="innerHTML")),a.camel&&(s=w(s)),a.sync&&xs(t,"update:"+w(s),Ts(n,"$event"))),o||!t.component&&En(t.tag,t.attrsMap.type,s)?vs(t,s,n):gs(t,s,n);else if(An.test(s))s=s.replace(An,""),xs(t,s,n,a,!1);else{var l=(s=s.replace(Cn,"")).match(Dn),c=l&&l[1];c&&(s=s.slice(0,-(c.length+1))),bs(t,s,r,n,c,a)}else gs(t,s,JSON.stringify(n)),!t.component&&"muted"===s&&En(t.tag,t.attrsMap.type,s)&&vs(t,s,"true")}}(t)}function jn(t){var e;if(e=ks(t,"v-for")){var i=function(t){var e=t.match(Mn);if(!e)return;var i={};i.for=e[2].trim();var s=e[1].trim().replace(In,""),r=s.match(Nn);r?(i.alias=s.replace(Nn,""),i.iterator1=r[1].trim(),r[2]&&(i.iterator2=r[2].trim())):i.alias=s;return i}(e);i&&A(t,i)}}function Bn(t,e){t.ifConditions||(t.ifConditions=[]),t.ifConditions.push(e)}function Hn(t){var e=t.match(On);if(e){var i={};return e.forEach(function(t){i[t.slice(1)]=!0}),i}}var $n=/^xmlns:NS\d+/,Gn=/^NS\d+:/;function Un(t){return Ln(t.tag,t.attrsList.slice(),t.parent)}var qn=[Wr,Zr,{preTransformNode:function(t,e){if("input"===t.tag){var i,s=t.attrsMap;if(!s["v-model"])return;if((s[":type"]||s["v-bind:type"])&&(i=ws(t,"type")),s.type||i||!s["v-bind"]||(i="("+s["v-bind"]+").type"),i){var r=ks(t,"v-if",!0),n=r?"&&("+r+")":"",a=null!=ks(t,"v-else",!0),o=ks(t,"v-else-if",!0),h=Un(t);jn(h),_s(h,"type","checkbox"),Rn(h,e),h.processed=!0,h.if="("+i+")==='checkbox'"+n,Bn(h,{exp:h.if,block:h});var l=Un(t);ks(l,"v-for",!0),_s(l,"type","radio"),Rn(l,e),Bn(h,{exp:"("+i+")==='radio'"+n,block:l});var c=Un(t);return ks(c,"v-for",!0),_s(c,":type",i),Rn(c,e),Bn(h,{exp:r,block:c}),a?h.else=!0:o&&(h.elseif=o),h}}}}];var Xn,Wn,Yn={expectHTML:!0,modules:qn,directives:{model:function(t,e,i){i;var s=e.value,r=e.modifiers,n=t.tag,a=t.attrsMap.type;if(t.component)return Ps(t,s,r),!1;if("select"===n)!function(t,e,i){var s='var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = "_value" in o ? o._value : o.value;return '+(i&&i.number?"_n(val)":"val")+"});";s=s+" "+Ts(e,"$event.target.multiple ? $$selectedVal : $$selectedVal[0]"),xs(t,"change",s,null,!0)}(t,s,r);else if("input"===n&&"checkbox"===a)!function(t,e,i){var s=i&&i.number,r=ws(t,"value")||"null",n=ws(t,"true-value")||"true",a=ws(t,"false-value")||"false";vs(t,"checked","Array.isArray("+e+")?_i("+e+","+r+")>-1"+("true"===n?":("+e+")":":_q("+e+","+n+")")),xs(t,"change","var $$a="+e+",$$el=$event.target,$$c=$$el.checked?("+n+"):("+a+");if(Array.isArray($$a)){var $$v="+(s?"_n("+r+")":r)+",$$i=_i($$a,$$v);if($$el.checked){$$i<0&&("+Ts(e,"$$a.concat([$$v])")+")}else{$$i>-1&&("+Ts(e,"$$a.slice(0,$$i).concat($$a.slice($$i+1))")+")}}else{"+Ts(e,"$$c")+"}",null,!0)}(t,s,r);else if("input"===n&&"radio"===a)!function(t,e,i){var s=i&&i.number,r=ws(t,"value")||"null";vs(t,"checked","_q("+e+","+(r=s?"_n("+r+")":r)+")"),xs(t,"change",Ts(e,r),null,!0)}(t,s,r);else if("input"===n||"textarea"===n)!function(t,e,i){var s=t.attrsMap.type,r=i||{},n=r.lazy,a=r.number,o=r.trim,h=!n&&"range"!==s,l=n?"change":"range"===s?Is:"input",c="$event.target.value";o&&(c="$event.target.value.trim()"),a&&(c="_n("+c+")");var p=Ts(e,c);h&&(p="if($event.target.composing)return;"+p),vs(t,"value","("+e+")"),xs(t,l,p,null,!0),(o||a)&&xs(t,"blur","$forceUpdate()")}(t,s,r);else if(!R.isReservedTag(n))return Ps(t,s,r),!1;return!0},text:function(t,e){e.value&&vs(t,"textContent","_s("+e.value+")")},html:function(t,e){e.value&&vs(t,"innerHTML","_s("+e.value+")")}},isPreTag:function(t){return"pre"===t},isUnaryTag:Kr,mustUseProp:xi,canBeLeftOpenTag:Qr,isReservedTag:Oi,getTagNamespace:Fi,staticKeys:function(t){return t.reduce(function(t,e){return t.concat(e.staticKeys||[])},[]).join(",")}(qn)},Zn=b(function(t){return d("type,tag,attrsList,attrsMap,plain,parent,children,attrs"+(t?","+t:""))});function Jn(t,e){t&&(Xn=Zn(e.staticKeys||""),Wn=e.isReservedTag||N,function t(e){e.static=function(t){if(2===t.type)return!1;if(3===t.type)return!0;return!(!t.pre&&(t.hasBindings||t.if||t.for||m(t.tag)||!Wn(t.tag)||function(t){for(;t.parent;){if("template"!==(t=t.parent).tag)return!1;if(t.for)return!0}return!1}(t)||!Object.keys(t).every(Xn)))}(e);if(1===e.type){if(!Wn(e.tag)&&"slot"!==e.tag&&null==e.attrsMap["inline-template"])return;for(var i=0,s=e.children.length;i<s;i++){var r=e.children[i];t(r),r.static||(e.static=!1)}if(e.ifConditions)for(var n=1,a=e.ifConditions.length;n<a;n++){var o=e.ifConditions[n].block;t(o),o.static||(e.static=!1)}}}(t),function t(e,i){if(1===e.type){if((e.static||e.once)&&(e.staticInFor=i),e.static&&e.children.length&&(1!==e.children.length||3!==e.children[0].type))return void(e.staticRoot=!0);if(e.staticRoot=!1,e.children)for(var s=0,r=e.children.length;s<r;s++)t(e.children[s],i||!!e.for);if(e.ifConditions)for(var n=1,a=e.ifConditions.length;n<a;n++)t(e.ifConditions[n].block,i)}}(t,!1))}var Kn=/^([\w$_]+|\([^)]*?\))\s*=>|^function\s*\(/,Qn=/^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['[^']*?']|\["[^"]*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*$/,ta={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},ea={esc:"Escape",tab:"Tab",enter:"Enter",space:" ",up:["Up","ArrowUp"],left:["Left","ArrowLeft"],right:["Right","ArrowRight"],down:["Down","ArrowDown"],delete:["Backspace","Delete"]},ia=function(t){return"if("+t+")return null;"},sa={stop:"$event.stopPropagation();",prevent:"$event.preventDefault();",self:ia("$event.target !== $event.currentTarget"),ctrl:ia("!$event.ctrlKey"),shift:ia("!$event.shiftKey"),alt:ia("!$event.altKey"),meta:ia("!$event.metaKey"),left:ia("'button' in $event && $event.button !== 0"),middle:ia("'button' in $event && $event.button !== 1"),right:ia("'button' in $event && $event.button !== 2")};function ra(t,e,i){var s=e?"nativeOn:{":"on:{";for(var r in t)s+='"'+r+'":'+na(r,t[r])+",";return s.slice(0,-1)+"}"}function na(t,e){if(!e)return"function(){}";if(Array.isArray(e))return"["+e.map(function(e){return na(t,e)}).join(",")+"]";var i=Qn.test(e.value),s=Kn.test(e.value);if(e.modifiers){var r="",n="",a=[];for(var o in e.modifiers)if(sa[o])n+=sa[o],ta[o]&&a.push(o);else if("exact"===o){var h=e.modifiers;n+=ia(["ctrl","shift","alt","meta"].filter(function(t){return!h[t]}).map(function(t){return"$event."+t+"Key"}).join("||"))}else a.push(o);return a.length&&(r+=function(t){return"if(!('button' in $event)&&"+t.map(aa).join("&&")+")return null;"}(a)),n&&(r+=n),"function($event){"+r+(i?"return "+e.value+"($event)":s?"return ("+e.value+")($event)":e.value)+"}"}return i||s?e.value:"function($event){"+e.value+"}"}function aa(t){var e=parseInt(t,10);if(e)return"$event.keyCode!=="+e;var i=ta[t],s=ea[t];return"_k($event.keyCode,"+JSON.stringify(t)+","+JSON.stringify(i)+",$event.key,"+JSON.stringify(s)+")"}var oa={on:function(t,e){t.wrapListeners=function(t){return"_g("+t+","+e.value+")"}},bind:function(t,e){t.wrapData=function(i){return"_b("+i+",'"+t.tag+"',"+e.value+","+(e.modifiers&&e.modifiers.prop?"true":"false")+(e.modifiers&&e.modifiers.sync?",true":"")+")"}},cloak:M},ha=function(t){this.options=t,this.warn=t.warn||ms,this.transforms=ys(t.modules,"transformCode"),this.dataGenFns=ys(t.modules,"genData"),this.directives=A(A({},oa),t.directives);var e=t.isReservedTag||N;this.maybeComponent=function(t){return!e(t.tag)},this.onceId=0,this.staticRenderFns=[]};function la(t,e){var i=new ha(e);return{render:"with(this){return "+(t?ca(t,i):'_c("div")')+"}",staticRenderFns:i.staticRenderFns}}function ca(t,e){if(t.staticRoot&&!t.staticProcessed)return pa(t,e);if(t.once&&!t.onceProcessed)return ua(t,e);if(t.for&&!t.forProcessed)return function(t,e,i,s){var r=t.for,n=t.alias,a=t.iterator1?","+t.iterator1:"",o=t.iterator2?","+t.iterator2:"";0;return t.forProcessed=!0,(s||"_l")+"(("+r+"),function("+n+a+o+"){return "+(i||ca)(t,e)+"})"}(t,e);if(t.if&&!t.ifProcessed)return fa(t,e);if("template"!==t.tag||t.slotTarget){if("slot"===t.tag)return function(t,e){var i=t.slotName||'"default"',s=ya(t,e),r="_t("+i+(s?","+s:""),n=t.attrs&&"{"+t.attrs.map(function(t){return w(t.name)+":"+t.value}).join(",")+"}",a=t.attrsMap["v-bind"];!n&&!a||s||(r+=",null");n&&(r+=","+n);a&&(r+=(n?"":",null")+","+a);return r+")"}(t,e);var i;if(t.component)i=function(t,e,i){var s=e.inlineTemplate?null:ya(e,i,!0);return"_c("+t+","+da(e,i)+(s?","+s:"")+")"}(t.component,t,e);else{var s=t.plain?void 0:da(t,e),r=t.inlineTemplate?null:ya(t,e,!0);i="_c('"+t.tag+"'"+(s?","+s:"")+(r?","+r:"")+")"}for(var n=0;n<e.transforms.length;n++)i=e.transforms[n](t,i);return i}return ya(t,e)||"void 0"}function pa(t,e){return t.staticProcessed=!0,e.staticRenderFns.push("with(this){return "+ca(t,e)+"}"),"_m("+(e.staticRenderFns.length-1)+(t.staticInFor?",true":"")+")"}function ua(t,e){if(t.onceProcessed=!0,t.if&&!t.ifProcessed)return fa(t,e);if(t.staticInFor){for(var i="",s=t.parent;s;){if(s.for){i=s.key;break}s=s.parent}return i?"_o("+ca(t,e)+","+e.onceId+++","+i+")":ca(t,e)}return pa(t,e)}function fa(t,e,i,s){return t.ifProcessed=!0,function t(e,i,s,r){if(!e.length)return r||"_e()";var n=e.shift();return n.exp?"("+n.exp+")?"+a(n.block)+":"+t(e,i,s,r):""+a(n.block);function a(t){return s?s(t,i):t.once?ua(t,i):ca(t,i)}}(t.ifConditions.slice(),e,i,s)}function da(t,e){var i="{",s=function(t,e){var i=t.directives;if(!i)return;var s,r,n,a,o="directives:[",h=!1;for(s=0,r=i.length;s<r;s++){n=i[s],a=!0;var l=e.directives[n.name];l&&(a=!!l(t,n,e.warn)),a&&(h=!0,o+='{name:"'+n.name+'",rawName:"'+n.rawName+'"'+(n.value?",value:("+n.value+"),expression:"+JSON.stringify(n.value):"")+(n.arg?',arg:"'+n.arg+'"':"")+(n.modifiers?",modifiers:"+JSON.stringify(n.modifiers):"")+"},")}if(h)return o.slice(0,-1)+"]"}(t,e);s&&(i+=s+","),t.key&&(i+="key:"+t.key+","),t.ref&&(i+="ref:"+t.ref+","),t.refInFor&&(i+="refInFor:true,"),t.pre&&(i+="pre:true,"),t.component&&(i+='tag:"'+t.tag+'",');for(var r=0;r<e.dataGenFns.length;r++)i+=e.dataGenFns[r](t);if(t.attrs&&(i+="attrs:{"+_a(t.attrs)+"},"),t.props&&(i+="domProps:{"+_a(t.props)+"},"),t.events&&(i+=ra(t.events,!1,e.warn)+","),t.nativeEvents&&(i+=ra(t.nativeEvents,!0,e.warn)+","),t.slotTarget&&!t.slotScope&&(i+="slot:"+t.slotTarget+","),t.scopedSlots&&(i+=function(t,e){return"scopedSlots:_u(["+Object.keys(t).map(function(i){return ma(i,t[i],e)}).join(",")+"])"}(t.scopedSlots,e)+","),t.model&&(i+="model:{value:"+t.model.value+",callback:"+t.model.callback+",expression:"+t.model.expression+"},"),t.inlineTemplate){var n=function(t,e){var i=t.children[0];0;if(1===i.type){var s=la(i,e.options);return"inlineTemplate:{render:function(){"+s.render+"},staticRenderFns:["+s.staticRenderFns.map(function(t){return"function(){"+t+"}"}).join(",")+"]}"}}(t,e);n&&(i+=n+",")}return i=i.replace(/,$/,"")+"}",t.wrapData&&(i=t.wrapData(i)),t.wrapListeners&&(i=t.wrapListeners(i)),i}function ma(t,e,i){return e.for&&!e.forProcessed?function(t,e,i){var s=e.for,r=e.alias,n=e.iterator1?","+e.iterator1:"",a=e.iterator2?","+e.iterator2:"";return e.forProcessed=!0,"_l(("+s+"),function("+r+n+a+"){return "+ma(t,e,i)+"})"}(t,e,i):"{key:"+t+",fn:"+("function("+String(e.slotScope)+"){return "+("template"===e.tag?e.if?e.if+"?"+(ya(e,i)||"undefined")+":undefined":ya(e,i)||"undefined":ca(e,i))+"}")+"}"}function ya(t,e,i,s,r){var n=t.children;if(n.length){var a=n[0];if(1===n.length&&a.for&&"template"!==a.tag&&"slot"!==a.tag)return(s||ca)(a,e);var o=i?function(t,e){for(var i=0,s=0;s<t.length;s++){var r=t[s];if(1===r.type){if(va(r)||r.ifConditions&&r.ifConditions.some(function(t){return va(t.block)})){i=2;break}(e(r)||r.ifConditions&&r.ifConditions.some(function(t){return e(t.block)}))&&(i=1)}}return i}(n,e.maybeComponent):0,h=r||ga;return"["+n.map(function(t){return h(t,e)}).join(",")+"]"+(o?","+o:"")}}function va(t){return void 0!==t.for||"template"===t.tag||"slot"===t.tag}function ga(t,e){return 1===t.type?ca(t,e):3===t.type&&t.isComment?(s=t,"_e("+JSON.stringify(s.text)+")"):"_v("+(2===(i=t).type?i.expression:ba(JSON.stringify(i.text)))+")";var i,s}function _a(t){for(var e="",i=0;i<t.length;i++){var s=t[i];e+='"'+s.name+'":'+ba(s.value)+","}return e.slice(0,-1)}function ba(t){return t.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments".split(",").join("\\b|\\b")+"\\b"),new RegExp("\\b"+"delete,typeof,void".split(",").join("\\s*\\([^\\)]*\\)|\\b")+"\\s*\\([^\\)]*\\)");function xa(t,e){try{return new Function(t)}catch(i){return e.push({err:i,code:t}),M}}var wa,ka,Pa=(wa=function(t,e){var i=Vn(t.trim(),e);!1!==e.optimize&&Jn(i,e);var s=la(i,e);return{ast:i,render:s.render,staticRenderFns:s.staticRenderFns}},function(t){function e(e,i){var s=Object.create(t),r=[],n=[];if(s.warn=function(t,e){(e?n:r).push(t)},i)for(var a in i.modules&&(s.modules=(t.modules||[]).concat(i.modules)),i.directives&&(s.directives=A(Object.create(t.directives||null),i.directives)),i)"modules"!==a&&"directives"!==a&&(s[a]=i[a]);var o=wa(e,s);return o.errors=r,o.tips=n,o}return{compile:e,compileToFunctions:function(t){var e=Object.create(null);return function(i,s,r){(s=A({},s)).warn,delete s.warn;var n=s.delimiters?String(s.delimiters)+i:i;if(e[n])return e[n];var a=t(i,s),o={},h=[];return o.render=xa(a.render,h),o.staticRenderFns=a.staticRenderFns.map(function(t){return xa(t,h)}),e[n]=o}}(e)}})(Yn).compileToFunctions;function Ta(t){return(ka=ka||document.createElement("div")).innerHTML=t?'<a href="\n"/>':'<div a="\n"/>',ka.innerHTML.indexOf("&#10;")>0}var Ea=!!U&&Ta(!1),Sa=!!U&&Ta(!0),Aa=b(function(t){var e=Ri(t);return e&&e.innerHTML}),Ca=pi.prototype.$mount;pi.prototype.$mount=function(t,e){if((t=t&&Ri(t))===document.body||t===document.documentElement)return this;var i=this.$options;if(!i.render){var s=i.template;if(s)if("string"==typeof s)"#"===s.charAt(0)&&(s=Aa(s));else{if(!s.nodeType)return this;s=s.innerHTML}else t&&(s=function(t){if(t.outerHTML)return t.outerHTML;var e=document.createElement("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML}(t));if(s){0;var r=Pa(s,{shouldDecodeNewlines:Ea,shouldDecodeNewlinesForHref:Sa,delimiters:i.delimiters,comments:i.comments},this),n=r.render,a=r.staticRenderFns;i.render=n,i.staticRenderFns=a}}return Ca.call(this,t,e)},pi.compile=Pa,e.a=pi}).call(e,i("DuR2"))},"77Pl":function(t,e,i){var s=i("EqjI");t.exports=function(t){if(!s(t))throw TypeError(t+" is not an object!");return t}},"7GwW":function(t,e,i){"use strict";var s=i("cGG2"),r=i("21It"),n=i("DQCr"),a=i("oJlt"),o=i("GHBc"),h=i("FtD3"),l="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||i("thJu");t.exports=function(t){return new Promise(function(e,c){var p=t.data,u=t.headers;s.isFormData(p)&&delete u["Content-Type"];var f=new XMLHttpRequest,d="onreadystatechange",m=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in f||o(t.url)||(f=new window.XDomainRequest,d="onload",m=!0,f.onprogress=function(){},f.ontimeout=function(){}),t.auth){var y=t.auth.username||"",v=t.auth.password||"";u.Authorization="Basic "+l(y+":"+v)}if(f.open(t.method.toUpperCase(),n(t.url,t.params,t.paramsSerializer),!0),f.timeout=t.timeout,f[d]=function(){if(f&&(4===f.readyState||m)&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))){var i="getAllResponseHeaders"in f?a(f.getAllResponseHeaders()):null,s={data:t.responseType&&"text"!==t.responseType?f.response:f.responseText,status:1223===f.status?204:f.status,statusText:1223===f.status?"No Content":f.statusText,headers:i,config:t,request:f};r(e,c,s),f=null}},f.onerror=function(){c(h("Network Error",t,null,f)),f=null},f.ontimeout=function(){c(h("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",f)),f=null},s.isStandardBrowserEnv()){var g=i("p1b6"),_=(t.withCredentials||o(t.url))&&t.xsrfCookieName?g.read(t.xsrfCookieName):void 0;_&&(u[t.xsrfHeaderName]=_)}if("setRequestHeader"in f&&s.forEach(u,function(t,e){void 0===p&&"content-type"===e.toLowerCase()?delete u[e]:f.setRequestHeader(e,t)}),t.withCredentials&&(f.withCredentials=!0),t.responseType)try{f.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&f.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){f&&(f.abort(),c(t),f=null)}),void 0===p&&(p=null),f.send(p)})}},"7KvD":function(t,e){var i=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},"9bBU":function(t,e,i){i("mClu");var s=i("FeBl").Object;t.exports=function(t,e,i){return s.defineProperty(t,e,i)}},C4MV:function(t,e,i){t.exports={default:i("9bBU"),__esModule:!0}},Cdx3:function(t,e,i){var s=i("sB3e"),r=i("lktj");i("uqUo")("keys",function(){return function(t){return r(s(t))}})},D2L2:function(t,e){var i={}.hasOwnProperty;t.exports=function(t,e){return i.call(t,e)}},DQCr:function(t,e,i){"use strict";var s=i("cGG2");function r(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,i){if(!e)return t;var n;if(i)n=i(e);else if(s.isURLSearchParams(e))n=e.toString();else{var a=[];s.forEach(e,function(t,e){null!==t&&void 0!==t&&(s.isArray(t)?e+="[]":t=[t],s.forEach(t,function(t){s.isDate(t)?t=t.toISOString():s.isObject(t)&&(t=JSON.stringify(t)),a.push(r(e)+"="+r(t))}))}),n=a.join("&")}return n&&(t+=(-1===t.indexOf("?")?"?":"&")+n),t}},Dd8w:function(t,e,i){"use strict";e.__esModule=!0;var s,r=i("woOf"),n=(s=r)&&s.__esModule?s:{default:s};e.default=n.default||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t}},DuR2:function(t,e){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(i=window)}t.exports=i},EqjI:function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},FeBl:function(t,e){var i=t.exports={version:"2.5.3"};"number"==typeof __e&&(__e=i)},FtD3:function(t,e,i){"use strict";var s=i("t8qj");t.exports=function(t,e,i,r,n){var a=new Error(t);return s(a,e,i,r,n)}},GHBc:function(t,e,i){"use strict";var s=i("cGG2");t.exports=s.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");function r(t){var s=t;return e&&(i.setAttribute("href",s),s=i.href),i.setAttribute("href",s),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}return t=r(window.location.href),function(e){var i=s.isString(e)?r(e):e;return i.protocol===t.protocol&&i.host===t.host}}():function(){return!0}},Ibhu:function(t,e,i){var s=i("D2L2"),r=i("TcQ7"),n=i("vFc/")(!1),a=i("ax3d")("IE_PROTO");t.exports=function(t,e){var i,o=r(t),h=0,l=[];for(i in o)i!=a&&s(o,i)&&l.push(i);for(;e.length>h;)s(o,i=e[h++])&&(~n(l,i)||l.push(i));return l}},Iwrh:function(module,exports){var root,factory;root=window||{},factory=function(window){var svgNS="http://www.w3.org/2000/svg",locationHref="",subframeEnabled=!0,expressionsPlugin,isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),cachedColors={},bm_rounder=Math.round,bm_rnd,bm_pow=Math.pow,bm_sqrt=Math.sqrt,bm_abs=Math.abs,bm_floor=Math.floor,bm_max=Math.max,bm_min=Math.min,blitter=10,BMMath={};function ProjectInterface(){return{}}!function(){var t,e=Object.getOwnPropertyNames(Math),i=e.length;for(t=0;t<i;t+=1)BMMath[e[t]]=Math[e[t]]}(),BMMath.random=Math.random,BMMath.abs=function(t){if("object"===typeof t&&t.length){var e,i=Array.apply(null,{length:t.length}),s=t.length;for(e=0;e<s;e+=1)i[e]=Math.abs(t[e]);return i}return Math.abs(t)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function roundValues(t){bm_rnd=t?Math.round:function(t){return t}}function roundTo2Decimals(t){return Math.round(1e4*t)/1e4}function roundTo3Decimals(t){return Math.round(100*t)/100}function styleDiv(t){t.style.position="absolute",t.style.top=0,t.style.left=0,t.style.display="block",t.style.transformOrigin=t.style.webkitTransformOrigin="0 0",t.style.backfaceVisibility=t.style.webkitBackfaceVisibility="visible",t.style.transformStyle=t.style.webkitTransformStyle=t.style.mozTransformStyle="preserve-3d"}function styleUnselectableDiv(t){t.style.userSelect="none",t.style.MozUserSelect="none",t.style.webkitUserSelect="none",t.style.oUserSelect="none"}function BMEnterFrameEvent(t,e,i,s){this.type=t,this.currentTime=e,this.totalTime=i,this.direction=s<0?-1:1}function BMCompleteEvent(t,e){this.type=t,this.direction=e<0?-1:1}function BMCompleteLoopEvent(t,e,i,s){this.type=t,this.currentLoop=e,this.totalLoops=i,this.direction=s<0?-1:1}function BMSegmentStartEvent(t,e,i){this.type=t,this.firstFrame=e,this.totalFrames=i}function BMDestroyEvent(t,e){this.type=t,this.target=e}function _addEventListener(t,e){return this._cbs[t]||(this._cbs[t]=[]),this._cbs[t].push(e),function(){this.removeEventListener(t,e)}.bind(this)}function _removeEventListener(t,e){if(e){if(this._cbs[t]){for(var i=0,s=this._cbs[t].length;i<s;)this._cbs[t][i]===e&&(this._cbs[t].splice(i,1),i-=1,s-=1),i+=1;this._cbs[t].length||(this._cbs[t]=null)}}else this._cbs[t]=null}function _triggerEvent(t,e){if(this._cbs[t])for(var i=this._cbs[t].length,s=0;s<i;s++)this._cbs[t][s](e)}function randomString(t,e){var i;void 0===e&&(e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890");var s="";for(i=t;i>0;--i)s+=e[Math.round(Math.random()*(e.length-1))];return s}function HSVtoRGB(t,e,i){var s,r,n,a,o,h,l,c;switch(1===arguments.length&&(e=t.s,i=t.v,t=t.h),h=i*(1-e),l=i*(1-(o=6*t-(a=Math.floor(6*t)))*e),c=i*(1-(1-o)*e),a%6){case 0:s=i,r=c,n=h;break;case 1:s=l,r=i,n=h;break;case 2:s=h,r=i,n=c;break;case 3:s=h,r=l,n=i;break;case 4:s=c,r=h,n=i;break;case 5:s=i,r=h,n=l}return[s,r,n]}function RGBtoHSV(t,e,i){1===arguments.length&&(e=t.g,i=t.b,t=t.r);var s,r=Math.max(t,e,i),n=Math.min(t,e,i),a=r-n,o=0===r?0:a/r,h=r/255;switch(r){case n:s=0;break;case t:s=e-i+a*(e<i?6:0),s/=6*a;break;case e:s=i-t+2*a,s/=6*a;break;case i:s=t-e+4*a,s/=6*a}return[s,o,h]}function addSaturationToRGB(t,e){var i=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return i[1]+=e,i[1]>1?i[1]=1:i[1]<=0&&(i[1]=0),HSVtoRGB(i[0],i[1],i[2])}function addBrightnessToRGB(t,e){var i=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return i[2]+=e,i[2]>1?i[2]=1:i[2]<0&&(i[2]=0),HSVtoRGB(i[0],i[1],i[2])}function addHueToRGB(t,e){var i=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return i[0]+=e/360,i[0]>1?i[0]-=1:i[0]<0&&(i[0]+=1),HSVtoRGB(i[0],i[1],i[2])}function componentToHex(t){var e=t.toString(16);return 1==e.length?"0"+e:e}roundValues(!1);var rgbToHex=function(){var t,e,i=[];for(t=0;t<256;t+=1)e=t.toString(16),i[t]=1==e.length?"0"+e:e;return function(t,e,s){return t<0&&(t=0),e<0&&(e=0),s<0&&(s=0),"#"+i[t]+i[e]+i[s]}}();function fillToRgba(t,e){if(!cachedColors[t]){var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);cachedColors[t]=parseInt(i[1],16)+","+parseInt(i[2],16)+","+parseInt(i[3],16)}return"rgba("+cachedColors[t]+","+e+")"}var fillColorToString=(colorMap=[],function(t,e){return void 0!==e&&(t[3]=e),colorMap[t[0]]||(colorMap[t[0]]={}),colorMap[t[0]][t[1]]||(colorMap[t[0]][t[1]]={}),colorMap[t[0]][t[1]][t[2]]||(colorMap[t[0]][t[1]][t[2]]={}),colorMap[t[0]][t[1]][t[2]][t[3]]||(colorMap[t[0]][t[1]][t[2]][t[3]]="rgba("+t.join(",")+")"),colorMap[t[0]][t[1]][t[2]][t[3]]}),colorMap;function RenderedFrame(t,e){this.tr=t,this.o=e}function iterateDynamicProperties(t){var e,i=this.dynamicProperties;for(e=0;e<i;e+=1)this.dynamicProperties[e].getValue(t)}function reversePath(t){var e,i,s=[],r=[],n=[],a={},o=0;t.c&&(s[0]=t.o[0],r[0]=t.i[0],n[0]=t.v[0],o=1);var h=(i=t.i.length)-1;for(e=o;e<i;e+=1)s.push(t.o[h]),r.push(t.i[h]),n.push(t.v[h]),h-=1;return a.i=s,a.o=r,a.v=n,a}
/*!
 Transformation Matrix v2.0
 (c) Epistemex 2014-2015
 www.epistemex.com
 By Ken Fyrstenberg
 Contributions by leeoniya.
 License: MIT, header required.
 */var Matrix=function(){function t(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function e(t){if(0===t)return this;var e=Math.cos(t),i=Math.sin(t);return this._t(e,-i,0,0,i,e,0,0,0,0,1,0,0,0,0,1)}function i(t){if(0===t)return this;var e=Math.cos(t),i=Math.sin(t);return this._t(1,0,0,0,0,e,-i,0,0,i,e,0,0,0,0,1)}function s(t){if(0===t)return this;var e=Math.cos(t),i=Math.sin(t);return this._t(e,0,i,0,0,1,0,0,-i,0,e,0,0,0,0,1)}function r(t){if(0===t)return this;var e=Math.cos(t),i=Math.sin(t);return this._t(e,-i,0,0,i,e,0,0,0,0,1,0,0,0,0,1)}function n(t,e){return this._t(1,e,t,1,0,0)}function a(t,e){return this.shear(Math.tan(t),Math.tan(e))}function o(t,e){var i=Math.cos(e),s=Math.sin(e);return this._t(i,s,0,0,-s,i,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,Math.tan(t),1,0,0,0,0,1,0,0,0,0,1)._t(i,-s,0,0,s,i,0,0,0,0,1,0,0,0,0,1)}function h(t,e,i){return i=isNaN(i)?1:i,1==t&&1==e&&1==i?this:this._t(t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1)}function l(t,e,i,s,r,n,a,o,h,l,c,p,u,f,d,m){return this.props[0]=t,this.props[1]=e,this.props[2]=i,this.props[3]=s,this.props[4]=r,this.props[5]=n,this.props[6]=a,this.props[7]=o,this.props[8]=h,this.props[9]=l,this.props[10]=c,this.props[11]=p,this.props[12]=u,this.props[13]=f,this.props[14]=d,this.props[15]=m,this}function c(t,e,i){return i=i||0,0!==t||0!==e||0!==i?this._t(1,0,0,0,0,1,0,0,0,0,1,0,t,e,i,1):this}function p(t,e,i,s,r,n,a,o,h,l,c,p,u,f,d,m){if(1===t&&0===e&&0===i&&0===s&&0===r&&1===n&&0===a&&0===o&&0===h&&0===l&&1===c&&0===p)return 0===u&&0===f&&0===d||(this.props[12]=this.props[12]*t+this.props[13]*r+this.props[14]*h+this.props[15]*u,this.props[13]=this.props[12]*e+this.props[13]*n+this.props[14]*l+this.props[15]*f,this.props[14]=this.props[12]*i+this.props[13]*a+this.props[14]*c+this.props[15]*d,this.props[15]=this.props[12]*s+this.props[13]*o+this.props[14]*p+this.props[15]*m),this._identityCalculated=!1,this;var y=this.props[0],v=this.props[1],g=this.props[2],_=this.props[3],b=this.props[4],x=this.props[5],w=this.props[6],k=this.props[7],P=this.props[8],T=this.props[9],E=this.props[10],S=this.props[11],A=this.props[12],C=this.props[13],M=this.props[14],N=this.props[15];return this.props[0]=y*t+v*r+g*h+_*u,this.props[1]=y*e+v*n+g*l+_*f,this.props[2]=y*i+v*a+g*c+_*d,this.props[3]=y*s+v*o+g*p+_*m,this.props[4]=b*t+x*r+w*h+k*u,this.props[5]=b*e+x*n+w*l+k*f,this.props[6]=b*i+x*a+w*c+k*d,this.props[7]=b*s+x*o+w*p+k*m,this.props[8]=P*t+T*r+E*h+S*u,this.props[9]=P*e+T*n+E*l+S*f,this.props[10]=P*i+T*a+E*c+S*d,this.props[11]=P*s+T*o+E*p+S*m,this.props[12]=A*t+C*r+M*h+N*u,this.props[13]=A*e+C*n+M*l+N*f,this.props[14]=A*i+C*a+M*c+N*d,this.props[15]=A*s+C*o+M*p+N*m,this._identityCalculated=!1,this}function u(){return this._identityCalculated||(this._identity=!(1!==this.props[0]||0!==this.props[1]||0!==this.props[2]||0!==this.props[3]||0!==this.props[4]||1!==this.props[5]||0!==this.props[6]||0!==this.props[7]||0!==this.props[8]||0!==this.props[9]||1!==this.props[10]||0!==this.props[11]||0!==this.props[12]||0!==this.props[13]||0!==this.props[14]||1!==this.props[15]),this._identityCalculated=!0),this._identity}function f(t){var e;for(e=0;e<16;e+=1)t.props[e]=this.props[e]}function d(t){var e;for(e=0;e<16;e+=1)this.props[e]=t[e]}function m(t,e,i){return{x:t*this.props[0]+e*this.props[4]+i*this.props[8]+this.props[12],y:t*this.props[1]+e*this.props[5]+i*this.props[9]+this.props[13],z:t*this.props[2]+e*this.props[6]+i*this.props[10]+this.props[14]}}function y(t,e,i){return t*this.props[0]+e*this.props[4]+i*this.props[8]+this.props[12]}function v(t,e,i){return t*this.props[1]+e*this.props[5]+i*this.props[9]+this.props[13]}function g(t,e,i){return t*this.props[2]+e*this.props[6]+i*this.props[10]+this.props[14]}function _(t){var e=this.props[0]*this.props[5]-this.props[1]*this.props[4],i=this.props[5]/e,s=-this.props[1]/e,r=-this.props[4]/e,n=this.props[0]/e,a=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/e,o=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/e;return[t[0]*i+t[1]*r+a,t[0]*s+t[1]*n+o,0]}function b(t){var e,i=t.length,s=[];for(e=0;e<i;e+=1)s[e]=_(t[e]);return s}function x(t,e,i,s){if(s&&2===s){var r=point_pool.newPoint();return r[0]=t*this.props[0]+e*this.props[4]+i*this.props[8]+this.props[12],r[1]=t*this.props[1]+e*this.props[5]+i*this.props[9]+this.props[13],r}return[t*this.props[0]+e*this.props[4]+i*this.props[8]+this.props[12],t*this.props[1]+e*this.props[5]+i*this.props[9]+this.props[13],t*this.props[2]+e*this.props[6]+i*this.props[10]+this.props[14]]}function w(t,e){return this.isIdentity()?t+","+e:bm_rnd(t*this.props[0]+e*this.props[4]+this.props[12])+","+bm_rnd(t*this.props[1]+e*this.props[5]+this.props[13])}function k(){return[this.props[0],this.props[1],this.props[2],this.props[3],this.props[4],this.props[5],this.props[6],this.props[7],this.props[8],this.props[9],this.props[10],this.props[11],this.props[12],this.props[13],this.props[14],this.props[15]]}function P(){return isSafari?"matrix3d("+roundTo2Decimals(this.props[0])+","+roundTo2Decimals(this.props[1])+","+roundTo2Decimals(this.props[2])+","+roundTo2Decimals(this.props[3])+","+roundTo2Decimals(this.props[4])+","+roundTo2Decimals(this.props[5])+","+roundTo2Decimals(this.props[6])+","+roundTo2Decimals(this.props[7])+","+roundTo2Decimals(this.props[8])+","+roundTo2Decimals(this.props[9])+","+roundTo2Decimals(this.props[10])+","+roundTo2Decimals(this.props[11])+","+roundTo2Decimals(this.props[12])+","+roundTo2Decimals(this.props[13])+","+roundTo2Decimals(this.props[14])+","+roundTo2Decimals(this.props[15])+")":(this.cssParts[1]=this.props.join(","),this.cssParts.join(""))}function T(){return"matrix("+roundTo2Decimals(this.props[0])+","+roundTo2Decimals(this.props[1])+","+roundTo2Decimals(this.props[4])+","+roundTo2Decimals(this.props[5])+","+roundTo2Decimals(this.props[12])+","+roundTo2Decimals(this.props[13])+")"}function E(){return""+this.toArray()}return function(){this.reset=t,this.rotate=e,this.rotateX=i,this.rotateY=s,this.rotateZ=r,this.skew=a,this.skewFromAxis=o,this.shear=n,this.scale=h,this.setTransform=l,this.translate=c,this.transform=p,this.applyToPoint=m,this.applyToX=y,this.applyToY=v,this.applyToZ=g,this.applyToPointArray=x,this.applyToPointStringified=w,this.toArray=k,this.toCSS=P,this.to2dCSS=T,this.toString=E,this.clone=f,this.cloneFromProps=d,this.inversePoints=b,this.inversePoint=_,this._t=this.transform,this.isIdentity=u,this._identity=!0,this._identityCalculated=!1,this.props=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],this.cssParts=["matrix3d(","",")"]}}();function Matrix(){}!function(t,e){var i,s=this,r=256,n=6,a="random",o=e.pow(r,n),h=e.pow(2,52),l=2*h,c=r-1;function p(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function u(t,e){for(var i,s=t+"",r=0;r<s.length;)e[c&r]=c&(i^=19*e[c&r])+s.charCodeAt(r++);return f(e)}function f(t){return String.fromCharCode.apply(0,t)}e["seed"+a]=function(d,m,y){var v=[],g=u(function t(e,i){var s,r=[],n=typeof e;if(i&&"object"==n)for(s in e)try{r.push(t(e[s],i-1))}catch(t){}return r.length?r:"string"==n?e:e+"\0"}((m=1==m?{entropy:!0}:m||{}).entropy?[d,f(t)]:null==d?function(){try{if(i)return f(i.randomBytes(r));var e=new Uint8Array(r);return(s.crypto||s.msCrypto).getRandomValues(e),f(e)}catch(e){var n=s.navigator,a=n&&n.plugins;return[+new Date,s,a,s.screen,f(t)]}}():d,3),v),_=new function(t){var e,i=t.length,s=this,n=0,a=s.i=s.j=0,o=s.S=[];for(i||(t=[i++]);n<r;)o[n]=n++;for(n=0;n<r;n++)o[n]=o[a=c&a+t[n%i]+(e=o[n])],o[a]=e;(s.g=function(t){for(var e,i=0,n=s.i,a=s.j,o=s.S;t--;)e=o[n=c&n+1],i=i*r+o[c&(o[n]=o[a=c&a+e])+(o[a]=e)];return s.i=n,s.j=a,i})(r)}(v),b=function(){for(var t=_.g(n),e=o,i=0;t<h;)t=(t+i)*r,e*=r,i=_.g(1);for(;t>=l;)t/=2,e/=2,i>>>=1;return(t+i)/e};return b.int32=function(){return 0|_.g(4)},b.quick=function(){return _.g(4)/4294967296},b.double=b,u(f(_.S),t),(m.pass||y||function(t,i,s,r){return r&&(r.S&&p(r,_),t.state=function(){return p(_,{})}),s?(e[a]=t,i):t})(b,g,"global"in m?m.global:this==e,m.state)},u(e.random(),t)}([],BMMath);var BezierFactory=function(){var t={getBezierEasing:function(t,i,s,r,n){var a=n||("bez_"+t+"_"+i+"_"+s+"_"+r).replace(/\./g,"p");if(e[a])return e[a];var o=new f([t,i,s,r]);return e[a]=o,o}},e={};var i=4,s=1e-7,r=10,n=11,a=1/(n-1),o="function"==typeof Float32Array;function h(t,e){return 1-3*e+3*t}function l(t,e){return 3*e-6*t}function c(t){return 3*t}function p(t,e,i){return((h(e,i)*t+l(e,i))*t+c(e))*t}function u(t,e,i){return 3*h(e,i)*t*t+2*l(e,i)*t+c(e)}function f(t){this._p=t,this._mSampleValues=o?new Float32Array(n):new Array(n),this._precomputed=!1,this.get=this.get.bind(this)}return f.prototype={get:function(t){var e=this._p[0],i=this._p[1],s=this._p[2],r=this._p[3];return this._precomputed||this._precompute(),e===i&&s===r?t:0===t?0:1===t?1:p(this._getTForX(t),i,r)},_precompute:function(){var t=this._p[0],e=this._p[1],i=this._p[2],s=this._p[3];this._precomputed=!0,t===e&&i===s||this._calcSampleValues()},_calcSampleValues:function(){for(var t=this._p[0],e=this._p[2],i=0;i<n;++i)this._mSampleValues[i]=p(i*a,t,e)},_getTForX:function(t){for(var e=this._p[0],o=this._p[2],h=this._mSampleValues,l=0,c=1,f=n-1;c!==f&&h[c]<=t;++c)l+=a;var d=l+(t-h[--c])/(h[c+1]-h[c])*a,m=u(d,e,o);return m>=.001?function(t,e,s,r){for(var n=0;n<i;++n){var a=u(e,s,r);if(0===a)return e;e-=(p(e,s,r)-t)/a}return e}(t,d,e,o):0===m?d:function(t,e,i,n,a){var o,h,l=0;do{(o=p(h=e+(i-e)/2,n,a)-t)>0?i=h:e=h}while(Math.abs(o)>s&&++l<r);return h}(t,l,l+a,e,o)}},t}();function createElement(t,e,i){if(!e){var s=Object.create(t.prototype,i);return s&&"[object Function]"==={}.toString.call(s.init)&&s.init(),s}e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.prototype._parent=t.prototype}function extendPrototype(t,e){for(var i in t.prototype)t.prototype.hasOwnProperty(i)&&(e.prototype[i]=t.prototype[i])}function bezFunction(){Math;function t(t,e,i,s,r,n){var a=t*s+e*r+i*n-r*s-n*t-i*e;return a>-1e-4&&a<1e-4}var e=function(){function t(t,e){this.l=t,this.p=e}return function(e,i,s,r){var n,a,o,h,l,c,p=defaultCurveSegments,u=0,f=[],d=[],m={addedLength:0,segments:[]};for(o=s.length,n=0;n<p;n+=1){for(l=n/(p-1),c=0,a=0;a<o;a+=1)h=bm_pow(1-l,3)*e[a]+3*bm_pow(1-l,2)*l*s[a]+3*(1-l)*bm_pow(l,2)*r[a]+bm_pow(l,3)*i[a],f[a]=h,null!==d[a]&&(c+=bm_pow(f[a]-d[a],2)),d[a]=f[a];c&&(u+=c=bm_sqrt(c)),m.segments.push(new t(u,l))}return m.addedLength=u,m}}();function i(t,e){this.partialLength=t,this.point=e}var s,r=(s={},function(e){var r=e.s,n=e.e,a=e.to,o=e.ti,h=(r.join("_")+"_"+n.join("_")+"_"+a.join("_")+"_"+o.join("_")).replace(/\./g,"p");if(s[h])e.bezierData=s[h];else{var l,c,p,u,f,d,m,y=defaultCurveSegments,v=0,g=null;2===r.length&&(r[0]!=n[0]||r[1]!=n[1])&&t(r[0],r[1],n[0],n[1],r[0]+a[0],r[1]+a[1])&&t(r[0],r[1],n[0],n[1],n[0]+o[0],n[1]+o[1])&&(y=2);var _=new function(t){this.segmentLength=0,this.points=new Array(t)}(y);for(p=a.length,l=0;l<y;l+=1){for(m=new Array(p),f=l/(y-1),d=0,c=0;c<p;c+=1)u=bm_pow(1-f,3)*r[c]+3*bm_pow(1-f,2)*f*(r[c]+a[c])+3*(1-f)*bm_pow(f,2)*(n[c]+o[c])+bm_pow(f,3)*n[c],m[c]=u,null!==g&&(d+=bm_pow(m[c]-g[c],2));v+=d=bm_sqrt(d),_.points[l]=new i(d,m),g=m}_.segmentLength=v,e.bezierData=_,s[h]=_}});function n(t,e){var i=e.segments,s=i.length,r=bm_floor((s-1)*t),n=t*e.addedLength,a=0;if(n==i[r].l)return i[r].p;for(var o=i[r].l>n?-1:1,h=!0;h;)i[r].l<=n&&i[r+1].l>n?(a=(n-i[r].l)/(i[r+1].l-i[r].l),h=!1):r+=o,(r<0||r>=s-1)&&(h=!1);return i[r].p+(i[r+1].p-i[r].p)*a}return{getBezierLength:e,getSegmentsLength:function(t){var i,s=t.c,r=t.v,n=t.o,a=t.i,o=t._length,h=[],l=0;for(i=0;i<o-1;i+=1)h[i]=e(r[i],r[i+1],n[i],a[i+1]),l+=h[i].addedLength;return s&&(h[i]=e(r[i],r[0],n[i],a[0]),l+=h[i].addedLength),{lengths:h,totalLength:l}},getNewSegment:function(t,e,i,s,r,a,o){var h,l=new function(){this.pt1=new Array(2),this.pt2=new Array(2),this.pt3=new Array(2),this.pt4=new Array(2)},c=n(r=r<0?0:r>1?1:r,o),p=n(a=a>1?1:a,o),u=t.length,f=1-c,d=1-p;for(h=0;h<u;h+=1)l.pt1[h]=Math.round(1e3*(f*f*f*t[h]+(c*f*f+f*c*f+f*f*c)*i[h]+(c*c*f+f*c*c+c*f*c)*s[h]+c*c*c*e[h]))/1e3,l.pt3[h]=Math.round(1e3*(f*f*d*t[h]+(c*f*d+f*c*d+f*f*p)*i[h]+(c*c*d+f*c*p+c*f*p)*s[h]+c*c*p*e[h]))/1e3,l.pt4[h]=Math.round(1e3*(f*d*d*t[h]+(c*d*d+f*p*d+f*d*p)*i[h]+(c*p*d+f*p*p+c*d*p)*s[h]+c*p*p*e[h]))/1e3,l.pt2[h]=Math.round(1e3*(d*d*d*t[h]+(p*d*d+d*p*d+d*d*p)*i[h]+(p*p*d+d*p*p+p*d*p)*s[h]+p*p*p*e[h]))/1e3;return l},getPointInSegment:function(t,e,i,s,r,a){var o=n(r,a),h=1-o;return[Math.round(1e3*(h*h*h*t[0]+(o*h*h+h*o*h+h*h*o)*i[0]+(o*o*h+h*o*o+o*h*o)*s[0]+o*o*o*e[0]))/1e3,Math.round(1e3*(h*h*h*t[1]+(o*h*h+h*o*h+h*h*o)*i[1]+(o*o*h+h*o*o+o*h*o)*s[1]+o*o*o*e[1]))/1e3]},buildBezierData:r,pointOnLine2D:t,pointOnLine3D:function(e,i,s,r,n,a,o,h,l){if(0===s&&0===a&&0===l)return t(e,i,r,n,o,h);var c,p=Math.sqrt(Math.pow(r-e,2)+Math.pow(n-i,2)+Math.pow(a-s,2)),u=Math.sqrt(Math.pow(o-e,2)+Math.pow(h-i,2)+Math.pow(l-s,2)),f=Math.sqrt(Math.pow(o-r,2)+Math.pow(h-n,2)+Math.pow(l-a,2));return(c=p>u?p>f?p-u-f:f-u-p:f>u?f-u-p:u-p-f)>-1e-4&&c<1e-4}}}!function(){for(var t=0,e=["ms","moz","webkit","o"],i=0;i<e.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[e[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[i]+"CancelAnimationFrame"]||window[e[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,i){var s=(new Date).getTime(),r=Math.max(0,16-(s-t)),n=setTimeout(function(){e(s+r)},r);return t=s+r,n}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}();var bez=bezFunction();function dataFunctionManager(){function t(t,e){for(var i=0,s=e.length;i<s;){if(e[i].id===t)return e[i].layers.__used?JSON.parse(JSON.stringify(e[i].layers)):(e[i].layers.__used=!0,e[i].layers);i+=1}}function e(t){var s,r,n;for(s=t.length-1;s>=0;s-=1)if("sh"==t[s].ty){if(t[s].ks.k.i)i(t[s].ks.k);else for(n=t[s].ks.k.length,r=0;r<n;r+=1)t[s].ks.k[r].s&&i(t[s].ks.k[r].s[0]),t[s].ks.k[r].e&&i(t[s].ks.k[r].e[0]);!0}else"gr"==t[s].ty&&e(t[s].it)}function i(t){var e,i=t.i.length;for(e=0;e<i;e+=1)t.i[e][0]+=t.v[e][0],t.i[e][1]+=t.v[e][1],t.o[e][0]+=t.v[e][0],t.o[e][1]+=t.v[e][1]}function s(t,e){var i=e?e.split("."):[100,100,100];return t[0]>i[0]||!(i[0]>t[0])&&(t[1]>i[1]||!(i[1]>t[1])&&(t[2]>i[2]||!(i[2]>t[2])&&void 0))}var r,n=function(){var t=[4,4,14];function e(t){var e,i,s,r=t.length;for(e=0;e<r;e+=1)5===t[e].ty&&(i=t[e],void 0,s=i.t.d,i.t.d={k:[{s:s,t:0}]})}return function(i){if(s(t,i.v)&&(e(i.layers),i.assets)){var r,n=i.assets.length;for(r=0;r<n;r+=1)i.assets[r].layers&&e(i.assets[r].layers)}}}(),a=(r=[4,7,99],function(t){if(t.chars&&!s(r,t.v)){var e,n,a,o,h,l=t.chars.length;for(e=0;e<l;e+=1)if(t.chars[e].data&&t.chars[e].data.shapes)for(a=(h=t.chars[e].data.shapes[0].it).length,n=0;n<a;n+=1)(o=h[n].ks.k).__converted||(i(h[n].ks.k),o.__converted=!0)}}),o=function(){var t=[4,1,9];function e(t){var i,s,r,n=t.length;for(i=0;i<n;i+=1)if("gr"===t[i].ty)e(t[i].it);else if("fl"===t[i].ty||"st"===t[i].ty)if(t[i].c.k&&t[i].c.k[0].i)for(r=t[i].c.k.length,s=0;s<r;s+=1)t[i].c.k[s].s&&(t[i].c.k[s].s[0]/=255,t[i].c.k[s].s[1]/=255,t[i].c.k[s].s[2]/=255,t[i].c.k[s].s[3]/=255),t[i].c.k[s].e&&(t[i].c.k[s].e[0]/=255,t[i].c.k[s].e[1]/=255,t[i].c.k[s].e[2]/=255,t[i].c.k[s].e[3]/=255);else t[i].c.k[0]/=255,t[i].c.k[1]/=255,t[i].c.k[2]/=255,t[i].c.k[3]/=255}function i(t){var i,s=t.length;for(i=0;i<s;i+=1)4===t[i].ty&&e(t[i].shapes)}return function(e){if(s(t,e.v)&&(i(e.layers),e.assets)){var r,n=e.assets.length;for(r=0;r<n;r+=1)e.assets[r].layers&&i(e.assets[r].layers)}}}(),h=function(){var t=[4,4,18];function e(t){var i,s,r;for(i=t.length-1;i>=0;i-=1)if("sh"==t[i].ty){if(t[i].ks.k.i)t[i].ks.k.c=t[i].closed;else for(r=t[i].ks.k.length,s=0;s<r;s+=1)t[i].ks.k[s].s&&(t[i].ks.k[s].s[0].c=t[i].closed),t[i].ks.k[s].e&&(t[i].ks.k[s].e[0].c=t[i].closed);!0}else"gr"==t[i].ty&&e(t[i].it)}function i(t){var i,s,r,n,a,o,h=t.length;for(s=0;s<h;s+=1){if((i=t[s]).hasMask){var l=i.masksProperties;for(n=l.length,r=0;r<n;r+=1)if(l[r].pt.k.i)l[r].pt.k.c=l[r].cl;else for(o=l[r].pt.k.length,a=0;a<o;a+=1)l[r].pt.k[a].s&&(l[r].pt.k[a].s[0].c=l[r].cl),l[r].pt.k[a].e&&(l[r].pt.k[a].e[0].c=l[r].cl)}4===i.ty&&e(i.shapes)}}return function(e){if(s(t,e.v)&&(i(e.layers),e.assets)){var r,n=e.assets.length;for(r=0;r<n;r+=1)e.assets[r].layers&&i(e.assets[r].layers)}}}();var l={};return l.completeData=function(s,r){s.__complete||(o(s),n(s),a(s),h(s),function s(r,n,a){var o,h,l,c,p,u,f,d=r.length;for(h=0;h<d;h+=1)if("ks"in(o=r[h])&&!o.completed){if(o.completed=!0,o.tt&&(r[h-1].td=o.tt),o.hasMask){var m=o.masksProperties;for(c=m.length,l=0;l<c;l+=1)if(m[l].pt.k.i)i(m[l].pt.k);else for(u=m[l].pt.k.length,p=0;p<u;p+=1)m[l].pt.k[p].s&&i(m[l].pt.k[p].s[0]),m[l].pt.k[p].e&&i(m[l].pt.k[p].e[0])}0===o.ty?(o.layers=t(o.refId,n),s(o.layers,n,a)):4===o.ty?e(o.shapes):5==o.ty&&(0!==(f=o).t.a.length||"m"in f.t.p||(f.singleShape=!0))}}(s.layers,s.assets,r),s.__complete=!0)},l}var dataManager=dataFunctionManager(),FontManager=function(){var t=5e3;function e(t,e){var i=document.createElement("span");i.style.fontFamily=e;var s=document.createElement("span");s.innerHTML="giItT1WQy@!-/#",i.style.position="absolute",i.style.left="-10000px",i.style.top="-10000px",i.style.fontSize="300px",i.style.fontVariant="normal",i.style.fontStyle="normal",i.style.fontWeight="normal",i.style.letterSpacing="0",i.appendChild(s),document.body.appendChild(i);var r=s.offsetWidth;return s.style.fontFamily=t+", "+e,{node:s,w:r,parent:i}}function i(t,e){var i=document.createElementNS(svgNS,"text");i.style.fontSize="100px",i.style.fontFamily=e.fFamily,i.textContent="1",e.fClass?(i.style.fontFamily="inherit",i.className=e.fClass):i.style.fontFamily=e.fFamily,t.appendChild(i);var s=document.createElement("canvas").getContext("2d");return s.font="100px "+e.fFamily,s}var s=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.loaded=!1,this.initTime=Date.now()};return s.prototype.addChars=function(t){if(t){this.chars||(this.chars=[]);var e,i,s,r=t.length,n=this.chars.length;for(e=0;e<r;e+=1){for(i=0,s=!1;i<n;)this.chars[i].style===t[e].style&&this.chars[i].fFamily===t[e].fFamily&&this.chars[i].ch===t[e].ch&&(s=!0),i+=1;s||(this.chars.push(t[e]),n+=1)}}},s.prototype.addFonts=function(s,r){if(s){if(this.chars)return this.loaded=!0,void(this.fonts=s.list);var n,a=s.list,o=a.length;for(n=0;n<o;n+=1){if(a[n].loaded=!1,a[n].monoCase=e(a[n].fFamily,"monospace"),a[n].sansCase=e(a[n].fFamily,"sans-serif"),a[n].fPath){if("p"===a[n].fOrigin||3===a[n].origin){var h=document.createElement("style");h.type="text/css",h.innerHTML="@font-face {font-family: "+a[n].fFamily+"; font-style: normal; src: url('"+a[n].fPath+"');}",r.appendChild(h)}else if("g"===a[n].fOrigin||1===a[n].origin){var l=document.createElement("link");l.type="text/css",l.rel="stylesheet",l.href=a[n].fPath,r.appendChild(l)}else if("t"===a[n].fOrigin||2===a[n].origin){var c=document.createElement("script");c.setAttribute("src",a[n].fPath),r.appendChild(c)}}else a[n].loaded=!0;a[n].helper=i(r,a[n]),this.fonts.push(a[n])}(function e(){var i,s,r,n=this.fonts.length,a=n;for(i=0;i<n;i+=1)if(this.fonts[i].loaded)a-=1;else if("t"===this.fonts[i].fOrigin||2===this.fonts[i].origin){if(window.Typekit&&window.Typekit.load&&0===this.typekitLoaded){this.typekitLoaded=1;try{window.Typekit.load({async:!0,active:function(){this.typekitLoaded=2}.bind(this)})}catch(t){}}2===this.typekitLoaded&&(this.fonts[i].loaded=!0)}else"n"===this.fonts[i].fOrigin||0===this.fonts[i].origin?this.fonts[i].loaded=!0:(s=this.fonts[i].monoCase.node,r=this.fonts[i].monoCase.w,s.offsetWidth!==r?(a-=1,this.fonts[i].loaded=!0):(s=this.fonts[i].sansCase.node,r=this.fonts[i].sansCase.w,s.offsetWidth!==r&&(a-=1,this.fonts[i].loaded=!0)),this.fonts[i].loaded&&(this.fonts[i].sansCase.parent.parentNode.removeChild(this.fonts[i].sansCase.parent),this.fonts[i].monoCase.parent.parentNode.removeChild(this.fonts[i].monoCase.parent)));0!==a&&Date.now()-this.initTime<t?setTimeout(e.bind(this),20):setTimeout(function(){this.loaded=!0}.bind(this),0)}).bind(this)()}else this.loaded=!0},s.prototype.getCharData=function(t,e,i){for(var s=0,r=this.chars.length;s<r;){if(this.chars[s].ch===t&&this.chars[s].style===e&&this.chars[s].fFamily===i)return this.chars[s];s+=1}},s.prototype.getFontByName=function(t){for(var e=0,i=this.fonts.length;e<i;){if(this.fonts[e].fName===t)return this.fonts[e];e+=1}return"sans-serif"},s.prototype.measureText=function(t,e,i){return this.getFontByName(e).helper.measureText(t).width*i/100},s}(),PropertyFactory=function(){var t=-999999;function e(t,e,i,s){var r,n=this.offsetTime;i.constructor===Array&&(r=Array.apply(null,{length:i.length}));for(var a,o,h,l,c,p,u,f,d=e,m=this.keyframes.length-1,y=!0;y;){if(a=this.keyframes[d],o=this.keyframes[d+1],d==m-1&&t>=o.t-n){a.h&&(a=o),e=0;break}if(o.t-n>t){e=d;break}d<m-1?d+=1:(e=0,y=!1)}if(a.to){a.bezierData||bez.buildBezierData(a);var v=a.bezierData;if(t>=o.t-n||t<a.t-n){var g=t>=o.t-n?v.points.length-1:0;for(l=v.points[g].point.length,h=0;h<l;h+=1)r[h]=v.points[g].point[h];s._lastBezierData=null}else{a.__fnct?f=a.__fnct:(f=BezierFactory.getBezierEasing(a.o.x,a.o.y,a.i.x,a.i.y,a.n).get,a.__fnct=f),c=f((t-(a.t-n))/(o.t-n-(a.t-n)));var _,b=v.segmentLength*c,x=s.lastFrame<t&&s._lastBezierData===v?s._lastAddedLength:0;for(u=s.lastFrame<t&&s._lastBezierData===v?s._lastPoint:0,y=!0,p=v.points.length;y;){if(x+=v.points[u].partialLength,0===b||0===c||u==v.points.length-1){for(l=v.points[u].point.length,h=0;h<l;h+=1)r[h]=v.points[u].point[h];break}if(b>=x&&b<x+v.points[u+1].partialLength){for(_=(b-x)/v.points[u+1].partialLength,l=v.points[u].point.length,h=0;h<l;h+=1)r[h]=v.points[u].point[h]+(v.points[u+1].point[h]-v.points[u].point[h])*_;break}u<p-1?u+=1:y=!1}s._lastPoint=u,s._lastAddedLength=x-v.points[u].partialLength,s._lastBezierData=v}}else{var w,k,P,T,E;for(m=a.s.length,d=0;d<m;d+=1){if(1!==a.h&&(t>=o.t-n?c=1:t<a.t-n?c=0:(a.o.x.constructor===Array?(a.__fnct||(a.__fnct=[]),a.__fnct[d]?f=a.__fnct[d]:(w=a.o.x[d]||a.o.x[0],k=a.o.y[d]||a.o.y[0],P=a.i.x[d]||a.i.x[0],T=a.i.y[d]||a.i.y[0],f=BezierFactory.getBezierEasing(w,k,P,T).get,a.__fnct[d]=f)):a.__fnct?f=a.__fnct:(w=a.o.x,k=a.o.y,P=a.i.x,T=a.i.y,f=BezierFactory.getBezierEasing(w,k,P,T).get,a.__fnct=f),c=f((t-(a.t-n))/(o.t-n-(a.t-n))))),this.sh&&1!==a.h){var S=a.s[d],A=a.e[d];S-A<-180?S+=360:S-A>180&&(S-=360),E=S+(A-S)*c}else E=1===a.h?a.s[d]:a.s[d]+(a.e[d]-a.s[d])*c;1===m?r=E:r[d]=E}}return{value:r,iterationIndex:e}}function i(){if(this.elem.globalData.frameId!==this.frameId){this.mdf=!1;var e=this.comp.renderedFrame-this.offsetTime,i=this.keyframes[0].t-this.offsetTime,s=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(e===this._caching.lastFrame||this._caching.lastFrame!==t&&(this._caching.lastFrame>=s&&e>=s||this._caching.lastFrame<i&&e<i))){var r=this._caching.lastFrame<e?this._caching.lastIndex:0,n=this.interpolateValue(e,r,this.pv,this._caching);if(this._caching.lastIndex=n.iterationIndex,this.pv.constructor===Array)for(r=0;r<this.v.length;)this.pv[r]=n.value[r],this.v[r]=this.mult?this.pv[r]*this.mult:this.pv[r],this.lastPValue[r]!==this.pv[r]&&(this.mdf=!0,this.lastPValue[r]=this.pv[r]),r+=1;else this.pv=n.value,this.v=this.mult?this.pv*this.mult:this.pv,this.lastPValue!=this.pv&&(this.mdf=!0,this.lastPValue=this.pv)}this._caching.lastFrame=e,this.frameId=this.elem.globalData.frameId}}function s(){}function r(t,e,i){this.mult=i,this.v=i?e.k*i:e.k,this.pv=e.k,this.mdf=!1,this.comp=t.comp,this.k=!1,this.kf=!1,this.vel=0,this.getValue=s}function n(t,e,i){this.mult=i,this.data=e,this.mdf=!1,this.comp=t.comp,this.k=!1,this.kf=!1,this.frameId=-1,this.v=Array.apply(null,{length:e.k.length}),this.pv=Array.apply(null,{length:e.k.length}),this.lastValue=Array.apply(null,{length:e.k.length});var r=Array.apply(null,{length:e.k.length});this.vel=r.map(function(){return 0});var n,a=e.k.length;for(n=0;n<a;n+=1)this.v[n]=i?e.k[n]*i:e.k[n],this.pv[n]=e.k[n];this.getValue=s}function a(s,r,n){this.keyframes=r.k,this.offsetTime=s.data.st,this.lastValue=-99999,this.lastPValue=-99999,this.frameId=-1,this._caching={lastFrame:t,lastIndex:0},this.k=!0,this.kf=!0,this.data=r,this.mult=n,this.elem=s,this.comp=s.comp,this.v=n?r.k[0].s[0]*n:r.k[0].s[0],this.pv=r.k[0].s[0],this.getValue=i,this.interpolateValue=e}function o(s,r,n){var a,o,h,l,c,p=r.k.length;for(a=0;a<p-1;a+=1)r.k[a].to&&r.k[a].s&&r.k[a].e&&(o=r.k[a].s,h=r.k[a].e,l=r.k[a].to,c=r.k[a].ti,(2===o.length&&(o[0]!==h[0]||o[1]!==h[1])&&bez.pointOnLine2D(o[0],o[1],h[0],h[1],o[0]+l[0],o[1]+l[1])&&bez.pointOnLine2D(o[0],o[1],h[0],h[1],h[0]+c[0],h[1]+c[1])||3===o.length&&(o[0]!==h[0]||o[1]!==h[1]||o[2]!==h[2])&&bez.pointOnLine3D(o[0],o[1],o[2],h[0],h[1],h[2],o[0]+l[0],o[1]+l[1],o[2]+l[2])&&bez.pointOnLine3D(o[0],o[1],o[2],h[0],h[1],h[2],h[0]+c[0],h[1]+c[1],h[2]+c[2]))&&(r.k[a].to=null,r.k[a].ti=null));this.keyframes=r.k,this.offsetTime=s.data.st,this.k=!0,this.kf=!0,this.mult=n,this.elem=s,this.comp=s.comp,this._caching={lastFrame:t,lastIndex:0},this.getValue=i,this.interpolateValue=e,this.frameId=-1,this.v=Array.apply(null,{length:r.k[0].s.length}),this.pv=Array.apply(null,{length:r.k[0].s.length}),this.lastValue=Array.apply(null,{length:r.k[0].s.length}),this.lastPValue=Array.apply(null,{length:r.k[0].s.length})}var h=function(){function t(){return this.p?ExpressionValue(this.p):[this.px.v,this.py.v,this.pz?this.pz.v:0]}function e(){return ExpressionValue(this.px)}function i(){return ExpressionValue(this.py)}function s(){return ExpressionValue(this.a)}function r(){return ExpressionValue(this.or)}function n(){return this.r?ExpressionValue(this.r,1/degToRads):ExpressionValue(this.rz,1/degToRads)}function a(){return ExpressionValue(this.s,100)}function o(){return ExpressionValue(this.o,100)}function h(){return ExpressionValue(this.sk)}function l(){return ExpressionValue(this.sa)}function c(t){var e,i=this.dynamicProperties.length;for(e=0;e<i;e+=1)this.dynamicProperties[e].getValue(),this.dynamicProperties[e].mdf&&(this.mdf=!0);this.a&&t.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&t.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.r?t.rotate(-this.r.v):t.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?t.translate(this.px.v,this.py.v,-this.pz.v):t.translate(this.px.v,this.py.v,0):t.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function p(){if(this.elem.globalData.frameId!==this.frameId){this.mdf=!1;var t,e=this.dynamicProperties.length;for(t=0;t<e;t+=1)this.dynamicProperties[t].getValue(),this.dynamicProperties[t].mdf&&(this.mdf=!0);if(this.mdf){var i,s;if(this.v.reset(),this.a&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r?this.v.rotate(-this.r.v):this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(i=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/this.elem.globalData.frameRate,0),s=this.p.getValueAtTime(this.p.keyframes[0].t/this.elem.globalData.frameRate,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(i=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/this.elem.globalData.frameRate,0),s=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.01)/this.elem.globalData.frameRate,0)):(i=this.p.pv,s=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/this.elem.globalData.frameRate,this.p.offsetTime)),this.v.rotate(-Math.atan2(i[1]-s[1],i[0]-s[0]));this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function u(){this.inverted=!0,this.iv=new Matrix,this.k||(this.data.p.s?this.iv.translate(this.px.v,this.py.v,-this.pz.v):this.iv.translate(this.p.v[0],this.p.v[1],-this.p.v[2]),this.r?this.iv.rotate(-this.r.v):this.iv.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.s&&this.iv.scale(this.s.v[0],this.s.v[1],1),this.a&&this.iv.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]))}function f(){}return function(d,m,y){this.elem=d,this.frameId=-1,this.type="transform",this.dynamicProperties=[],this.mdf=!1,this.data=m,this.getValue=p,this.applyToMatrix=c,this.setInverted=u,this.autoOrient=f,this.v=new Matrix,m.p.s?(this.px=PropertyFactory.getProp(d,m.p.x,0,0,this.dynamicProperties),this.py=PropertyFactory.getProp(d,m.p.y,0,0,this.dynamicProperties),m.p.z&&(this.pz=PropertyFactory.getProp(d,m.p.z,0,0,this.dynamicProperties))):this.p=PropertyFactory.getProp(d,m.p,1,0,this.dynamicProperties),m.r?this.r=PropertyFactory.getProp(d,m.r,0,degToRads,this.dynamicProperties):m.rx&&(this.rx=PropertyFactory.getProp(d,m.rx,0,degToRads,this.dynamicProperties),this.ry=PropertyFactory.getProp(d,m.ry,0,degToRads,this.dynamicProperties),this.rz=PropertyFactory.getProp(d,m.rz,0,degToRads,this.dynamicProperties),this.or=PropertyFactory.getProp(d,m.or,1,degToRads,this.dynamicProperties),this.or.sh=!0),m.sk&&(this.sk=PropertyFactory.getProp(d,m.sk,0,degToRads,this.dynamicProperties),this.sa=PropertyFactory.getProp(d,m.sa,0,degToRads,this.dynamicProperties)),m.a&&(this.a=PropertyFactory.getProp(d,m.a,1,0,this.dynamicProperties)),m.s&&(this.s=PropertyFactory.getProp(d,m.s,1,.01,this.dynamicProperties)),m.o?this.o=PropertyFactory.getProp(d,m.o,0,.01,this.dynamicProperties):this.o={mdf:!1,v:1},this.dynamicProperties.length?y.push(this):(this.a&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r?this.v.rotate(-this.r.v):this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?m.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])),Object.defineProperty(this,"position",{get:t}),Object.defineProperty(this,"xPosition",{get:e}),Object.defineProperty(this,"yPosition",{get:i}),Object.defineProperty(this,"orientation",{get:r}),Object.defineProperty(this,"anchorPoint",{get:s}),Object.defineProperty(this,"rotation",{get:n}),Object.defineProperty(this,"scale",{get:a}),Object.defineProperty(this,"opacity",{get:o}),Object.defineProperty(this,"skew",{get:h}),Object.defineProperty(this,"skewAxis",{get:l})}}();function l(t,e,i,s,l){var c;if(2===i)c=new h(t,e,l);else if(0===e.a)c=0===i?new r(t,e,s):new n(t,e,s);else if(1===e.a)c=0===i?new a(t,e,s):new o(t,e,s);else if(e.k.length)if("number"==typeof e.k[0])c=new n(t,e,s);else switch(i){case 0:c=new a(t,e,s);break;case 1:c=new o(t,e,s)}else c=new r(t,e,s);return c.k&&l.push(c),c}var c=function(){function t(t){if(this.prop.getValue(),this.cmdf=!1,this.omdf=!1,this.prop.mdf||t){var e,i,s,r=4*this.data.p;for(e=0;e<r;e+=1)i=e%4==0?100:255,s=Math.round(this.prop.v[e]*i),this.c[e]!==s&&(this.c[e]=s,this.cmdf=!0);if(this.o.length)for(r=this.prop.v.length,e=4*this.data.p;e<r;e+=1)i=e%2==0?100:1,s=e%2==0?Math.round(100*this.prop.v[e]):this.prop.v[e],this.o[e-4*this.data.p]!==s&&(this.o[e-4*this.data.p]=s,this.omdf=!0)}}return function(e,i,s){return new function(e,i,s){this.prop=l(e,i.k,1,null,[]),this.data=i,this.k=this.prop.k,this.c=Array.apply(null,{length:4*i.p});var r=i.k.k[0].s?i.k.k[0].s.length-4*i.p:i.k.k.length-4*i.p;this.o=Array.apply(null,{length:r}),this.cmdf=!1,this.omdf=!1,this.getValue=t,this.prop.k&&s.push(this),this.getValue(!0)}(e,i,s)}}(),p=function(){function t(t){var e=0,i=this.dataProps.length;if(this.elem.globalData.frameId!==this.frameId||t){for(this.mdf=!1,this.frameId=this.elem.globalData.frameId;e<i;){if(this.dataProps[e].p.mdf){this.mdf=!0;break}e+=1}if(this.mdf||t)for("svg"===this.renderer&&(this.dasharray=""),e=0;e<i;e+=1)"o"!=this.dataProps[e].n?"svg"===this.renderer?this.dasharray+=" "+this.dataProps[e].p.v:this.dasharray[e]=this.dataProps[e].p.v:this.dashoffset=this.dataProps[e].p.v}}return function(e,i,s,r){this.elem=e,this.frameId=-1,this.dataProps=new Array(i.length),this.renderer=s,this.mdf=!1,this.k=!1,"svg"===this.renderer?this.dasharray="":this.dasharray=new Array(i.length-1),this.dashoffset=0;var n,a,o=i.length;for(n=0;n<o;n+=1)a=PropertyFactory.getProp(e,i[n].v,0,0,r),this.k=!!a.k||this.k,this.dataProps[n]={n:i[n].n,p:a};this.getValue=t,this.k?r.push(this):this.getValue(!0)}}();var u=function(){var t=Math.max,e=Math.min,i=Math.floor;function s(t){if(this.mdf=t||!1,this.dynamicProperties.length){var e,i=this.dynamicProperties.length;for(e=0;e<i;e+=1)this.dynamicProperties[e].getValue(),this.dynamicProperties[e].mdf&&(this.mdf=!0)}var s=this.elem.textProperty.currentData?this.elem.textProperty.currentData.l.length:0;t&&2===this.data.r&&(this.e.v=s);var r=2===this.data.r?1:100/s,n=this.o.v/r,a=this.s.v/r+n,o=this.e.v/r+n;if(a>o){var h=a;a=o,o=h}this.finalS=a,this.finalE=o}function r(s){var r=BezierFactory.getBezierEasing(this.ne.v/100,0,1-this.xe.v/100,1).get,n=0,a=this.finalS,o=this.finalE,h=this.data.sh;if(2==h)n=r(n=o===a?s>=o?1:0:t(0,e(.5/(o-a)+(s-a)/(o-a),1)));else if(3==h)n=r(n=o===a?s>=o?0:1:1-t(0,e(.5/(o-a)+(s-a)/(o-a),1)));else if(4==h)o===a?n=0:(n=t(0,e(.5/(o-a)+(s-a)/(o-a),1)))<.5?n*=2:n=1-2*(n-.5),n=r(n);else if(5==h){if(o===a)n=0;else{var l=o-a,c=-l/2+(s=e(t(0,s+.5-a),o-a)),p=l/2;n=Math.sqrt(1-c*c/(p*p))}n=r(n)}else 6==h?(o===a?n=0:(s=e(t(0,s+.5-a),o-a),n=(1+Math.cos(Math.PI+2*Math.PI*s/(o-a)))/2),n=r(n)):(s>=i(a)&&(n=s-a<0?1-(a-s):t(0,e(o-s,1))),n=r(n));return n*this.a.v}return function(t,e,i){this.mdf=!1,this.k=!1,this.data=e,this.dynamicProperties=[],this.getValue=s,this.getMult=r,this.elem=t,this.comp=t.comp,this.finalS=0,this.finalE=0,this.s=PropertyFactory.getProp(t,e.s||{k:0},0,0,this.dynamicProperties),this.e="e"in e?PropertyFactory.getProp(t,e.e,0,0,this.dynamicProperties):{v:100},this.o=PropertyFactory.getProp(t,e.o||{k:0},0,0,this.dynamicProperties),this.xe=PropertyFactory.getProp(t,e.xe||{k:0},0,0,this.dynamicProperties),this.ne=PropertyFactory.getProp(t,e.ne||{k:0},0,0,this.dynamicProperties),this.a=PropertyFactory.getProp(t,e.a,0,.01,this.dynamicProperties),this.dynamicProperties.length?i.push(this):this.getValue()}}();return{getProp:l,getDashProp:function(t,e,i,s){return new p(t,e,i,s)},getTextSelectorProp:function(t,e,i){return new u(t,e,i)},getGradientProp:c}}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=Array.apply(null,{length:this._maxLength}),this.o=Array.apply(null,{length:this._maxLength}),this.i=Array.apply(null,{length:this._maxLength})}ShapePath.prototype.setPathData=function(t,e){this.c=t,this.setLength(e);for(var i=0;i<e;)this.v[i]=point_pool.newPoint(),this.o[i]=point_pool.newPoint(),this.i[i]=point_pool.newPoint(),i+=1},ShapePath.prototype.setLength=function(t){for(;this._maxLength<t;)this.doubleArrayLength();this._length=t},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(Array.apply(null,{length:this._maxLength})),this.i=this.i.concat(Array.apply(null,{length:this._maxLength})),this.o=this.o.concat(Array.apply(null,{length:this._maxLength})),this._maxLength*=2},ShapePath.prototype.setXYAt=function(t,e,i,s,r){var n;switch(this._length=Math.max(this._length,s+1),this._length>=this._maxLength&&this.doubleArrayLength(),i){case"v":n=this.v;break;case"i":n=this.i;break;case"o":n=this.o}(!n[s]||n[s]&&!r)&&(n[s]=point_pool.newPoint()),n[s][0]=t,n[s][1]=e},ShapePath.prototype.setTripleAt=function(t,e,i,s,r,n,a,o){this.setXYAt(t,e,"v",a,o),this.setXYAt(i,s,"o",a,o),this.setXYAt(r,n,"i",a,o)};var ShapePropertyFactory=function(){var t=-999999;function e(t,e,i,s){var r,n,a;if(t<this.keyframes[0].t-this.offsetTime)r=this.keyframes[0].s[0],a=!0,e=0;else if(t>=this.keyframes[this.keyframes.length-1].t-this.offsetTime)r=1===this.keyframes[this.keyframes.length-2].h?this.keyframes[this.keyframes.length-1].s[0]:this.keyframes[this.keyframes.length-2].e[0],a=!0;else{for(var o,h,l,c,p,u,f,d=e,m=this.keyframes.length-1,y=!0;y&&(o=this.keyframes[d],!((h=this.keyframes[d+1]).t-this.offsetTime>t));)d<m-1?d+=1:y=!1;if(e=d,!(a=1===o.h)){if(t>=h.t-this.offsetTime)f=1;else if(t<o.t-this.offsetTime)f=0;else{var v;o.__fnct?v=o.__fnct:(v=BezierFactory.getBezierEasing(o.o.x,o.o.y,o.i.x,o.i.y).get,o.__fnct=v),f=v((t-(o.t-this.offsetTime))/(h.t-this.offsetTime-(o.t-this.offsetTime)))}n=o.e[0]}r=o.s[0]}c=i._length,u=r.i[0].length;var g,_=!1;for(l=0;l<c;l+=1)for(p=0;p<u;p+=1)a?(g=r.i[l][p],i.i[l][p]!==g&&(i.i[l][p]=g,s&&(this.pv.i[l][p]=g),_=!0),g=r.o[l][p],i.o[l][p]!==g&&(i.o[l][p]=g,s&&(this.pv.o[l][p]=g),_=!0),g=r.v[l][p],i.v[l][p]!==g&&(i.v[l][p]=g,s&&(this.pv.v[l][p]=g),_=!0)):(g=r.i[l][p]+(n.i[l][p]-r.i[l][p])*f,i.i[l][p]!==g&&(i.i[l][p]=g,s&&(this.pv.i[l][p]=g),_=!0),g=r.o[l][p]+(n.o[l][p]-r.o[l][p])*f,i.o[l][p]!==g&&(i.o[l][p]=g,s&&(this.pv.o[l][p]=g),_=!0),g=r.v[l][p]+(n.v[l][p]-r.v[l][p])*f,i.v[l][p]!==g&&(i.v[l][p]=g,s&&(this.pv.v[l][p]=g),_=!0));return _&&(i.c=r.c),{iterationIndex:e,hasModified:_}}function i(){this.paths=this.localShapeCollection,this.k||(this.mdf=!1)}function s(t,e,s){this.__shapeObject=1,this.comp=t.comp,this.k=!1,this.mdf=!1;var r=3===s?e.pt.k:e.ks.k;this.v=shape_pool.clone(r),this.pv=shape_pool.clone(this.v),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=i}function r(e,s,r){this.__shapeObject=1,this.comp=e.comp,this.elem=e,this.offsetTime=e.data.st,this._lastIndex=0,this.keyframes=3===r?s.pt.k:s.ks.k,this.k=!0,this.kf=!0;var n=this.keyframes[0].s[0].i.length;this.keyframes[0].s[0].i[0].length;this.v=shape_pool.newShape(),this.v.setPathData(this.keyframes[0].s[0].c,n),this.pv=shape_pool.clone(this.v),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=t,this.reset=i}s.prototype.interpolateShape=e,s.prototype.getValue=function(){return this.v},r.prototype.getValue=function(){if(this.elem.globalData.frameId!==this.frameId){this.mdf=!1;var e=this.comp.renderedFrame-this.offsetTime,i=this.keyframes[0].t-this.offsetTime,s=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(this.lastFrame===t||!(this.lastFrame<i&&e<i||this.lastFrame>s&&e>s)){var r=this.lastFrame<e?this._lastIndex:0,n=this.interpolateShape(e,r,this.v,!0);this._lastIndex=n.iterationIndex,this.mdf=n.hasModified,n.hasModified&&(this.paths=this.localShapeCollection)}this.lastFrame=e,this.frameId=this.elem.globalData.frameId}},r.prototype.interpolateShape=e;var n=function(){var t=roundCorner;function e(){var e=this.p.v[0],i=this.p.v[1],s=this.s.v[0]/2,r=this.s.v[1]/2;3!==this.d?(this.v.v[0][0]=e,this.v.v[0][1]=i-r,this.v.v[1][0]=e+s,this.v.v[1][1]=i,this.v.v[2][0]=e,this.v.v[2][1]=i+r,this.v.v[3][0]=e-s,this.v.v[3][1]=i,this.v.i[0][0]=e-s*t,this.v.i[0][1]=i-r,this.v.i[1][0]=e+s,this.v.i[1][1]=i-r*t,this.v.i[2][0]=e+s*t,this.v.i[2][1]=i+r,this.v.i[3][0]=e-s,this.v.i[3][1]=i+r*t,this.v.o[0][0]=e+s*t,this.v.o[0][1]=i-r,this.v.o[1][0]=e+s,this.v.o[1][1]=i+r*t,this.v.o[2][0]=e-s*t,this.v.o[2][1]=i+r,this.v.o[3][0]=e-s,this.v.o[3][1]=i-r*t):(this.v.v[0][0]=e,this.v.v[0][1]=i-r,this.v.v[1][0]=e-s,this.v.v[1][1]=i,this.v.v[2][0]=e,this.v.v[2][1]=i+r,this.v.v[3][0]=e+s,this.v.v[3][1]=i,this.v.i[0][0]=e+s*t,this.v.i[0][1]=i-r,this.v.i[1][0]=e-s,this.v.i[1][1]=i-r*t,this.v.i[2][0]=e-s*t,this.v.i[2][1]=i+r,this.v.i[3][0]=e+s,this.v.i[3][1]=i+r*t,this.v.o[0][0]=e-s*t,this.v.o[0][1]=i-r,this.v.o[1][0]=e-s,this.v.o[1][1]=i+r*t,this.v.o[2][0]=e+s*t,this.v.o[2][1]=i+r,this.v.o[3][0]=e+s,this.v.o[3][1]=i-r*t)}function s(t){var e,i=this.dynamicProperties.length;if(this.elem.globalData.frameId!==this.frameId){for(this.mdf=!1,this.frameId=this.elem.globalData.frameId,e=0;e<i;e+=1)this.dynamicProperties[e].getValue(t),this.dynamicProperties[e].mdf&&(this.mdf=!0);this.mdf&&this.convertEllToPath()}}return function(t,r){this.v=shape_pool.newShape(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=r.d,this.dynamicProperties=[],this.elem=t,this.comp=t.comp,this.frameId=-1,this.mdf=!1,this.getValue=s,this.convertEllToPath=e,this.reset=i,this.p=PropertyFactory.getProp(t,r.p,1,0,this.dynamicProperties),this.s=PropertyFactory.getProp(t,r.s,1,0,this.dynamicProperties),this.dynamicProperties.length?this.k=!0:this.convertEllToPath()}}(),a=function(){function t(){var t,e=Math.floor(this.pt.v),i=2*Math.PI/e,s=this.or.v,r=this.os.v,n=2*Math.PI*s/(4*e),a=-Math.PI/2,o=3===this.data.d?-1:1;for(a+=this.r.v,this.v._length=0,t=0;t<e;t+=1){var h=s*Math.cos(a),l=s*Math.sin(a),c=0===h&&0===l?0:l/Math.sqrt(h*h+l*l),p=0===h&&0===l?0:-h/Math.sqrt(h*h+l*l);h+=+this.p.v[0],l+=+this.p.v[1],this.v.setTripleAt(h,l,h-c*n*r*o,l-p*n*r*o,h+c*n*r*o,l+p*n*r*o,t,!0),a+=i*o}this.paths.length=0,this.paths[0]=this.v}function e(){var t,e,i,s,r=2*Math.floor(this.pt.v),n=2*Math.PI/r,a=!0,o=this.or.v,h=this.ir.v,l=this.os.v,c=this.is.v,p=2*Math.PI*o/(2*r),u=2*Math.PI*h/(2*r),f=-Math.PI/2;f+=this.r.v;var d=3===this.data.d?-1:1;for(this.v._length=0,t=0;t<r;t+=1){e=a?o:h,i=a?l:c,s=a?p:u;var m=e*Math.cos(f),y=e*Math.sin(f),v=0===m&&0===y?0:y/Math.sqrt(m*m+y*y),g=0===m&&0===y?0:-m/Math.sqrt(m*m+y*y);m+=+this.p.v[0],y+=+this.p.v[1],this.v.setTripleAt(m,y,m-v*s*i*d,y-g*s*i*d,m+v*s*i*d,y+g*s*i*d,t,!0),a=!a,f+=n*d}}function s(){if(this.elem.globalData.frameId!==this.frameId){this.mdf=!1,this.frameId=this.elem.globalData.frameId;var t,e=this.dynamicProperties.length;for(t=0;t<e;t+=1)this.dynamicProperties[t].getValue(),this.dynamicProperties[t].mdf&&(this.mdf=!0);this.mdf&&this.convertToPath()}}return function(r,n){this.v=shape_pool.newShape(),this.v.setPathData(!0,0),this.elem=r,this.comp=r.comp,this.data=n,this.frameId=-1,this.d=n.d,this.dynamicProperties=[],this.mdf=!1,this.getValue=s,this.reset=i,1===n.sy?(this.ir=PropertyFactory.getProp(r,n.ir,0,0,this.dynamicProperties),this.is=PropertyFactory.getProp(r,n.is,0,.01,this.dynamicProperties),this.convertToPath=e):this.convertToPath=t,this.pt=PropertyFactory.getProp(r,n.pt,0,0,this.dynamicProperties),this.p=PropertyFactory.getProp(r,n.p,1,0,this.dynamicProperties),this.r=PropertyFactory.getProp(r,n.r,0,degToRads,this.dynamicProperties),this.or=PropertyFactory.getProp(r,n.or,0,0,this.dynamicProperties),this.os=PropertyFactory.getProp(r,n.os,0,.01,this.dynamicProperties),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:this.convertToPath()}}(),o=function(){function t(t){if(this.elem.globalData.frameId!==this.frameId){this.mdf=!1,this.frameId=this.elem.globalData.frameId;var e,i=this.dynamicProperties.length;for(e=0;e<i;e+=1)this.dynamicProperties[e].getValue(t),this.dynamicProperties[e].mdf&&(this.mdf=!0);this.mdf&&this.convertRectToPath()}}function e(){var t=this.p.v[0],e=this.p.v[1],i=this.s.v[0]/2,s=this.s.v[1]/2,r=bm_min(i,s,this.r.v),n=r*(1-roundCorner);this.v._length=0,2===this.d||1===this.d?(this.v.setTripleAt(t+i,e-s+r,t+i,e-s+r,t+i,e-s+n,0,!0),this.v.setTripleAt(t+i,e+s-r,t+i,e+s-n,t+i,e+s-r,1,!0),0!==r?(this.v.setTripleAt(t+i-r,e+s,t+i-r,e+s,t+i-n,e+s,2,!0),this.v.setTripleAt(t-i+r,e+s,t-i+n,e+s,t-i+r,e+s,3,!0),this.v.setTripleAt(t-i,e+s-r,t-i,e+s-r,t-i,e+s-n,4,!0),this.v.setTripleAt(t-i,e-s+r,t-i,e-s+n,t-i,e-s+r,5,!0),this.v.setTripleAt(t-i+r,e-s,t-i+r,e-s,t-i+n,e-s,6,!0),this.v.setTripleAt(t+i-r,e-s,t+i-n,e-s,t+i-r,e-s,7,!0)):(this.v.setTripleAt(t-i,e+s,t-i+n,e+s,t-i,e+s,2),this.v.setTripleAt(t-i,e-s,t-i,e-s+n,t-i,e-s,3))):(this.v.setTripleAt(t+i,e-s+r,t+i,e-s+n,t+i,e-s+r,0,!0),0!==r?(this.v.setTripleAt(t+i-r,e-s,t+i-r,e-s,t+i-n,e-s,1,!0),this.v.setTripleAt(t-i+r,e-s,t-i+n,e-s,t-i+r,e-s,2,!0),this.v.setTripleAt(t-i,e-s+r,t-i,e-s+r,t-i,e-s+n,3,!0),this.v.setTripleAt(t-i,e+s-r,t-i,e+s-n,t-i,e+s-r,4,!0),this.v.setTripleAt(t-i+r,e+s,t-i+r,e+s,t-i+n,e+s,5,!0),this.v.setTripleAt(t+i-r,e+s,t+i-n,e+s,t+i-r,e+s,6,!0),this.v.setTripleAt(t+i,e+s-r,t+i,e+s-r,t+i,e+s-n,7,!0)):(this.v.setTripleAt(t-i,e-s,t-i+n,e-s,t-i,e-s,1,!0),this.v.setTripleAt(t-i,e+s,t-i,e+s-n,t-i,e+s,2,!0),this.v.setTripleAt(t+i,e+s,t+i-n,e+s,t+i,e+s,3,!0)))}return function(s,r){this.v=shape_pool.newShape(),this.v.c=!0,this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=s,this.comp=s.comp,this.frameId=-1,this.d=r.d,this.dynamicProperties=[],this.mdf=!1,this.getValue=t,this.convertRectToPath=e,this.reset=i,this.p=PropertyFactory.getProp(s,r.p,1,0,this.dynamicProperties),this.s=PropertyFactory.getProp(s,r.s,1,0,this.dynamicProperties),this.r=PropertyFactory.getProp(s,r.r,0,0,this.dynamicProperties),this.dynamicProperties.length?this.k=!0:this.convertRectToPath()}}();var h={getShapeProp:function(t,e,i,h){var l;if(3===i||4===i){var c=3===i?e.pt:e.ks,p=c.k;l=1===c.a||p.length?new r(t,e,i):new s(t,e,i)}else 5===i?l=new o(t,e):6===i?l=new n(t,e):7===i&&(l=new a(t,e));return l.k&&h.push(l),l},getConstructorFunction:function(){return s},getKeyframedConstructorFunction:function(){return r}};return h}(),ShapeModifiers=function(){var t={},e={};return t.registerModifier=function(t,i){e[t]||(e[t]=i)},t.getModifier=function(t,i,s,r){return new e[t](i,s,r)},t}();function ShapeModifier(){}function TrimModifier(){}function RoundCornersModifier(){}function RepeaterModifier(){}function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=Array.apply(null,{length:this._maxLength})}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(t){this.closed||(this.shapes.push({shape:t.sh,data:t,localShapeCollection:shapeCollection_pool.newShapeCollection()}),this.addShapeToModifier(t.sh))},ShapeModifier.prototype.init=function(t,e,i){this.elem=t,this.frameId=-1,this.shapes=[],this.dynamicProperties=[],this.mdf=!1,this.closed=!1,this.k=!1,this.comp=t.comp,this.initModifierProperties(t,e),this.dynamicProperties.length?(this.k=!0,i.push(this)):this.getValue(!0)},extendPrototype(ShapeModifier,TrimModifier),TrimModifier.prototype.processKeys=function(t){if(this.elem.globalData.frameId!==this.frameId||t){this.mdf=!!t,this.frameId=this.elem.globalData.frameId;var e,i=this.dynamicProperties.length;for(e=0;e<i;e+=1)this.dynamicProperties[e].getValue(),this.dynamicProperties[e].mdf&&(this.mdf=!0);if(this.mdf||t){var s=this.o.v%360/360;s<0&&(s+=1);var r=this.s.v+s,n=this.e.v+s;if(r>n){var a=r;r=n,n=a}this.sValue=r,this.eValue=n,this.oValue=s}}},TrimModifier.prototype.initModifierProperties=function(t,e){this.sValue=0,this.eValue=0,this.oValue=0,this.getValue=this.processKeys,this.s=PropertyFactory.getProp(t,e.s,0,.01,this.dynamicProperties),this.e=PropertyFactory.getProp(t,e.e,0,.01,this.dynamicProperties),this.o=PropertyFactory.getProp(t,e.o,0,0,this.dynamicProperties),this.m=e.m,this.dynamicProperties.length||this.getValue(!0)},TrimModifier.prototype.calculateShapeEdges=function(t,e,i,s,r){var n=[];e<=1?n.push({s:t,e:e}):t>=1?n.push({s:t-1,e:e-1}):(n.push({s:t,e:1}),n.push({s:0,e:e-1}));var a,o,h=[],l=n.length;for(a=0;a<l;a+=1){var c,p;if((o=n[a]).e*r<s||o.s*r>s+i);else c=o.s*r<=s?0:(o.s*r-s)/i,p=o.e*r>=s+i?1:(o.e*r-s)/i,h.push([c,p])}return h.length||h.push([0,0]),h},TrimModifier.prototype.processShapes=function(t){var e,i,s,r,n,a=this.shapes.length,o=this.sValue,h=this.eValue,l=0;if(h===o)for(i=0;i<a;i+=1)this.shapes[i].localShapeCollection.releaseShapes(),this.shapes[i].shape.mdf=!0,this.shapes[i].shape.paths=this.shapes[i].localShapeCollection;else if(1===h&&0===o||0===h&&1===o){if(this.mdf)for(i=0;i<a;i+=1)this.shapes[i].shape.mdf=!0}else{var c,p,u=[];for(i=0;i<a;i+=1)if((c=this.shapes[i]).shape.mdf||this.mdf||t||2===this.m){if(d=(e=c.shape.paths)._length,n=0,!c.shape.mdf&&c.pathsData)n=c.totalShapeLength;else{for(s=[],f=0;f<d;f+=1)r=bez.getSegmentsLength(e.shapes[f]),s.push(r),n+=r.totalLength;c.totalShapeLength=n,c.pathsData=s}l+=n,c.shape.mdf=!0}else c.shape.paths=c.localShapeCollection;var f,d,m=o,y=h,v=0;for(i=a-1;i>=0;i-=1)if((c=this.shapes[i]).shape.mdf){if((p=c.localShapeCollection).releaseShapes(),2===this.m&&a>1){var g=this.calculateShapeEdges(o,h,c.totalShapeLength,v,l);v+=c.totalShapeLength}else g=[[m,y]];for(d=g.length,f=0;f<d;f+=1){m=g[f][0],y=g[f][1],u.length=0,y<=1?u.push({s:c.totalShapeLength*m,e:c.totalShapeLength*y}):m>=1?u.push({s:c.totalShapeLength*(m-1),e:c.totalShapeLength*(y-1)}):(u.push({s:c.totalShapeLength*m,e:c.totalShapeLength}),u.push({s:0,e:c.totalShapeLength*(y-1)}));var _=this.addShapes(c,u[0]);if(u[0].s!==u[0].e){if(u.length>1)if(c.shape.v.c){var b=_.pop();this.addPaths(_,p),_=this.addShapes(c,u[1],b)}else this.addPaths(_,p),_=this.addShapes(c,u[1]);this.addPaths(_,p)}}c.shape.paths=p}}this.dynamicProperties.length||(this.mdf=!1)},TrimModifier.prototype.addPaths=function(t,e){var i,s=t.length;for(i=0;i<s;i+=1)e.addShape(t[i])},TrimModifier.prototype.addSegment=function(t,e,i,s,r,n,a){r.setXYAt(e[0],e[1],"o",n),r.setXYAt(i[0],i[1],"i",n+1),a&&r.setXYAt(t[0],t[1],"v",n),r.setXYAt(s[0],s[1],"v",n+1)},TrimModifier.prototype.addShapes=function(t,e,i){var s,r,n,a,o,h,l,c,p=t.pathsData,u=t.shape.paths.shapes,f=t.shape.paths._length,d=0,m=[],y=!0;for(i?(o=i._length,c=i._length):(i=shape_pool.newShape(),o=0,c=0),m.push(i),s=0;s<f;s+=1){for(h=p[s].lengths,i.c=u[s].c,n=u[s].c?h.length:h.length+1,r=1;r<n;r+=1)if(d+(a=h[r-1]).addedLength<e.s)d+=a.addedLength,i.c=!1;else{if(d>e.e){i.c=!1;break}e.s<=d&&e.e>=d+a.addedLength?(this.addSegment(u[s].v[r-1],u[s].o[r-1],u[s].i[r],u[s].v[r],i,o,y),y=!1):(l=bez.getNewSegment(u[s].v[r-1],u[s].v[r],u[s].o[r-1],u[s].i[r],(e.s-d)/a.addedLength,(e.e-d)/a.addedLength,h[r-1]),this.addSegment(l.pt1,l.pt3,l.pt4,l.pt2,i,o,y),y=!1,i.c=!1),d+=a.addedLength,o+=1}if(u[s].c){if(a=h[r-1],d<=e.e){var v=h[r-1].addedLength;e.s<=d&&e.e>=d+v?(this.addSegment(u[s].v[r-1],u[s].o[r-1],u[s].i[0],u[s].v[0],i,o,y),y=!1):(l=bez.getNewSegment(u[s].v[r-1],u[s].v[0],u[s].o[r-1],u[s].i[0],(e.s-d)/v,(e.e-d)/v,h[r-1]),this.addSegment(l.pt1,l.pt3,l.pt4,l.pt2,i,o,y),y=!1,i.c=!1)}else i.c=!1;d+=a.addedLength,o+=1}if(i._length&&(i.setXYAt(i.v[c][0],i.v[c][1],"i",c),i.setXYAt(i.v[i._length-1][0],i.v[i._length-1][1],"o",i._length-1)),d>e.e)break;s<f-1&&(i=shape_pool.newShape(),y=!0,m.push(i),o=0)}return m},ShapeModifiers.registerModifier("tm",TrimModifier),extendPrototype(ShapeModifier,RoundCornersModifier),RoundCornersModifier.prototype.processKeys=function(t){if(this.elem.globalData.frameId!==this.frameId||t){this.mdf=!!t,this.frameId=this.elem.globalData.frameId;var e,i=this.dynamicProperties.length;for(e=0;e<i;e+=1)this.dynamicProperties[e].getValue(),this.dynamicProperties[e].mdf&&(this.mdf=!0)}},RoundCornersModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(t,e.r,0,null,this.dynamicProperties),this.dynamicProperties.length||this.getValue(!0)},RoundCornersModifier.prototype.processPath=function(t,e){var i=shape_pool.newShape();i.c=t.c;var s,r,n,a,o,h,l,c,p,u,f,d,m,y=t._length,v=0;for(s=0;s<y;s+=1)r=t.v[s],a=t.o[s],n=t.i[s],r[0]===a[0]&&r[1]===a[1]&&r[0]===n[0]&&r[1]===n[1]?0!==s&&s!==y-1||t.c?(o=0===s?t.v[y-1]:t.v[s-1],l=(h=Math.sqrt(Math.pow(r[0]-o[0],2)+Math.pow(r[1]-o[1],2)))?Math.min(h/2,e)/h:0,c=d=r[0]+(o[0]-r[0])*l,p=m=r[1]-(r[1]-o[1])*l,u=c-(c-r[0])*roundCorner,f=p-(p-r[1])*roundCorner,i.setTripleAt(c,p,u,f,d,m,v),v+=1,o=s===y-1?t.v[0]:t.v[s+1],l=(h=Math.sqrt(Math.pow(r[0]-o[0],2)+Math.pow(r[1]-o[1],2)))?Math.min(h/2,e)/h:0,c=u=r[0]+(o[0]-r[0])*l,p=f=r[1]+(o[1]-r[1])*l,d=c-(c-r[0])*roundCorner,m=p-(p-r[1])*roundCorner,i.setTripleAt(c,p,u,f,d,m,v),v+=1):(i.setTripleAt(r[0],r[1],a[0],a[1],n[0],n[1],v),v+=1):(i.setTripleAt(t.v[s][0],t.v[s][1],t.o[s][0],t.o[s][1],t.i[s][0],t.i[s][1],v),v+=1);return i},RoundCornersModifier.prototype.processShapes=function(t){var e,i,s,r,n,a,o=this.shapes.length,h=this.rd.v;if(0!==h)for(i=0;i<o;i+=1){if((n=this.shapes[i]).shape.paths,a=n.localShapeCollection,n.shape.mdf||this.mdf||t)for(a.releaseShapes(),n.shape.mdf=!0,e=n.shape.paths.shapes,r=n.shape.paths._length,s=0;s<r;s+=1)a.addShape(this.processPath(e[s],h));n.shape.paths=n.localShapeCollection}this.dynamicProperties.length||(this.mdf=!1)},ShapeModifiers.registerModifier("rd",RoundCornersModifier),RepeaterModifier.prototype.processKeys=function(t){if(this.elem.globalData.frameId!==this.frameId||t){this.mdf=!!t;var e,i=this.dynamicProperties.length;for(e=0;e<i;e+=1)this.dynamicProperties[e].getValue(),this.dynamicProperties[e].mdf&&(this.mdf=!0)}},RepeaterModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(t,e.c,0,null,this.dynamicProperties),this.o=PropertyFactory.getProp(t,e.o,0,null,this.dynamicProperties),this.tr=PropertyFactory.getProp(t,e.tr,2,null,this.dynamicProperties),this.data=e,this.dynamicProperties.length||this.getValue(!0),this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(t,e,i,s,r,n){var a=n?-1:1,o=s.s.v[0]+(1-s.s.v[0])*(1-r),h=s.s.v[1]+(1-s.s.v[1])*(1-r);t.translate(s.p.v[0]*a*r,s.p.v[1]*a*r,s.p.v[2]),e.translate(-s.a.v[0],-s.a.v[1],s.a.v[2]),e.rotate(-s.r.v*a*r),e.translate(s.a.v[0],s.a.v[1],s.a.v[2]),i.translate(-s.a.v[0],-s.a.v[1],s.a.v[2]),i.scale(n?1/o:o,n?1/h:h),i.translate(s.a.v[0],s.a.v[1],s.a.v[2])},RepeaterModifier.prototype.init=function(t,e,i,s,r){this.elem=t,this.arr=e,this.pos=i,this.elemsData=s,this._currentCopies=0,this._elements=[],this._groups=[],this.dynamicProperties=[],this.frameId=-1,this.initModifierProperties(t,e[i]);for(;i>0;)i-=1,this._elements.unshift(e[i]),1;this.dynamicProperties.length?(this.k=!0,r.push(this)):this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(t){var e,i=t.length;for(e=0;e<i;e+=1)t[e]._processed=!1,"gr"===t[e].ty&&this.resetElements(t[e].it)},RepeaterModifier.prototype.cloneElements=function(t){t.length;var e=JSON.parse(JSON.stringify(t));return this.resetElements(e),e},RepeaterModifier.prototype.changeGroupRender=function(t,e){var i,s=t.length;for(i=0;i<s;i+=1)t[i]._render=e,"gr"===t[i].ty&&this.changeGroupRender(t[i].it,e)},RepeaterModifier.prototype.processShapes=function(t){if(this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.dynamicProperties.length||t||(this.mdf=!1),this.mdf)){var e=Math.ceil(this.c.v);if(this._groups.length<e){for(;this._groups.length<e;){var i={it:this.cloneElements(this._elements),ty:"gr"};i.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:0,ix:6,k:0},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,i),this._groups.splice(0,0,i),this._currentCopies+=1}this.elem.reloadShapes()}var s,r,n=0;for(s=0;s<=this._groups.length-1;s+=1)r=n<e,this._groups[s]._render=r,this.changeGroupRender(this._groups[s].it,r),n+=1;this._currentCopies=e,this.elem.firstFrame=!0;var a=this.o.v,o=a%1,h=a>0?Math.floor(a):Math.ceil(a),l=(this.tr.v.props,this.pMatrix.props),c=this.rMatrix.props,p=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var u=0;if(a>0){for(;u<h;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),u+=1;o&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,o,!1),u+=o)}else if(a<0){for(;u>h;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),u-=1;o&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-o,!0),u-=o)}s=1===this.data.m?0:this._currentCopies-1;var f=1===this.data.m?1:-1;for(n=this._currentCopies;n;){if(0!==u){(0!==s&&1===f||s!==this._currentCopies-1&&-1===f)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8],c[9],c[10],c[11],c[12],c[13],c[14],c[15]),this.matrix.transform(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15]),this.matrix.transform(l[0],l[1],l[2],l[3],l[4],l[5],l[6],l[7],l[8],l[9],l[10],l[11],l[12],l[13],l[14],l[15]);var d=(y=(m=this.elemsData[s].it)[m.length-1].transform.mProps.v.props).length;for(v=0;v<d;v+=1)y[v]=this.matrix.props[v];this.matrix.reset()}else{this.matrix.reset();var m,y,v;d=(y=(m=this.elemsData[s].it)[m.length-1].transform.mProps.v.props).length;for(v=0;v<d;v+=1)y[v]=this.matrix.props[v]}u+=1,n-=1,s+=f}}},RepeaterModifier.prototype.addShape=function(){},ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeCollection.prototype.addShape=function(t){this._length===this._maxLength&&(this.shapes=this.shapes.concat(Array.apply(null,{length:this._maxLength})),this._maxLength*=2),this.shapes[this._length]=t,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var t;for(t=0;t<this._length;t+=1)shape_pool.release(this.shapes[t]);this._length=0};var ImagePreloader=function(){var t;function e(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&t&&t(null)}function i(t){var e="";if(this.assetsPath){var i=t.p;-1!==i.indexOf("images/")&&(i=i.split("/")[1]),e=this.assetsPath+i}else e=this.path,e+=t.u?t.u:"",e+=t.p;return e}function s(t){var i=document.createElement("img");i.addEventListener("load",e.bind(this),!1),i.addEventListener("error",e.bind(this),!1),i.src=t}function r(e,r){var n;for(t=r,this.totalAssets=e.length,n=0;n<this.totalAssets;n+=1)e[n].layers||(s.bind(this)(i.bind(this)(e[n])),this.totalImages+=1)}function n(t){this.path=t||""}function a(t){this.assetsPath=t||""}return function(){this.loadAssets=r,this.setAssetsPath=a,this.setPath=n,this.assetsPath="",this.path="",this.totalAssets=0,this.totalImages=0,this.loadedAssets=0}}(),featureSupport=(ob={maskType:!0},(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(ob.maskType=!1),ob),ob,filtersFactory=function(){var t={};return t.createFilter=function(t){var e=document.createElementNS(svgNS,"filter");return e.setAttribute("id",t),e.setAttribute("filterUnits","objectBoundingBox"),e.setAttribute("x","0%"),e.setAttribute("y","0%"),e.setAttribute("width","100%"),e.setAttribute("height","100%"),e},t.createAlphaToLuminanceFilter=function(){var t=document.createElementNS(svgNS,"feColorMatrix");return t.setAttribute("type","matrix"),t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),t},t}();function TextAnimatorProperty(t,e,i){this.mdf=!1,this._firstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._dynamicProperties=[],this._textData=t,this._renderType=e,this._elem=i,this._animatorsData=Array.apply(null,{length:this._textData.a.length}),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1}function LetterProps(t,e,i,s,r,n){this.o=t,this.sw=e,this.sc=i,this.fc=s,this.m=r,this.p=n,this.mdf={o:!0,sw:!!e,sc:!!i,fc:!!s,m:!0,p:!0}}function TextProperty(t,e,i){this._frameId=-99999,this.pv="",this.v="",this.kf=!1,this.firstFrame=!0,this.mdf=!0,this.data=e,this.elem=t,this.keysIndex=-1,this.currentData={ascent:0,boxWidth:[0,0],f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,__complete:!1},this.searchProperty()?i.push(this):this.getValue(!0)}TextAnimatorProperty.prototype.searchProperties=function(t){var e,i,s,r=this._textData.a.length,n=PropertyFactory.getProp;for(e=0;e<r;e+=1)i={a:{},s:{}},"r"in(s=this._textData.a[e]).a&&(i.a.r=n(this._elem,s.a.r,0,degToRads,this._dynamicProperties)),"rx"in s.a&&(i.a.rx=n(this._elem,s.a.rx,0,degToRads,this._dynamicProperties)),"ry"in s.a&&(i.a.ry=n(this._elem,s.a.ry,0,degToRads,this._dynamicProperties)),"sk"in s.a&&(i.a.sk=n(this._elem,s.a.sk,0,degToRads,this._dynamicProperties)),"sa"in s.a&&(i.a.sa=n(this._elem,s.a.sa,0,degToRads,this._dynamicProperties)),"s"in s.a&&(i.a.s=n(this._elem,s.a.s,1,.01,this._dynamicProperties)),"a"in s.a&&(i.a.a=n(this._elem,s.a.a,1,0,this._dynamicProperties)),"o"in s.a&&(i.a.o=n(this._elem,s.a.o,0,.01,this._dynamicProperties)),"p"in s.a&&(i.a.p=n(this._elem,s.a.p,1,0,this._dynamicProperties)),"sw"in s.a&&(i.a.sw=n(this._elem,s.a.sw,0,0,this._dynamicProperties)),"sc"in s.a&&(i.a.sc=n(this._elem,s.a.sc,1,0,this._dynamicProperties)),"fc"in s.a&&(i.a.fc=n(this._elem,s.a.fc,1,0,this._dynamicProperties)),"fh"in s.a&&(i.a.fh=n(this._elem,s.a.fh,0,0,this._dynamicProperties)),"fs"in s.a&&(i.a.fs=n(this._elem,s.a.fs,0,.01,this._dynamicProperties)),"fb"in s.a&&(i.a.fb=n(this._elem,s.a.fb,0,.01,this._dynamicProperties)),"t"in s.a&&(i.a.t=n(this._elem,s.a.t,0,0,this._dynamicProperties)),i.s=PropertyFactory.getTextSelectorProp(this._elem,s.s,this._dynamicProperties),i.s.t=s.s.t,this._animatorsData[e]=i;this._textData.p&&"m"in this._textData.p?(this._pathData={f:n(this._elem,this._textData.p.f,0,0,this._dynamicProperties),l:n(this._elem,this._textData.p.l,0,0,this._dynamicProperties),r:this._textData.p.r,m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=n(this._elem,this._textData.m.a,1,0,this._dynamicProperties),this._dynamicProperties.length&&t.push(this)},TextAnimatorProperty.prototype.getMeasures=function(t,e){if(this.lettersChangedFlag=e,this.mdf||this._firstFrame||e||this._hasMaskedPath&&this._pathData.m.mdf){this._firstFrame=!1;var i,s,r,n,a=this._moreOptions.alignment.v,o=this._animatorsData,h=this._textData,l=this.mHelper,c=this._renderType,p=this.renderedLetters.length,u=(this.data,t.l);if(this._hasMaskedPath){var f=this._pathData.m;if(!this._pathData.n||this._pathData.mdf){var d=f.v;this._pathData.r&&(d=reversePath(d));var m,y={tLength:0,segments:[]};n=d._length-1;var v=0;for(r=0;r<n;r+=1)m={s:d.v[r],e:d.v[r+1],to:[d.o[r][0]-d.v[r][0],d.o[r][1]-d.v[r][1]],ti:[d.i[r+1][0]-d.v[r+1][0],d.i[r+1][1]-d.v[r+1][1]]},bez.buildBezierData(m),y.tLength+=m.bezierData.segmentLength,y.segments.push(m),v+=m.bezierData.segmentLength;r=n,f.v.c&&(m={s:d.v[r],e:d.v[0],to:[d.o[r][0]-d.v[r][0],d.o[r][1]-d.v[r][1]],ti:[d.i[0][0]-d.v[0][0],d.i[0][1]-d.v[0][1]]},bez.buildBezierData(m),y.tLength+=m.bezierData.segmentLength,y.segments.push(m),v+=m.bezierData.segmentLength),this._pathData.pi=y}y=this._pathData.pi;var g,_,b,x=this._pathData.f.v,w=0,k=1,P=0,T=!0,E=y.segments;if(x<0&&f.v.c)for(y.tLength<Math.abs(x)&&(x=-Math.abs(x)%y.tLength),k=(b=E[w=E.length-1].bezierData.points).length-1;x<0;)x+=b[k].partialLength,(k-=1)<0&&(k=(b=E[w-=1].bezierData.points).length-1);_=(b=E[w].bezierData.points)[k-1];var S,A,C=(g=b[k]).partialLength}n=u.length,i=0,s=0;var M,N,I,D,z=1.2*t.s*.714,O=!0;if(I=o.length,e)for(N=0;N<I;N+=1)o[N].s.getValue(!0);var F,L,V,R,j,B,H,$,G,U,q,X,W,Y=-1,Z=x,J=w,K=k,Q=-1,tt="",et=this.defaultPropsArray;for(r=0;r<n;r+=1){if(l.reset(),j=1,u[r].n)i=0,s+=t.yOffset,s+=O?1:0,x=Z,O=!1,0,this._hasMaskedPath&&(k=K,_=(b=E[w=J].bezierData.points)[k-1],C=(g=b[k]).partialLength,P=0),W=U=X=tt="",et=this.defaultPropsArray;else{if(this._hasMaskedPath){if(Q!==u[r].line){switch(t.j){case 1:x+=v-t.lineWidths[u[r].line];break;case 2:x+=(v-t.lineWidths[u[r].line])/2}Q=u[r].line}Y!==u[r].ind&&(u[Y]&&(x+=u[Y].extra),x+=u[r].an/2,Y=u[r].ind),x+=a[0]*u[r].an/200;var it=0;for(N=0;N<I;N+=1)"p"in(M=o[N].a)&&((F=o[N].s.getMult(u[r].anIndexes[N],h.a[N].s.totalChars)).length?it+=M.p.v[0]*F[0]:it+=M.p.v[0]*F),"a"in M&&((F=o[N].s.getMult(u[r].anIndexes[N],h.a[N].s.totalChars)).length?it+=M.a.v[0]*F[0]:it+=M.a.v[0]*F);for(T=!0;T;)P+C>=x+it||!b?(S=(x+it-P)/g.partialLength,V=_.point[0]+(g.point[0]-_.point[0])*S,R=_.point[1]+(g.point[1]-_.point[1])*S,l.translate(-a[0]*u[r].an/200,-a[1]*z/100),T=!1):b&&(P+=g.partialLength,(k+=1)>=b.length&&(k=0,E[w+=1]?b=E[w].bezierData.points:f.v.c?(k=0,b=E[w=0].bezierData.points):(P-=g.partialLength,b=null)),b&&(_=g,C=(g=b[k]).partialLength));L=u[r].an/2-u[r].add,l.translate(-L,0,0)}else L=u[r].an/2-u[r].add,l.translate(-L,0,0),l.translate(-a[0]*u[r].an/200,-a[1]*z/100,0);for(u[r].l/2,N=0;N<I;N+=1)"t"in(M=o[N].a)&&(F=o[N].s.getMult(u[r].anIndexes[N],h.a[N].s.totalChars),this._hasMaskedPath?F.length?x+=M.t*F[0]:x+=M.t*F:F.length?i+=M.t.v*F[0]:i+=M.t.v*F);for(u[r].l/2,t.strokeWidthAnim&&(H=t.sw||0),t.strokeColorAnim&&(B=t.sc?[t.sc[0],t.sc[1],t.sc[2]]:[0,0,0]),t.fillColorAnim&&t.fc&&($=[t.fc[0],t.fc[1],t.fc[2]]),N=0;N<I;N+=1)"a"in(M=o[N].a)&&((F=o[N].s.getMult(u[r].anIndexes[N],h.a[N].s.totalChars)).length?l.translate(-M.a.v[0]*F[0],-M.a.v[1]*F[1],M.a.v[2]*F[2]):l.translate(-M.a.v[0]*F,-M.a.v[1]*F,M.a.v[2]*F));for(N=0;N<I;N+=1)"s"in(M=o[N].a)&&((F=o[N].s.getMult(u[r].anIndexes[N],h.a[N].s.totalChars)).length?l.scale(1+(M.s.v[0]-1)*F[0],1+(M.s.v[1]-1)*F[1],1):l.scale(1+(M.s.v[0]-1)*F,1+(M.s.v[1]-1)*F,1));for(N=0;N<I;N+=1){if(M=o[N].a,F=o[N].s.getMult(u[r].anIndexes[N],h.a[N].s.totalChars),"sk"in M&&(F.length?l.skewFromAxis(-M.sk.v*F[0],M.sa.v*F[1]):l.skewFromAxis(-M.sk.v*F,M.sa.v*F)),"r"in M&&(F.length?l.rotateZ(-M.r.v*F[2]):l.rotateZ(-M.r.v*F)),"ry"in M&&(F.length?l.rotateY(M.ry.v*F[1]):l.rotateY(M.ry.v*F)),"rx"in M&&(F.length?l.rotateX(M.rx.v*F[0]):l.rotateX(M.rx.v*F)),"o"in M&&(F.length?j+=(M.o.v*F[0]-j)*F[0]:j+=(M.o.v*F-j)*F),t.strokeWidthAnim&&"sw"in M&&(F.length?H+=M.sw.v*F[0]:H+=M.sw.v*F),t.strokeColorAnim&&"sc"in M)for(G=0;G<3;G+=1)F.length?B[G]=B[G]+(M.sc.v[G]-B[G])*F[0]:B[G]=B[G]+(M.sc.v[G]-B[G])*F;if(t.fillColorAnim&&t.fc){if("fc"in M)for(G=0;G<3;G+=1)F.length?$[G]=$[G]+(M.fc.v[G]-$[G])*F[0]:$[G]=$[G]+(M.fc.v[G]-$[G])*F;"fh"in M&&($=F.length?addHueToRGB($,M.fh.v*F[0]):addHueToRGB($,M.fh.v*F)),"fs"in M&&($=F.length?addSaturationToRGB($,M.fs.v*F[0]):addSaturationToRGB($,M.fs.v*F)),"fb"in M&&($=F.length?addBrightnessToRGB($,M.fb.v*F[0]):addBrightnessToRGB($,M.fb.v*F))}}for(N=0;N<I;N+=1)"p"in(M=o[N].a)&&(F=o[N].s.getMult(u[r].anIndexes[N],h.a[N].s.totalChars),this._hasMaskedPath?F.length?l.translate(0,M.p.v[1]*F[0],-M.p.v[2]*F[1]):l.translate(0,M.p.v[1]*F,-M.p.v[2]*F):F.length?l.translate(M.p.v[0]*F[0],M.p.v[1]*F[1],-M.p.v[2]*F[2]):l.translate(M.p.v[0]*F,M.p.v[1]*F,-M.p.v[2]*F));if(t.strokeWidthAnim&&(U=H<0?0:H),t.strokeColorAnim&&(q="rgb("+Math.round(255*B[0])+","+Math.round(255*B[1])+","+Math.round(255*B[2])+")"),t.fillColorAnim&&t.fc&&(X="rgb("+Math.round(255*$[0])+","+Math.round(255*$[1])+","+Math.round(255*$[2])+")"),this._hasMaskedPath){if(l.translate(0,-t.ls),l.translate(0,a[1]*z/100+s,0),h.p.p){A=(g.point[1]-_.point[1])/(g.point[0]-_.point[0]);var st=180*Math.atan(A)/Math.PI;g.point[0]<_.point[0]&&(st+=180),l.rotate(-st*Math.PI/180)}l.translate(V,R,0),x-=a[0]*u[r].an/200,u[r+1]&&Y!==u[r+1].ind&&(x+=u[r].an/2,x+=t.tr/1e3*t.s)}else{switch(l.translate(i,s,0),t.ps&&l.translate(t.ps[0],t.ps[1]+t.ascent,0),t.j){case 1:l.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[u[r].line]),0,0);break;case 2:l.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[u[r].line])/2,0,0)}l.translate(0,-t.ls),l.translate(L,0,0),l.translate(a[0]*u[r].an/200,a[1]*z/100,0),i+=u[r].l+t.tr/1e3*t.s}"html"===c?tt=l.toCSS():"svg"===c?tt=l.to2dCSS():et=[l.props[0],l.props[1],l.props[2],l.props[3],l.props[4],l.props[5],l.props[6],l.props[7],l.props[8],l.props[9],l.props[10],l.props[11],l.props[12],l.props[13],l.props[14],l.props[15]],W=j}p<=r?(D=new LetterProps(W,U,q,X,tt,et),this.renderedLetters.push(D),p+=1,this.lettersChangedFlag=!0):(D=this.renderedLetters[r],this.lettersChangedFlag=D.update(W,U,q,X,tt,et)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){if(this._elem.globalData.frameId!==this._frameId){this._frameId=this._elem.globalData.frameId;var t,e=this._dynamicProperties.length;for(this.mdf=!1,t=0;t<e;t+=1)this._dynamicProperties[t].getValue(),this.mdf=this._dynamicProperties[t].mdf||this.mdf}},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],LetterProps.prototype.update=function(t,e,i,s,r,n){this.mdf.o=!1,this.mdf.sw=!1,this.mdf.sc=!1,this.mdf.fc=!1,this.mdf.m=!1,this.mdf.p=!1;var a=!1;return this.o!==t&&(this.o=t,this.mdf.o=!0,a=!0),this.sw!==e&&(this.sw=e,this.mdf.sw=!0,a=!0),this.sc!==i&&(this.sc=i,this.mdf.sc=!0,a=!0),this.fc!==s&&(this.fc=s,this.mdf.fc=!0,a=!0),this.m!==r&&(this.m=r,this.mdf.m=!0,a=!0),!n.length||this.p[0]===n[0]&&this.p[1]===n[1]&&this.p[4]===n[4]&&this.p[5]===n[5]&&this.p[12]===n[12]&&this.p[13]===n[13]||(this.p=n,this.mdf.p=!0,a=!0),a},TextProperty.prototype.setCurrentData=function(t){var e=this.currentData;e.ascent=t.ascent,e.boxWidth=t.boxWidth?t.boxWidth:e.boxWidth,e.f=t.f,e.fStyle=t.fStyle,e.fWeight=t.fWeight,e.fc=t.fc,e.j=t.j,e.justifyOffset=t.justifyOffset,e.l=t.l,e.lh=t.lh,e.lineWidths=t.lineWidths,e.ls=t.ls,e.of=t.of,e.s=t.s,e.sc=t.sc,e.sw=t.sw,e.t=t.t,e.tr=t.tr,e.fillColorAnim=t.fillColorAnim||e.fillColorAnim,e.strokeColorAnim=t.strokeColorAnim||e.strokeColorAnim,e.strokeWidthAnim=t.strokeWidthAnim||e.strokeWidthAnim,e.yOffset=t.yOffset,e.__complete=!1},TextProperty.prototype.searchProperty=function(){return this.kf=this.data.d.k.length>1,this.kf},TextProperty.prototype.getValue=function(){this.mdf=!1;var t=this.elem.globalData.frameId;if(t!==this._frameId&&this.kf||this.firstFrame){for(var e,i=this.data.d.k,s=0,r=i.length;s<=r-1&&(e=i[s].s,!(s===r-1||i[s+1].t>t));)s+=1;this.keysIndex!==s&&(e.__complete||this.completeTextData(e),this.setCurrentData(e),this.mdf=!this.firstFrame,this.pv=this.v=this.currentData.t,this.keysIndex=s),this._frameId=t}},TextProperty.prototype.completeTextData=function(t){t.__complete=!0;var e,i,s,r,n,a,o,h=this.elem.globalData.fontManager,l=this.data,c=[],p=0,u=l.m.g,f=0,d=0,m=0,y=[],v=0,g=0,_=h.getFontByName(t.f),b=0,x=_.fStyle.split(" "),w="normal",k="normal";for(i=x.length,e=0;e<i;e+=1)switch(x[e].toLowerCase()){case"italic":k="italic";break;case"bold":w="700";break;case"black":w="900";break;case"medium":w="500";break;case"regular":case"normal":w="400";case"light":case"thin":w="200"}t.fWeight=w,t.fStyle=k,i=t.t.length;var P=t.tr/1e3*t.s;if(t.sz){var T=t.sz[0],E=-1;for(e=0;e<i;e+=1)s=!1," "===t.t.charAt(e)?E=e:13===t.t.charCodeAt(e)&&(v=0,s=!0),h.chars?(o=h.getCharData(t.t.charAt(e),_.fStyle,_.fFamily),b=s?0:o.w*t.s/100):b=h.measureText(t.t.charAt(e),t.f,t.s),v+b>T&&" "!==t.t.charAt(e)?(-1===E?i+=1:e=E,t.t=t.t.substr(0,e)+"\r"+t.t.substr(e===E?e+1:e),E=-1,v=0):(v+=b,v+=P);i=t.t.length}v=-P,b=0;var S,A=0;for(e=0;e<i;e+=1)if(s=!1," "===(S=t.t.charAt(e))?r="":13===S.charCodeAt(0)?(A=0,y.push(v),g=v>g?v:g,v=-2*P,r="",s=!0,m+=1):r=t.t.charAt(e),h.chars?(o=h.getCharData(S,_.fStyle,h.getFontByName(t.f).fFamily),b=s?0:o.w*t.s/100):b=h.measureText(r,t.f,t.s)," "===S?A+=b+P:(v+=b+P+A,A=0),c.push({l:b,an:b,add:f,n:s,anIndexes:[],val:r,line:m}),2==u){if(f+=b,""==r||""==r||e==i-1){for(""!=r&&""!=r||(f-=b);d<=e;)c[d].an=f,c[d].ind=p,c[d].extra=b,d+=1;p+=1,f=0}}else if(3==u){if(f+=b,""==r||e==i-1){for(""==r&&(f-=b);d<=e;)c[d].an=f,c[d].ind=p,c[d].extra=b,d+=1;f=0,p+=1}}else c[p].ind=p,c[p].extra=0,p+=1;if(t.l=c,g=v>g?v:g,y.push(v),t.sz)t.boxWidth=t.sz[0],t.justifyOffset=0;else switch(t.boxWidth=g,t.j){case 1:t.justifyOffset=-t.boxWidth;break;case 2:t.justifyOffset=-t.boxWidth/2;break;default:t.justifyOffset=0}t.lineWidths=y;var C,M,N=l.a;a=N.length;var I,D,z=[];for(n=0;n<a;n+=1){for((C=N[n]).a.sc&&(t.strokeColorAnim=!0),C.a.sw&&(t.strokeWidthAnim=!0),(C.a.fc||C.a.fh||C.a.fs||C.a.fb)&&(t.fillColorAnim=!0),D=0,I=C.s.b,e=0;e<i;e+=1)(M=c[e]).anIndexes[n]=D,(1==I&&""!=M.val||2==I&&""!=M.val&&""!=M.val||3==I&&(M.n||""==M.val||e==i-1)||4==I&&(M.n||e==i-1))&&(1===C.s.rn&&z.push(D),D+=1);l.a[n].s.totalChars=D;var O,F=-1;if(1===C.s.rn)for(e=0;e<i;e+=1)F!=(M=c[e]).anIndexes[n]&&(F=M.anIndexes[n],O=z.splice(Math.floor(Math.random()*z.length),1)[0]),M.anIndexes[n]=O}t.yOffset=t.lh||1.2*t.s,t.ls=t.ls||0,t.ascent=_.ascent*t.s/100},TextProperty.prototype.updateDocumentData=function(t,e){e=void 0===e?this.keysIndex:e;var i=this.data.d.k[e].s;i.__complete=!1,i.t=t.t,this.keysIndex=-1,this.firstFrame=!0,this.getValue()};var pooling=function(){return{double:function(t){return t.concat(Array.apply(null,{length:t.length}))}}}(),point_pool=function(){var t={newPoint:function(){var t;t=e?s[e-=1]:[.1,.1];return t},release:function(t){e===i&&(s=pooling.double(s),i*=2);s[e]=t,e+=1}},e=0,i=8,s=Array.apply(null,{length:i});return t}(),shape_pool=function(){var t={clone:function(t,e){var i,s,n=void 0===t._length?t.v.length:t._length,a=r();for(a.setLength(n),a.c=t.c,i=0;i<n;i+=1)e?(s=e.applyToPointArray(t.v[i][0],t.v[i][1],0,2),a.setXYAt(s[0],s[1],"v",i),point_pool.release(s),s=e.applyToPointArray(t.o[i][0],t.o[i][1],0,2),a.setXYAt(s[0],s[1],"o",i),point_pool.release(s),s=e.applyToPointArray(t.i[i][0],t.i[i][1],0,2),a.setXYAt(s[0],s[1],"i",i),point_pool.release(s)):a.setTripleAt(t.v[i][0],t.v[i][1],t.o[i][0],t.o[i][1],t.i[i][0],t.i[i][1],i);return a},newShape:r,release:n,releaseArray:function(t,e){for(;e--;)n(t[e])}},e=0,i=4,s=Array.apply(null,{length:i});function r(){return e?s[e-=1]:new ShapePath}function n(t){e===i&&(s=pooling.double(s),i*=2);var r,n=t._length;for(r=0;r<n;r+=1)point_pool.release(t.v[r]),point_pool.release(t.i[r]),point_pool.release(t.o[r]),t.v[r]=null,t.i[r]=null,t.o[r]=null;t._length=0,t.c=!1,s[e]=t,e+=1}return t}(),shapeCollection_pool=function(){var t={newShapeCollection:function(){var t;t=e?s[e-=1]:new ShapeCollection;return t},release:r,clone:function(t,n){r(t),e===i&&(s=pooling.double(s),i*=2);s[e]=t,e+=1}},e=0,i=4,s=Array.apply(null,{length:i});function r(t){var r,n=t._length;for(r=0;r<n;r+=1)shape_pool.release(t.shapes[r]);t._length=0,e===i&&(s=pooling.double(s),i*=2),s[e]=t,e+=1}return t}();function BaseRenderer(){}function SVGRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.globalData={frameNum:-1},this.renderConfig={preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",progressiveLoad:e&&e.progressiveLoad||!1,hideOnTransparent:!e||!1!==e.hideOnTransparent,viewBoxOnly:e&&e.viewBoxOnly||!1,className:e&&e.className||""},this.globalData.renderConfig=this.renderConfig,this.elements=[],this.pendingElements=[],this.destroyed=!1}function MaskElement(t,e,i){this.dynamicProperties=[],this.data=t,this.element=e,this.globalData=i,this.storedData=[],this.masksProperties=this.data.masksProperties,this.viewData=Array.apply(null,{length:this.masksProperties.length}),this.maskElement=null,this.firstFrame=!0;var s,r,n,a,o,h,l,c,p=this.globalData.defs,u=this.masksProperties.length,f=this.masksProperties,d=0,m=[],y=randomString(10),v="clipPath",g="clip-path";for(s=0;s<u;s++)if(("a"!==f[s].mode&&"n"!==f[s].mode||f[s].inv||100!==f[s].o.k)&&(v="mask",g="mask"),"s"!=f[s].mode&&"i"!=f[s].mode||0!=d?o=null:((o=document.createElementNS(svgNS,"rect")).setAttribute("fill","#ffffff"),o.setAttribute("width",this.element.comp.data.w),o.setAttribute("height",this.element.comp.data.h),m.push(o)),r=document.createElementNS(svgNS,"path"),"n"!=f[s].mode){if(d+=1,"s"==f[s].mode?r.setAttribute("fill","#000000"):r.setAttribute("fill","#ffffff"),r.setAttribute("clip-rule","nonzero"),0!==f[s].x.k){v="mask",g="mask",c=PropertyFactory.getProp(this.element,f[s].x,0,null,this.dynamicProperties);var _="fi_"+randomString(10);(h=document.createElementNS(svgNS,"filter")).setAttribute("id",_),(l=document.createElementNS(svgNS,"feMorphology")).setAttribute("operator","dilate"),l.setAttribute("in","SourceGraphic"),l.setAttribute("radius","0"),h.appendChild(l),p.appendChild(h),"s"==f[s].mode?r.setAttribute("stroke","#000000"):r.setAttribute("stroke","#ffffff")}else l=null,c=null;if(this.storedData[s]={elem:r,x:c,expan:l,lastPath:"",lastOperator:"",filterId:_,lastRadius:0},"i"==f[s].mode){a=m.length;var b=document.createElementNS(svgNS,"g");for(n=0;n<a;n+=1)b.appendChild(m[n]);var x=document.createElementNS(svgNS,"mask");x.setAttribute("mask-type","alpha"),x.setAttribute("id",y+"_"+d),x.appendChild(r),p.appendChild(x),b.setAttribute("mask","url("+locationHref+"#"+y+"_"+d+")"),m.length=0,m.push(b)}else m.push(r);f[s].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[s]={elem:r,lastPath:"",op:PropertyFactory.getProp(this.element,f[s].o,0,.01,this.dynamicProperties),prop:ShapePropertyFactory.getShapeProp(this.element,f[s],3,this.dynamicProperties,null)},o&&(this.viewData[s].invRect=o),this.viewData[s].prop.k||this.drawPath(f[s],this.viewData[s].prop.v,this.viewData[s])}else this.viewData[s]={op:PropertyFactory.getProp(this.element,f[s].o,0,.01,this.dynamicProperties),prop:ShapePropertyFactory.getShapeProp(this.element,f[s],3,this.dynamicProperties,null),elem:r},p.appendChild(r);for(this.maskElement=document.createElementNS(svgNS,v),u=m.length,s=0;s<u;s+=1)this.maskElement.appendChild(m[s]);this.maskElement.setAttribute("id",y),d>0&&this.element.maskedElement.setAttribute(g,"url("+locationHref+"#"+y+")"),p.appendChild(this.maskElement)}function BaseElement(){}function SVGBaseElement(t,e,i,s,r){this.globalData=i,this.comp=s,this.data=t,this.matteElement=null,this.transformedElement=null,this.isTransparent=!1,this.parentContainer=e,this.layerId=r?r.layerId:"ly_"+randomString(10),this.placeholder=r,this._sizeChanged=!1,this.init()}function IShapeElement(t,e,i,s,r){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this._parent.constructor.call(this,t,e,i,s,r)}BaseRenderer.prototype.checkLayers=function(t){var e,i,s=this.layers.length;for(this.completeLayers=!0,e=s-1;e>=0;e--)this.elements[e]||(i=this.layers[e]).ip-i.st<=t-this.layers[e].st&&i.op-i.st>t-this.layers[e].st&&this.buildItem(e),this.completeLayers=!!this.elements[e]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(t){switch(t.ty){case 2:return this.createImage(t);case 0:return this.createComp(t);case 1:return this.createSolid(t);case 4:return this.createShape(t);case 5:return this.createText(t);case 13:return this.createCamera(t);case 99:return null}return this.createBase(t)},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.buildAllItems=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.buildItem(t);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(t){this.completeLayers=!1;var e,i,s=t.length,r=this.layers.length;for(e=0;e<s;e+=1)for(i=0;i<r;){if(this.layers[i].id==t[e].id){this.layers[i]=t[e];break}i+=1}},BaseRenderer.prototype.setProjectInterface=function(t){this.globalData.projectInterface=t},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(t,e,i){i=i||[];for(var s=this.elements,r=this.layers,n=0,a=r.length;n<a;)r[n].ind==e&&(s[n]&&!0!==s[n]?void 0!==r[n].parent?(i.push(s[n]),s[n]._isParent=!0,this.buildElementParenting(t,r[n].parent,i)):(i.push(s[n]),s[n]._isParent=!0,t.setHierarchy(i)):(this.buildItem(n),this.addPendingElement(t))),n+=1},BaseRenderer.prototype.addPendingElement=function(t){this.pendingElements.push(t)},extendPrototype(BaseRenderer,SVGRenderer),SVGRenderer.prototype.createBase=function(t){return new SVGBaseElement(t,this.layerElement,this.globalData,this)},SVGRenderer.prototype.createShape=function(t){return new IShapeElement(t,this.layerElement,this.globalData,this)},SVGRenderer.prototype.createText=function(t){return new SVGTextElement(t,this.layerElement,this.globalData,this)},SVGRenderer.prototype.createImage=function(t){return new IImageElement(t,this.layerElement,this.globalData,this)},SVGRenderer.prototype.createComp=function(t){return new ICompElement(t,this.layerElement,this.globalData,this)},SVGRenderer.prototype.createSolid=function(t){return new ISolidElement(t,this.layerElement,this.globalData,this)},SVGRenderer.prototype.configAnimation=function(t){this.layerElement=document.createElementNS(svgNS,"svg"),this.layerElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.layerElement.setAttribute("viewBox","0 0 "+t.w+" "+t.h),this.renderConfig.viewBoxOnly||(this.layerElement.setAttribute("width",t.w),this.layerElement.setAttribute("height",t.h),this.layerElement.style.width="100%",this.layerElement.style.height="100%"),this.renderConfig.className&&this.layerElement.setAttribute("class",this.renderConfig.className),this.layerElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.layerElement);var e=document.createElementNS(svgNS,"defs");this.globalData.defs=e,this.layerElement.appendChild(e),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.frameId=0,this.globalData.nm=t.nm,this.globalData.compSize={w:t.w,h:t.h},this.data=t,this.globalData.frameRate=t.fr;var i=document.createElementNS(svgNS,"clipPath"),s=document.createElementNS(svgNS,"rect");s.setAttribute("width",t.w),s.setAttribute("height",t.h),s.setAttribute("x",0),s.setAttribute("y",0);var r="animationMask_"+randomString(10);i.setAttribute("id",r),i.appendChild(s);var n=document.createElementNS(svgNS,"g");n.setAttribute("clip-path","url("+locationHref+"#"+r+")"),this.layerElement.appendChild(n),e.appendChild(i),this.layerElement=n,this.layers=t.layers,this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(t.chars),this.globalData.fontManager.addFonts(t.fonts,e),this.elements=Array.apply(null,{length:t.layers.length})},SVGRenderer.prototype.destroy=function(){this.animationItem.wrapper.innerHTML="",this.layerElement=null,this.globalData.defs=null;var t,e=this.layers?this.layers.length:0;for(t=0;t<e;t++)this.elements[t]&&this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRenderer.prototype.updateContainerSize=function(){},SVGRenderer.prototype.buildItem=function(t){var e=this.elements;if(!e[t]&&99!=this.layers[t].ty){e[t]=!0;var i=this.createItem(this.layers[t]);e[t]=i,expressionsPlugin&&(0===this.layers[t].ty&&this.globalData.projectInterface.registerComposition(i),i.initExpressions()),this.appendElementInPos(i,t),this.layers[t].tt&&(this.elements[t-1]&&!0!==this.elements[t-1]?i.setMatte(e[t-1].layerId):(this.buildItem(t-1),this.addPendingElement(i)))}},SVGRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();if(t.checkParenting(),t.data.tt)for(var e=0,i=this.elements.length;e<i;){if(this.elements[e]===t){t.setMatte(this.elements[e-1].layerId);break}e+=1}}},SVGRenderer.prototype.renderFrame=function(t){if(this.renderedFrame!=t&&!this.destroyed){null===t?t=this.renderedFrame:this.renderedFrame=t,this.globalData.frameNum=t,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=t;var e,i=this.layers.length;for(this.completeLayers||this.checkLayers(t),e=i-1;e>=0;e--)(this.completeLayers||this.elements[e])&&this.elements[e].prepareFrame(t-this.layers[e].st);for(e=i-1;e>=0;e--)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()}},SVGRenderer.prototype.appendElementInPos=function(t,e){var i=t.getBaseElement();if(i){for(var s,r=0;r<e;)this.elements[r]&&!0!==this.elements[r]&&this.elements[r].getBaseElement()&&(s=this.elements[r].getBaseElement()),r+=1;s?this.layerElement.insertBefore(i,s):this.layerElement.appendChild(i)}},SVGRenderer.prototype.hide=function(){this.layerElement.style.display="none"},SVGRenderer.prototype.show=function(){this.layerElement.style.display="block"},SVGRenderer.prototype.searchExtraCompositions=function(t){var e,i=t.length,s=document.createElementNS(svgNS,"g");for(e=0;e<i;e+=1)if(t[e].xt){var r=this.createComp(t[e],s,this.globalData.comp,null);r.initExpressions(),this.globalData.projectInterface.registerComposition(r)}},MaskElement.prototype.getMaskProperty=function(t){return this.viewData[t].prop},MaskElement.prototype.prepareFrame=function(){var t,e=this.dynamicProperties.length;for(t=0;t<e;t+=1)this.dynamicProperties[t].getValue()},MaskElement.prototype.renderFrame=function(t){var e,i=this.masksProperties.length;for(e=0;e<i;e++)if((this.viewData[e].prop.mdf||this.firstFrame)&&this.drawPath(this.masksProperties[e],this.viewData[e].prop.v,this.viewData[e]),(this.viewData[e].op.mdf||this.firstFrame)&&this.viewData[e].elem.setAttribute("fill-opacity",this.viewData[e].op.v),"n"!==this.masksProperties[e].mode&&(this.viewData[e].invRect&&(this.element.finalTransform.mProp.mdf||this.firstFrame)&&(this.viewData[e].invRect.setAttribute("x",-t.props[12]),this.viewData[e].invRect.setAttribute("y",-t.props[13])),this.storedData[e].x&&(this.storedData[e].x.mdf||this.firstFrame))){var s=this.storedData[e].expan;this.storedData[e].x.v<0?("erode"!==this.storedData[e].lastOperator&&(this.storedData[e].lastOperator="erode",this.storedData[e].elem.setAttribute("filter","url("+locationHref+"#"+this.storedData[e].filterId+")")),s.setAttribute("radius",-this.storedData[e].x.v)):("dilate"!==this.storedData[e].lastOperator&&(this.storedData[e].lastOperator="dilate",this.storedData[e].elem.setAttribute("filter",null)),this.storedData[e].elem.setAttribute("stroke-width",2*this.storedData[e].x.v))}this.firstFrame=!1},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var t="M0,0 ";return t+=" h"+this.globalData.compSize.w,t+=" v"+this.globalData.compSize.h,t+=" h-"+this.globalData.compSize.w,t+=" v-"+this.globalData.compSize.h+" "},MaskElement.prototype.drawPath=function(t,e,i){var s,r,n=" M"+e.v[0][0]+","+e.v[0][1];for(r=e._length,s=1;s<r;s+=1)n+=" C"+bm_rnd(e.o[s-1][0])+","+bm_rnd(e.o[s-1][1])+" "+bm_rnd(e.i[s][0])+","+bm_rnd(e.i[s][1])+" "+bm_rnd(e.v[s][0])+","+bm_rnd(e.v[s][1]);e.c&&r>1&&(n+=" C"+bm_rnd(e.o[s-1][0])+","+bm_rnd(e.o[s-1][1])+" "+bm_rnd(e.i[0][0])+","+bm_rnd(e.i[0][1])+" "+bm_rnd(e.v[0][0])+","+bm_rnd(e.v[0][1])),i.lastPath!==n&&(i.elem&&(e.c?t.inv?i.elem.setAttribute("d",this.solidPath+n):i.elem.setAttribute("d",n):i.elem.setAttribute("d","")),i.lastPath=n)},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null},BaseElement.prototype.checkMasks=function(){if(!this.data.hasMask)return!1;for(var t=0,e=this.data.masksProperties.length;t<e;){if("n"!==this.data.masksProperties[t].mode&&!1!==this.data.masksProperties[t].cl)return!0;t+=1}return!1},BaseElement.prototype.checkParenting=function(){void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent)},BaseElement.prototype.prepareFrame=function(t){this.data.ip-this.data.st<=t&&this.data.op-this.data.st>t?!0!==this.isVisible&&(this.elemMdf=!0,this.globalData.mdf=!0,this.isVisible=!0,this.firstFrame=!0,this.data.hasMask&&(this.maskManager.firstFrame=!0)):!1!==this.isVisible&&(this.elemMdf=!0,this.globalData.mdf=!0,this.isVisible=!1);var e,i=this.dynamicProperties.length;for(e=0;e<i;e+=1)(this.isVisible||this._isParent&&"transform"===this.dynamicProperties[e].type)&&(this.dynamicProperties[e].getValue(),this.dynamicProperties[e].mdf&&(this.elemMdf=!0,this.globalData.mdf=!0));return this.data.hasMask&&this.isVisible&&this.maskManager.prepareFrame(t*this.data.sr),this.currentFrameNum=t*this.data.sr,this.isVisible},BaseElement.prototype.globalToLocal=function(t){var e=[];e.push(this.finalTransform);for(var i=!0,s=this.comp;i;)s.finalTransform?(s.data.hasMask&&e.splice(0,0,s.finalTransform),s=s.comp):i=!1;var r,n,a=e.length;for(r=0;r<a;r+=1)n=e[r].mat.applyToPointArray(0,0,0),t=[t[0]-n[0],t[1]-n[1],0];return t},BaseElement.prototype.initExpressions=function(){this.layerInterface=LayerExpressionInterface(this),this.data.hasMask&&this.layerInterface.registerMaskInterface(this.maskManager);var t=EffectsExpressionInterface.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(t),0===this.data.ty||this.data.xt?this.compInterface=CompExpressionInterface(this):4===this.data.ty?this.layerInterface.shapeInterface=ShapeExpressionInterface.createShapeInterface(this.shapesData,this.itemsData,this.layerInterface):5===this.data.ty&&(this.layerInterface.textInterface=TextExpressionInterface(this))},BaseElement.prototype.setBlendMode=function(){var t="";switch(this.data.bm){case 1:t="multiply";break;case 2:t="screen";break;case 3:t="overlay";break;case 4:t="darken";break;case 5:t="lighten";break;case 6:t="color-dodge";break;case 7:t="color-burn";break;case 8:t="hard-light";break;case 9:t="soft-light";break;case 10:t="difference";break;case 11:t="exclusion";break;case 12:t="hue";break;case 13:t="saturation";break;case 14:t="color";break;case 15:t="luminosity"}(this.baseElement||this.layerElement).style["mix-blend-mode"]=t},BaseElement.prototype.init=function(){this.data.sr||(this.data.sr=1),this.dynamicProperties=this.dynamicProperties||[],this.data.ef&&(this.effects=new EffectsManager(this.data,this,this.dynamicProperties)),this.hidden=!1,this.firstFrame=!0,this.isVisible=!1,this._isParent=!1,this.currentFrameNum=-99999,this.lastNum=-99999,this.data.ks&&(this.finalTransform={mProp:PropertyFactory.getProp(this,this.data.ks,2,null,this.dynamicProperties),matMdf:!1,opMdf:!1,mat:new Matrix,opacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.finalTransform.op=this.finalTransform.mProp.o,this.transform=this.finalTransform.mProp,11!==this.data.ty&&this.createElements(),this.data.hasMask&&this.addMasks(this.data)),this.elemMdf=!1},BaseElement.prototype.getType=function(){return this.type},BaseElement.prototype.resetHierarchy=function(){this.hierarchy?this.hierarchy.length=0:this.hierarchy=[]},BaseElement.prototype.getHierarchy=function(){return this.hierarchy||(this.hierarchy=[]),this.hierarchy},BaseElement.prototype.setHierarchy=function(t){this.hierarchy=t},BaseElement.prototype.getLayerSize=function(){return 5===this.data.ty?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}},BaseElement.prototype.hide=function(){},BaseElement.prototype.sourceRectAtTime=function(){return{top:0,left:0,width:100,height:100}},BaseElement.prototype.mHelper=new Matrix,createElement(BaseElement,SVGBaseElement),SVGBaseElement.prototype.createElements=function(){this.layerElement=document.createElementNS(svgNS,"g"),this.transformedElement=this.layerElement,this.data.hasMask&&(this.maskedElement=this.layerElement);var t=null;if(this.data.td){if(3==this.data.td||1==this.data.td){var e=document.createElementNS(svgNS,"mask");if(e.setAttribute("id",this.layerId),e.setAttribute("mask-type",3==this.data.td?"luminance":"alpha"),e.appendChild(this.layerElement),t=e,this.globalData.defs.appendChild(e),!featureSupport.maskType&&1==this.data.td){e.setAttribute("mask-type","luminance");var i=randomString(10),s=filtersFactory.createFilter(i);this.globalData.defs.appendChild(s),s.appendChild(filtersFactory.createAlphaToLuminanceFilter()),(h=document.createElementNS(svgNS,"g")).appendChild(this.layerElement),t=h,e.appendChild(h),h.setAttribute("filter","url("+locationHref+"#"+i+")")}}else if(2==this.data.td){var r=document.createElementNS(svgNS,"mask");r.setAttribute("id",this.layerId),r.setAttribute("mask-type","alpha");var n=document.createElementNS(svgNS,"g");r.appendChild(n);i=randomString(10),s=filtersFactory.createFilter(i);var a=document.createElementNS(svgNS,"feColorMatrix");a.setAttribute("type","matrix"),a.setAttribute("color-interpolation-filters","sRGB"),a.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 -1 1"),s.appendChild(a),this.globalData.defs.appendChild(s);var o=document.createElementNS(svgNS,"rect");if(o.setAttribute("width",this.comp.data.w),o.setAttribute("height",this.comp.data.h),o.setAttribute("x","0"),o.setAttribute("y","0"),o.setAttribute("fill","#ffffff"),o.setAttribute("opacity","0"),n.setAttribute("filter","url("+locationHref+"#"+i+")"),n.appendChild(o),n.appendChild(this.layerElement),t=n,!featureSupport.maskType){r.setAttribute("mask-type","luminance"),s.appendChild(filtersFactory.createAlphaToLuminanceFilter());var h=document.createElementNS(svgNS,"g");n.appendChild(o),h.appendChild(this.layerElement),t=h,n.appendChild(h)}this.globalData.defs.appendChild(r)}}else(this.data.hasMask||this.data.tt)&&this.data.tt?(this.matteElement=document.createElementNS(svgNS,"g"),this.matteElement.appendChild(this.layerElement),t=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(!this.data.ln&&!this.data.cl||4!==this.data.ty&&0!==this.data.ty||(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl)),0===this.data.ty){var l=document.createElementNS(svgNS,"clipPath"),c=document.createElementNS(svgNS,"path");c.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var p="cp_"+randomString(8);if(l.setAttribute("id",p),l.appendChild(c),this.globalData.defs.appendChild(l),this.checkMasks()){var u=document.createElementNS(svgNS,"g");u.setAttribute("clip-path","url("+locationHref+"#"+p+")"),u.appendChild(this.layerElement),this.transformedElement=u,t?t.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+locationHref+"#"+p+")")}0!==this.data.bm&&this.setBlendMode(),this.layerElement!==this.parentContainer&&(this.placeholder=null),this.data.ef&&(this.effectsManager=new SVGEffects(this)),this.checkParenting()},SVGBaseElement.prototype.setBlendMode=BaseElement.prototype.setBlendMode,SVGBaseElement.prototype.renderFrame=function(t){if(3===this.data.ty||this.data.hd||!this.isVisible)return!1;var e;this.lastNum=this.currentFrameNum,this.finalTransform.opMdf=this.firstFrame||this.finalTransform.op.mdf,this.finalTransform.matMdf=this.firstFrame||this.finalTransform.mProp.mdf,this.finalTransform.opacity=this.finalTransform.op.v;var i=this.finalTransform.mat;if(this.hierarchy){var s=0,r=this.hierarchy.length;if(!this.finalTransform.matMdf)for(;s<r;){if(this.hierarchy[s].finalTransform.mProp.mdf){this.finalTransform.matMdf=!0;break}s+=1}if(this.finalTransform.matMdf)for(e=this.finalTransform.mProp.v.props,i.cloneFromProps(e),s=0;s<r;s+=1)e=this.hierarchy[s].finalTransform.mProp.v.props,i.transform(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}else this.isVisible&&(i=this.finalTransform.mProp.v);return this.finalTransform.matMdf&&this.layerElement&&this.transformedElement.setAttribute("transform",i.to2dCSS()),this.finalTransform.opMdf&&this.layerElement&&(this.finalTransform.op.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.hidden&&this.isTransparent&&(this.isTransparent=!1,this.show()),this.transformedElement.setAttribute("opacity",this.finalTransform.op.v)),this.data.hasMask&&this.maskManager.renderFrame(i),this.effectsManager&&this.effectsManager.renderFrame(this.firstFrame),this.isVisible},SVGBaseElement.prototype.destroy=function(){this.layerElement=null,this.parentContainer=null,this.matteElement&&(this.matteElement=null),this.maskManager&&this.maskManager.destroy()},SVGBaseElement.prototype.getBaseElement=function(){return this.baseElement},SVGBaseElement.prototype.addMasks=function(t){this.maskManager=new MaskElement(t,this,this.globalData)},SVGBaseElement.prototype.setMatte=function(t){this.matteElement&&this.matteElement.setAttribute("mask","url("+locationHref+"#"+t+")")},SVGBaseElement.prototype.hide=function(){this.hidden||(this.layerElement.style.display="none",this.hidden=!0)},SVGBaseElement.prototype.show=function(){this.isVisible&&!this.isTransparent&&(this.hidden=!1,this.layerElement.style.display="block")},createElement(SVGBaseElement,IShapeElement),IShapeElement.prototype.identityMatrix=new Matrix,IShapeElement.prototype.lcEnum={1:"butt",2:"round",3:"square"},IShapeElement.prototype.ljEnum={1:"miter",2:"round",3:"butt"},IShapeElement.prototype.searchProcessedElement=function(t){for(var e=this.processedElements.length;e;)if(e-=1,this.processedElements[e].elem===t)return this.processedElements[e].pos;return 0},IShapeElement.prototype.addProcessedElement=function(t,e){for(var i=this.processedElements.length;i;)if(i-=1,this.processedElements[i].elem===t){this.processedElements[i].pos=e;break}0===i&&this.processedElements.push({elem:t,pos:e})},IShapeElement.prototype.buildExpressionInterface=function(){},IShapeElement.prototype.createElements=function(){this._parent.createElements.call(this),this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,this.dynamicProperties,0,[],!0),this.data.hd&&!this.data.td||styleUnselectableDiv(this.layerElement)},IShapeElement.prototype.setGradientData=function(t,e,i){var s,r="gr_"+randomString(10);(s=1===e.t?document.createElementNS(svgNS,"linearGradient"):document.createElementNS(svgNS,"radialGradient")).setAttribute("id",r),s.setAttribute("spreadMethod","pad"),s.setAttribute("gradientUnits","userSpaceOnUse");var n,a,o,h=[];for(o=4*e.g.p,a=0;a<o;a+=4)n=document.createElementNS(svgNS,"stop"),s.appendChild(n),h.push(n);t.setAttribute("gf"===e.ty?"fill":"stroke","url(#"+r+")"),this.globalData.defs.appendChild(s),i.gf=s,i.cst=h},IShapeElement.prototype.setGradientOpacity=function(t,e,i){if(t.g.k.k[0].s&&t.g.k.k[0].s.length>4*t.g.p||t.g.k.k.length>4*t.g.p){var s,r,n,a,o=document.createElementNS(svgNS,"mask"),h=document.createElementNS(svgNS,"path");o.appendChild(h);var l="op_"+randomString(10),c="mk_"+randomString(10);o.setAttribute("id",c),(s=1===t.t?document.createElementNS(svgNS,"linearGradient"):document.createElementNS(svgNS,"radialGradient")).setAttribute("id",l),s.setAttribute("spreadMethod","pad"),s.setAttribute("gradientUnits","userSpaceOnUse"),a=t.g.k.k[0].s?t.g.k.k[0].s.length:t.g.k.k.length;var p=[];for(n=4*t.g.p;n<a;n+=2)(r=document.createElementNS(svgNS,"stop")).setAttribute("stop-color","rgb(255,255,255)"),s.appendChild(r),p.push(r);return h.setAttribute("gf"===t.ty?"fill":"stroke","url(#"+l+")"),this.globalData.defs.appendChild(s),this.globalData.defs.appendChild(o),e.of=s,e.ost=p,i.msElem=h,c}},IShapeElement.prototype.createStyleElement=function(t,e,i){var s={},r={data:t,type:t.ty,d:"",ld:"",lvl:e,mdf:!1,closed:!1},n=document.createElementNS(svgNS,"path");if(s.o=PropertyFactory.getProp(this,t.o,0,.01,i),("st"==t.ty||"gs"==t.ty)&&(n.setAttribute("stroke-linecap",this.lcEnum[t.lc]||"round"),n.setAttribute("stroke-linejoin",this.ljEnum[t.lj]||"round"),n.setAttribute("fill-opacity","0"),1==t.lj&&n.setAttribute("stroke-miterlimit",t.ml),s.w=PropertyFactory.getProp(this,t.w,0,null,i),t.d)){var a=PropertyFactory.getDashProp(this,t.d,"svg",i);a.k||(n.setAttribute("stroke-dasharray",a.dasharray),n.setAttribute("stroke-dashoffset",a.dashoffset)),s.d=a}if("fl"==t.ty||"st"==t.ty)s.c=PropertyFactory.getProp(this,t.c,1,255,i);else{s.g=PropertyFactory.getGradientProp(this,t.g,i),2==t.t&&(s.h=PropertyFactory.getProp(this,t.h,0,.01,i),s.a=PropertyFactory.getProp(this,t.a,0,degToRads,i)),s.s=PropertyFactory.getProp(this,t.s,1,null,i),s.e=PropertyFactory.getProp(this,t.e,1,null,i),this.setGradientData(n,t,s,r);var o=this.setGradientOpacity(t,s,r);o&&n.setAttribute("mask","url(#"+o+")")}return s.elem=n,2===t.r&&n.setAttribute("fill-rule","evenodd"),t.ln&&n.setAttribute("id",t.ln),t.cl&&n.setAttribute("class",t.cl),r.pElem=n,this.stylesList.push(r),s.style=r,s},IShapeElement.prototype.createGroupElement=function(t){var e={it:[],prevViewData:[]},i=document.createElementNS(svgNS,"g");return e.gr=i,t.ln&&e.gr.setAttribute("id",t.ln),e},IShapeElement.prototype.createTransformElement=function(t,e){return{transform:{op:PropertyFactory.getProp(this,t.o,0,.01,e),mProps:PropertyFactory.getProp(this,t,2,null,e)},elements:[]}},IShapeElement.prototype.createShapeElement=function(t,e,i,s){var r={elements:[],caches:[],styles:[],transformers:e,lStr:""},n=4;return"rc"==t.ty?n=5:"el"==t.ty?n=6:"sr"==t.ty&&(n=7),r.sh=ShapePropertyFactory.getShapeProp(this,t,n,s),r.lvl=i,this.shapes.push(r.sh),this.addShapeToModifiers(r),r};var cont=0;function ITextElement(t,e,i,s){}function SVGTextElement(t,e,i,s,r){this.textSpans=[],this.renderType="svg",this._parent.constructor.call(this,t,e,i,s,r)}function SVGTintFilter(t,e){this.filterManager=e;var i=document.createElementNS(svgNS,"feColorMatrix");if(i.setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","linearRGB"),i.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),i.setAttribute("result","f1"),t.appendChild(i),(i=document.createElementNS(svgNS,"feColorMatrix")).setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),i.setAttribute("result","f2"),t.appendChild(i),this.matrixFilter=i,100!==e.effectElements[2].p.v||e.effectElements[2].p.k){var s,r=document.createElementNS(svgNS,"feMerge");t.appendChild(r),(s=document.createElementNS(svgNS,"feMergeNode")).setAttribute("in","SourceGraphic"),r.appendChild(s),(s=document.createElementNS(svgNS,"feMergeNode")).setAttribute("in","f2"),r.appendChild(s)}}function SVGFillFilter(t,e){this.filterManager=e;var i=document.createElementNS(svgNS,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),t.appendChild(i),this.matrixFilter=i}function SVGStrokeEffect(t,e){this.initialized=!1,this.filterManager=e,this.elem=t,this.paths=[]}function SVGTritoneFilter(t,e){this.filterManager=e;var i=document.createElementNS(svgNS,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","linearRGB"),i.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),i.setAttribute("result","f1"),t.appendChild(i);var s=document.createElementNS(svgNS,"feComponentTransfer");s.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(s),this.matrixFilter=s;var r=document.createElementNS(svgNS,"feFuncR");r.setAttribute("type","table"),s.appendChild(r),this.feFuncR=r;var n=document.createElementNS(svgNS,"feFuncG");n.setAttribute("type","table"),s.appendChild(n),this.feFuncG=n;var a=document.createElementNS(svgNS,"feFuncB");a.setAttribute("type","table"),s.appendChild(a),this.feFuncB=a}function SVGProLevelsFilter(t,e){this.filterManager=e;var i=this.filterManager.effectElements,s=document.createElementNS(svgNS,"feComponentTransfer");(i[9].p.k||0!==i[9].p.v||i[10].p.k||1!==i[10].p.v||i[11].p.k||1!==i[11].p.v||i[12].p.k||0!==i[12].p.v||i[13].p.k||1!==i[13].p.v)&&(this.feFuncR=this.createFeFunc("feFuncR",s)),(i[16].p.k||0!==i[16].p.v||i[17].p.k||1!==i[17].p.v||i[18].p.k||1!==i[18].p.v||i[19].p.k||0!==i[19].p.v||i[20].p.k||1!==i[20].p.v)&&(this.feFuncG=this.createFeFunc("feFuncG",s)),(i[23].p.k||0!==i[23].p.v||i[24].p.k||1!==i[24].p.v||i[25].p.k||1!==i[25].p.v||i[26].p.k||0!==i[26].p.v||i[27].p.k||1!==i[27].p.v)&&(this.feFuncB=this.createFeFunc("feFuncB",s)),(i[30].p.k||0!==i[30].p.v||i[31].p.k||1!==i[31].p.v||i[32].p.k||1!==i[32].p.v||i[33].p.k||0!==i[33].p.v||i[34].p.k||1!==i[34].p.v)&&(this.feFuncA=this.createFeFunc("feFuncA",s)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(s.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(s),s=document.createElementNS(svgNS,"feComponentTransfer")),(i[2].p.k||0!==i[2].p.v||i[3].p.k||1!==i[3].p.v||i[4].p.k||1!==i[4].p.v||i[5].p.k||0!==i[5].p.v||i[6].p.k||1!==i[6].p.v)&&(s.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(s),this.feFuncRComposed=this.createFeFunc("feFuncR",s),this.feFuncGComposed=this.createFeFunc("feFuncG",s),this.feFuncBComposed=this.createFeFunc("feFuncB",s))}function SVGDropShadowEffect(t,e){t.setAttribute("x","-100%"),t.setAttribute("y","-100%"),t.setAttribute("width","400%"),t.setAttribute("height","400%"),this.filterManager=e;var i=document.createElementNS(svgNS,"feGaussianBlur");i.setAttribute("in","SourceAlpha"),i.setAttribute("result","drop_shadow_1"),i.setAttribute("stdDeviation","0"),this.feGaussianBlur=i,t.appendChild(i);var s=document.createElementNS(svgNS,"feOffset");s.setAttribute("dx","25"),s.setAttribute("dy","0"),s.setAttribute("in","drop_shadow_1"),s.setAttribute("result","drop_shadow_2"),this.feOffset=s,t.appendChild(s);var r=document.createElementNS(svgNS,"feFlood");r.setAttribute("flood-color","#00ff00"),r.setAttribute("flood-opacity","1"),r.setAttribute("result","drop_shadow_3"),this.feFlood=r,t.appendChild(r);var n=document.createElementNS(svgNS,"feComposite");n.setAttribute("in","drop_shadow_3"),n.setAttribute("in2","drop_shadow_2"),n.setAttribute("operator","in"),n.setAttribute("result","drop_shadow_4"),t.appendChild(n);var a,o=document.createElementNS(svgNS,"feMerge");t.appendChild(o),a=document.createElementNS(svgNS,"feMergeNode"),o.appendChild(a),(a=document.createElementNS(svgNS,"feMergeNode")).setAttribute("in","SourceGraphic"),this.feMergeNode=a,this.feMerge=o,this.originalNodeAdded=!1,o.appendChild(a)}function SVGMatte3Effect(t,e,i){this.initialized=!1,this.filterManager=e,this.filterElem=t,this.elem=i,i.matteElement=document.createElementNS(svgNS,"g"),i.matteElement.appendChild(i.layerElement),i.matteElement.appendChild(i.transformedElement),i.baseElement=i.matteElement}function SVGEffects(t){var e,i,s=t.data.ef.length,r=randomString(10),n=filtersFactory.createFilter(r),a=0;for(this.filters=[],e=0;e<s;e+=1)20===t.data.ef[e].ty?(a+=1,i=new SVGTintFilter(n,t.effects.effectElements[e]),this.filters.push(i)):21===t.data.ef[e].ty?(a+=1,i=new SVGFillFilter(n,t.effects.effectElements[e]),this.filters.push(i)):22===t.data.ef[e].ty?(i=new SVGStrokeEffect(t,t.effects.effectElements[e]),this.filters.push(i)):23===t.data.ef[e].ty?(a+=1,i=new SVGTritoneFilter(n,t.effects.effectElements[e]),this.filters.push(i)):24===t.data.ef[e].ty?(a+=1,i=new SVGProLevelsFilter(n,t.effects.effectElements[e]),this.filters.push(i)):25===t.data.ef[e].ty?(a+=1,i=new SVGDropShadowEffect(n,t.effects.effectElements[e]),this.filters.push(i)):28===t.data.ef[e].ty&&(i=new SVGMatte3Effect(n,t.effects.effectElements[e],t),this.filters.push(i));a&&(t.globalData.defs.appendChild(n),t.layerElement.setAttribute("filter","url("+locationHref+"#"+r+")"))}function ICompElement(t,e,i,s,r){this._parent.constructor.call(this,t,e,i,s,r),this.layers=t.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?Array.apply(null,{length:this.layers.length}):[],this.data.tm&&(this.tm=PropertyFactory.getProp(this,this.data.tm,0,i.frameRate,this.dynamicProperties)),this.data.xt?(this.layerElement=document.createElementNS(svgNS,"g"),this.buildAllItems()):i.progressiveLoad||this.buildAllItems()}function IImageElement(t,e,i,s,r){this.assetData=i.getAssetData(t.refId),this._parent.constructor.call(this,t,e,i,s,r)}function ISolidElement(t,e,i,s,r){this._parent.constructor.call(this,t,e,i,s,r)}IShapeElement.prototype.setElementStyles=function(){var t,e=this.stylesList.length,i=[];for(t=0;t<e;t+=1)this.stylesList[t].closed||i.push(this.stylesList[t]);return i},IShapeElement.prototype.reloadShapes=function(){this.firstFrame=!0;var t=this.itemsData.length;for(e=0;e<t;e+=1)this.prevViewData[e]=this.itemsData[e];this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,this.dynamicProperties,0,[],!0);var e;t=this.dynamicProperties.length;for(e=0;e<t;e+=1)this.dynamicProperties[e].getValue();this.renderModifiers()},IShapeElement.prototype.searchShapes=function(t,e,i,s,r,n,a,o){var h,l,c,p,u,f,d=[].concat(a),m=t.length-1,y=[],v=[];for(h=m;h>=0;h-=1){if((f=this.searchProcessedElement(t[h]))?e[h]=i[f-1]:t[h]._render=o,"fl"==t[h].ty||"st"==t[h].ty||"gf"==t[h].ty||"gs"==t[h].ty)f?e[h].style.closed=!1:e[h]=this.createStyleElement(t[h],n,r),t[h]._render&&s.appendChild(e[h].elem),y.push(e[h].style);else if("gr"==t[h].ty){if(f)for(c=e[h].it.length,l=0;l<c;l+=1)e[h].prevViewData[l]=e[h].it[l];else e[h]=this.createGroupElement(t[h]);this.searchShapes(t[h].it,e[h].it,e[h].prevViewData,e[h].gr,r,n+1,d,o),t[h]._render&&s.appendChild(e[h].gr)}else"tr"==t[h].ty?(f||(e[h]=this.createTransformElement(t[h],r)),p=e[h].transform,d.push(p)):"sh"==t[h].ty||"rc"==t[h].ty||"el"==t[h].ty||"sr"==t[h].ty?(f||(e[h]=this.createShapeElement(t[h],d,n,r)),e[h].elements=this.setElementStyles()):"tm"==t[h].ty||"rd"==t[h].ty||"ms"==t[h].ty?(f?(u=e[h]).closed=!1:((u=ShapeModifiers.getModifier(t[h].ty)).init(this,t[h],r),e[h]=u,this.shapeModifiers.push(u)),v.push(u)):"rp"==t[h].ty&&(f?(u=e[h]).closed=!0:(u=ShapeModifiers.getModifier(t[h].ty),e[h]=u,u.init(this,t,h,e,r),this.shapeModifiers.push(u),o=!1),v.push(u));this.addProcessedElement(t[h],h+1)}for(m=y.length,h=0;h<m;h+=1)y[h].closed=!0;for(m=v.length,h=0;h<m;h+=1)v[h].closed=!0},IShapeElement.prototype.addShapeToModifiers=function(t){var e,i=this.shapeModifiers.length;for(e=0;e<i;e+=1)this.shapeModifiers[e].addShape(t)},IShapeElement.prototype.renderModifiers=function(){if(this.shapeModifiers.length){var t,e=this.shapes.length;for(t=0;t<e;t+=1)this.shapes[t].reset();for(t=(e=this.shapeModifiers.length)-1;t>=0;t-=1)this.shapeModifiers[t].processShapes(this.firstFrame)}},IShapeElement.prototype.renderFrame=function(t){if(!1!==this._parent.renderFrame.call(this,t)){this.hidden&&(this.layerElement.style.display="block",this.hidden=!1),this.renderModifiers();var e,i=this.stylesList.length;for(e=0;e<i;e+=1)this.stylesList[e].d="",this.stylesList[e].mdf=!1;for(this.renderShape(this.shapesData,this.itemsData,null),e=0;e<i;e+=1)"0"===this.stylesList[e].ld&&(this.stylesList[e].ld="1",this.stylesList[e].pElem.style.display="block"),(this.stylesList[e].mdf||this.firstFrame)&&(this.stylesList[e].pElem.setAttribute("d",this.stylesList[e].d),this.stylesList[e].msElem&&this.stylesList[e].msElem.setAttribute("d",this.stylesList[e].d));this.firstFrame&&(this.firstFrame=!1)}else this.hide()},IShapeElement.prototype.hide=function(){if(!this.hidden){var t;for(this.layerElement.style.display="none",t=this.stylesList.length-1;t>=0;t-=1)"0"!==this.stylesList[t].ld&&(this.stylesList[t].ld="0",this.stylesList[t].pElem.style.display="none",this.stylesList[t].pElem.parentNode&&(this.stylesList[t].parent=this.stylesList[t].pElem.parentNode));this.hidden=!0}},IShapeElement.prototype.renderShape=function(t,e,i){var s,r;for(s=t.length-1;s>=0;s-=1)"tr"==(r=t[s].ty)?((this.firstFrame||e[s].transform.op.mdf&&i)&&i.setAttribute("opacity",e[s].transform.op.v),(this.firstFrame||e[s].transform.mProps.mdf&&i)&&i.setAttribute("transform",e[s].transform.mProps.v.to2dCSS())):"sh"==r||"el"==r||"rc"==r||"sr"==r?this.renderPath(t[s],e[s]):"fl"==r?this.renderFill(t[s],e[s]):"gf"==r?this.renderGradient(t[s],e[s]):"gs"==r?(this.renderGradient(t[s],e[s]),this.renderStroke(t[s],e[s])):"st"==r?this.renderStroke(t[s],e[s]):"gr"==r&&this.renderShape(t[s].it,e[s].it,e[s].gr)},IShapeElement.prototype.buildShapeString=function(t,e,i,s){var r,n="";for(r=1;r<e;r+=1)1===r&&(n+=" M"+s.applyToPointStringified(t.v[0][0],t.v[0][1])),n+=" C"+s.applyToPointStringified(t.o[r-1][0],t.o[r-1][1])+" "+s.applyToPointStringified(t.i[r][0],t.i[r][1])+" "+s.applyToPointStringified(t.v[r][0],t.v[r][1]);return 1===e&&(n+=" M"+s.applyToPointStringified(t.v[0][0],t.v[0][1])),i&&e&&(n+=" C"+s.applyToPointStringified(t.o[r-1][0],t.o[r-1][1])+" "+s.applyToPointStringified(t.i[0][0],t.i[0][1])+" "+s.applyToPointStringified(t.v[0][0],t.v[0][1]),n+="z"),n},IShapeElement.prototype.renderPath=function(t,e){var i,s,r,n,a,o,h=e.elements.length,l=e.lvl;if(t._render)for(o=0;o<h;o+=1)if(e.elements[o].data._render){n=e.sh.mdf||this.firstFrame,r="M0 0";var c=e.sh.paths;if(s=c._length,e.elements[o].lvl<l){for(var p,u=this.mHelper.reset(),f=l-e.elements[o].lvl,d=e.transformers.length-1;f>0;)n=e.transformers[d].mProps.mdf||n,p=e.transformers[d].mProps.v.props,u.transform(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15]),f--,d--;if(n){for(i=0;i<s;i+=1)(a=c.shapes[i])&&a._length&&(r+=this.buildShapeString(a,a._length,a.c,u));e.caches[o]=r}else r=e.caches[o]}else if(n){for(i=0;i<s;i+=1)(a=c.shapes[i])&&a._length&&(r+=this.buildShapeString(a,a._length,a.c,this.identityMatrix));e.caches[o]=r}else r=e.caches[o];e.elements[o].d+=r,e.elements[o].mdf=n||e.elements[o].mdf}else e.elements[o].mdf=!0},IShapeElement.prototype.renderFill=function(t,e){var i=e.style;(e.c.mdf||this.firstFrame)&&i.pElem.setAttribute("fill","rgb("+bm_floor(e.c.v[0])+","+bm_floor(e.c.v[1])+","+bm_floor(e.c.v[2])+")"),(e.o.mdf||this.firstFrame)&&i.pElem.setAttribute("fill-opacity",e.o.v)},IShapeElement.prototype.renderGradient=function(t,e){var i,s,r,n,a,o=e.gf,h=e.of,l=e.s.v,c=e.e.v;if(e.o.mdf||this.firstFrame){var p="gf"===t.ty?"fill-opacity":"stroke-opacity";e.elem.setAttribute(p,e.o.v)}if(e.s.mdf||this.firstFrame){var u=1===t.t?"x1":"cx",f="x1"===u?"y1":"cy";o.setAttribute(u,l[0]),o.setAttribute(f,l[1]),h&&(h.setAttribute(u,l[0]),h.setAttribute(f,l[1]))}if(e.g.cmdf||this.firstFrame){i=e.cst;var d=e.g.c;for(r=i.length,s=0;s<r;s+=1)(n=i[s]).setAttribute("offset",d[4*s]+"%"),n.setAttribute("stop-color","rgb("+d[4*s+1]+","+d[4*s+2]+","+d[4*s+3]+")")}if(h&&(e.g.omdf||this.firstFrame)){i=e.ost;var m=e.g.o;for(r=i.length,s=0;s<r;s+=1)(n=i[s]).setAttribute("offset",m[2*s]+"%"),n.setAttribute("stop-opacity",m[2*s+1])}if(1===t.t)(e.e.mdf||this.firstFrame)&&(o.setAttribute("x2",c[0]),o.setAttribute("y2",c[1]),h&&(h.setAttribute("x2",c[0]),h.setAttribute("y2",c[1])));else if((e.s.mdf||e.e.mdf||this.firstFrame)&&(a=Math.sqrt(Math.pow(l[0]-c[0],2)+Math.pow(l[1]-c[1],2)),o.setAttribute("r",a),h&&h.setAttribute("r",a)),e.e.mdf||e.h.mdf||e.a.mdf||this.firstFrame){a||(a=Math.sqrt(Math.pow(l[0]-c[0],2)+Math.pow(l[1]-c[1],2)));var y=Math.atan2(c[1]-l[1],c[0]-l[0]),v=a*(e.h.v>=1?.99:e.h.v<=-1?-.99:e.h.v),g=Math.cos(y+e.a.v)*v+l[0],_=Math.sin(y+e.a.v)*v+l[1];o.setAttribute("fx",g),o.setAttribute("fy",_),h&&(h.setAttribute("fx",g),h.setAttribute("fy",_))}},IShapeElement.prototype.renderStroke=function(t,e){var i=e.style,s=e.d;s&&s.k&&(s.mdf||this.firstFrame)&&(i.pElem.setAttribute("stroke-dasharray",s.dasharray),i.pElem.setAttribute("stroke-dashoffset",s.dashoffset)),e.c&&(e.c.mdf||this.firstFrame)&&i.pElem.setAttribute("stroke","rgb("+bm_floor(e.c.v[0])+","+bm_floor(e.c.v[1])+","+bm_floor(e.c.v[2])+")"),(e.o.mdf||this.firstFrame)&&i.pElem.setAttribute("stroke-opacity",e.o.v),(e.w.mdf||this.firstFrame)&&(i.pElem.setAttribute("stroke-width",e.w.v),i.msElem&&i.msElem.setAttribute("stroke-width",e.w.v))},IShapeElement.prototype.destroy=function(){this._parent.destroy.call(this._parent),this.shapeData=null,this.itemsData=null,this.parentContainer=null,this.placeholder=null},ITextElement.prototype.init=function(){this.lettersChangedFlag=!0,this.dynamicProperties=this.dynamicProperties||[],this.textAnimator=new TextAnimatorProperty(this.data.t,this.renderType,this),this.textProperty=new TextProperty(this,this.data.t,this.dynamicProperties),this._parent.init.call(this),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(t){this._parent.prepareFrame.call(this,t),(this.textProperty.mdf||this.textProperty.firstFrame)&&(this.buildNewText(),this.textProperty.firstFrame=!1)},ITextElement.prototype.createPathShape=function(t,e){var i,s,r=e.length,n="";for(i=0;i<r;i+=1)s=e[i].ks.k,n+=this.buildShapeString(s,s.i.length,!0,t);return n},ITextElement.prototype.updateDocumentData=function(t,e){this.textProperty.updateDocumentData(t,e)},ITextElement.prototype.applyTextPropertiesToMatrix=function(t,e,i,s,r){switch(t.ps&&e.translate(t.ps[0],t.ps[1]+t.ascent,0),e.translate(0,-t.ls,0),t.j){case 1:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[i]),0,0);break;case 2:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[i])/2,0,0)}e.translate(s,r,0)},ITextElement.prototype.buildColor=function(t){return"rgb("+Math.round(255*t[0])+","+Math.round(255*t[1])+","+Math.round(255*t[2])+")"},ITextElement.prototype.buildShapeString=IShapeElement.prototype.buildShapeString,ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){this._parent.destroy.call(this._parent)},createElement(SVGBaseElement,SVGTextElement),extendPrototype(ITextElement,SVGTextElement),SVGTextElement.prototype.createElements=function(){this._parent.createElements.call(this),this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=document.createElementNS(svgNS,"text"))},SVGTextElement.prototype.buildNewText=function(){var t,e,i=this.textProperty.currentData;this.renderedLetters=Array.apply(null,{length:i?i.l.length:0}),i.fc?this.layerElement.setAttribute("fill",this.buildColor(i.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),i.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(i.sc)),this.layerElement.setAttribute("stroke-width",i.sw)),this.layerElement.setAttribute("font-size",i.s);var s=this.globalData.fontManager.getFontByName(i.f);if(s.fClass)this.layerElement.setAttribute("class",s.fClass);else{this.layerElement.setAttribute("font-family",s.fFamily);var r=i.fWeight,n=i.fStyle;this.layerElement.setAttribute("font-style",n),this.layerElement.setAttribute("font-weight",r)}var a=i.l||[],o=this.globalData.fontManager.chars;if(e=a.length){var h,l,c=this.mHelper,p="",u=this.data.singleShape,f=0,d=0,m=!0,y=i.tr/1e3*i.s;if(u&&!o){var v=this.textContainer,g="";switch(i.j){case 1:g="end";break;case 2:g="middle";break;case 2:g="start"}v.setAttribute("text-anchor",g),v.setAttribute("letter-spacing",y);var _=i.t.split(String.fromCharCode(13));e=_.length;d=i.ps?i.ps[1]+i.ascent:0;for(t=0;t<e;t+=1)(h=this.textSpans[t]||document.createElementNS(svgNS,"tspan")).textContent=_[t],h.setAttribute("x",0),h.setAttribute("y",d),h.style.display="inherit",v.appendChild(h),this.textSpans[t]=h,d+=i.lh;this.layerElement.appendChild(v)}else{var b,x,w=this.textSpans.length;for(t=0;t<e;t+=1)o&&u&&0!==t||(h=w>t?this.textSpans[t]:document.createElementNS(svgNS,o?"path":"text"),w<=t&&(h.setAttribute("stroke-linecap","butt"),h.setAttribute("stroke-linejoin","round"),h.setAttribute("stroke-miterlimit","4"),this.textSpans[t]=h,this.layerElement.appendChild(h)),h.style.display="inherit"),c.reset(),o?(c.scale(i.s/100,i.s/100),u&&(a[t].n&&(f=-y,d+=i.yOffset,d+=m?1:0,m=!1),this.applyTextPropertiesToMatrix(i,c,a[t].line,f,d),f+=a[t].l||0,f+=y),l=(b=(x=this.globalData.fontManager.getCharData(i.t.charAt(t),s.fStyle,this.globalData.fontManager.getFontByName(i.f).fFamily))&&x.data||{}).shapes?b.shapes[0].it:[],u?p+=this.createPathShape(c,l):h.setAttribute("d",this.createPathShape(c,l))):(h.textContent=a[t].val,h.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"));u&&h.setAttribute("d",p)}for(;t<this.textSpans.length;)this.textSpans[t].style.display="none",t+=1;this._sizeChanged=!0}},SVGTextElement.prototype.sourceRectAtTime=function(t){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderLetters(),this._sizeChanged){this._sizeChanged=!1;var e=this.layerElement.getBBox();this.bbox={top:e.y,left:e.x,width:e.width,height:e.height}}return this.bbox},SVGTextElement.prototype.renderLetters=function(){if(!this.data.singleShape&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){var t,e;this._sizeChanged=!0;var i,s,r=this.textAnimator.renderedLetters,n=this.textProperty.currentData.l;for(e=n.length,t=0;t<e;t+=1)n[t].n||(i=r[t],s=this.textSpans[t],i.mdf.m&&s.setAttribute("transform",i.m),i.mdf.o&&s.setAttribute("opacity",i.o),i.mdf.sw&&s.setAttribute("stroke-width",i.sw),i.mdf.sc&&s.setAttribute("stroke",i.sc),i.mdf.fc&&s.setAttribute("fill",i.fc))}},SVGTextElement.prototype.renderFrame=function(t){!1!==this._parent.renderFrame.call(this,t)?(this.hidden&&this.show(),this.firstFrame&&(this.firstFrame=!1),this.renderLetters()):this.hide()},SVGTintFilter.prototype.renderFrame=function(t){if(t||this.filterManager.mdf){var e=this.filterManager.effectElements[0].p.v,i=this.filterManager.effectElements[1].p.v,s=this.filterManager.effectElements[2].p.v/100;this.matrixFilter.setAttribute("values",i[0]-e[0]+" 0 0 0 "+e[0]+" "+(i[1]-e[1])+" 0 0 0 "+e[1]+" "+(i[2]-e[2])+" 0 0 0 "+e[2]+" 0 0 0 "+s+" 0")}},SVGFillFilter.prototype.renderFrame=function(t){if(t||this.filterManager.mdf){var e=this.filterManager.effectElements[2].p.v,i=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+e[0]+" 0 0 0 0 "+e[1]+" 0 0 0 0 "+e[2]+" 0 0 0 "+i+" 0")}},SVGStrokeEffect.prototype.initialize=function(){var t,e,i,s,r=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(1===this.filterManager.effectElements[1].p.v?(s=this.elem.maskManager.masksProperties.length,i=0):s=(i=this.filterManager.effectElements[0].p.v-1)+1,(e=document.createElementNS(svgNS,"g")).setAttribute("fill","none"),e.setAttribute("stroke-linecap","round"),e.setAttribute("stroke-dashoffset",1);i<s;i+=1)t=document.createElementNS(svgNS,"path"),e.appendChild(t),this.paths.push({p:t,m:i});if(3===this.filterManager.effectElements[10].p.v){var n=document.createElementNS(svgNS,"mask"),a="stms_"+randomString(10);n.setAttribute("id",a),n.setAttribute("mask-type","alpha"),n.appendChild(e),this.elem.globalData.defs.appendChild(n);var o=document.createElementNS(svgNS,"g");o.setAttribute("mask","url("+locationHref+"#"+a+")"),r[0]&&o.appendChild(r[0]),this.elem.layerElement.appendChild(o),this.masker=n,e.setAttribute("stroke","#fff")}else if(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v){if(2===this.filterManager.effectElements[10].p.v)for(r=this.elem.layerElement.children||this.elem.layerElement.childNodes;r.length;)this.elem.layerElement.removeChild(r[0]);this.elem.layerElement.appendChild(e),this.elem.layerElement.removeAttribute("mask"),e.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=e},SVGStrokeEffect.prototype.renderFrame=function(t){this.initialized||this.initialize();var e,i,s,r=this.paths.length;for(e=0;e<r;e+=1)if(i=this.elem.maskManager.viewData[this.paths[e].m],s=this.paths[e].p,(t||this.filterManager.mdf||i.prop.mdf)&&s.setAttribute("d",i.lastPath),t||this.filterManager.effectElements[9].p.mdf||this.filterManager.effectElements[4].p.mdf||this.filterManager.effectElements[7].p.mdf||this.filterManager.effectElements[8].p.mdf||i.prop.mdf){var n;if(0!==this.filterManager.effectElements[7].p.v||100!==this.filterManager.effectElements[8].p.v){var a=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)/100,o=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)/100,h=s.getTotalLength();n="0 0 0 "+h*a+" ";var l,c=h*(o-a),p=1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100,u=Math.floor(c/p);for(l=0;l<u;l+=1)n+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100+" ";n+="0 "+10*h+" 0 0"}else n="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100;s.setAttribute("stroke-dasharray",n)}if((t||this.filterManager.effectElements[4].p.mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(t||this.filterManager.effectElements[6].p.mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v)&&(t||this.filterManager.effectElements[3].p.mdf)){var f=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bm_floor(255*f[0])+","+bm_floor(255*f[1])+","+bm_floor(255*f[2])+")")}},SVGTritoneFilter.prototype.renderFrame=function(t){if(t||this.filterManager.mdf){var e=this.filterManager.effectElements[0].p.v,i=this.filterManager.effectElements[1].p.v,s=this.filterManager.effectElements[2].p.v,r=s[0]+" "+i[0]+" "+e[0],n=s[1]+" "+i[1]+" "+e[1],a=s[2]+" "+i[2]+" "+e[2];this.feFuncR.setAttribute("tableValues",r),this.feFuncG.setAttribute("tableValues",n),this.feFuncB.setAttribute("tableValues",a)}},SVGProLevelsFilter.prototype.createFeFunc=function(t,e){var i=document.createElementNS(svgNS,t);return i.setAttribute("type","table"),e.appendChild(i),i},SVGProLevelsFilter.prototype.getTableValue=function(t,e,i,s,r){for(var n,a,o=0,h=Math.min(t,e),l=Math.max(t,e),c=Array.call(null,{length:256}),p=0,u=r-s,f=e-t;o<=256;)a=(n=o/256)<=h?f<0?r:s:n>=l?f<0?s:r:s+u*Math.pow((n-t)/f,1/i),c[p++]=a,o+=256/255;return c.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(t){if(t||this.filterManager.mdf){var e,i=this.filterManager.effectElements;this.feFuncRComposed&&(t||i[2].p.mdf||i[3].p.mdf||i[4].p.mdf||i[5].p.mdf||i[6].p.mdf)&&(e=this.getTableValue(i[2].p.v,i[3].p.v,i[4].p.v,i[5].p.v,i[6].p.v),this.feFuncRComposed.setAttribute("tableValues",e),this.feFuncGComposed.setAttribute("tableValues",e),this.feFuncBComposed.setAttribute("tableValues",e)),this.feFuncR&&(t||i[9].p.mdf||i[10].p.mdf||i[11].p.mdf||i[12].p.mdf||i[13].p.mdf)&&(e=this.getTableValue(i[9].p.v,i[10].p.v,i[11].p.v,i[12].p.v,i[13].p.v),this.feFuncR.setAttribute("tableValues",e)),this.feFuncG&&(t||i[16].p.mdf||i[17].p.mdf||i[18].p.mdf||i[19].p.mdf||i[20].p.mdf)&&(e=this.getTableValue(i[16].p.v,i[17].p.v,i[18].p.v,i[19].p.v,i[20].p.v),this.feFuncG.setAttribute("tableValues",e)),this.feFuncB&&(t||i[23].p.mdf||i[24].p.mdf||i[25].p.mdf||i[26].p.mdf||i[27].p.mdf)&&(e=this.getTableValue(i[23].p.v,i[24].p.v,i[25].p.v,i[26].p.v,i[27].p.v),this.feFuncB.setAttribute("tableValues",e)),this.feFuncA&&(t||i[30].p.mdf||i[31].p.mdf||i[32].p.mdf||i[33].p.mdf||i[34].p.mdf)&&(e=this.getTableValue(i[30].p.v,i[31].p.v,i[32].p.v,i[33].p.v,i[34].p.v),this.feFuncA.setAttribute("tableValues",e))}},SVGDropShadowEffect.prototype.renderFrame=function(t){if(t||this.filterManager.mdf){if((t||this.filterManager.effectElements[4].p.mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),t||this.filterManager.effectElements[0].p.mdf){var e=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*e[0]),Math.round(255*e[1]),Math.round(255*e[2])))}if((t||this.filterManager.effectElements[1].p.mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),t||this.filterManager.effectElements[2].p.mdf||this.filterManager.effectElements[3].p.mdf){var i=this.filterManager.effectElements[3].p.v,s=(this.filterManager.effectElements[2].p.v-90)*degToRads,r=i*Math.cos(s),n=i*Math.sin(s);this.feOffset.setAttribute("dx",r),this.feOffset.setAttribute("dy",n)}}},SVGMatte3Effect.prototype.setElementAsMask=function(t,e){var i=document.createElementNS(svgNS,"mask");i.setAttribute("id",e.layerId),i.setAttribute("mask-type","alpha"),i.appendChild(e.layerElement),t.setMatte(e.layerId),e.data.hd=!1,t.globalData.defs.appendChild(i)},SVGMatte3Effect.prototype.initialize=function(){for(var t=this.filterManager.effectElements[0].p.v,e=0,i=this.elem.comp.elements.length;e<i;)this.elem.comp.elements[e].data.ind===t&&this.setElementAsMask(this.elem,this.elem.comp.elements[e]),e+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGEffects.prototype.renderFrame=function(t){var e,i=this.filters.length;for(e=0;e<i;e+=1)this.filters[e].renderFrame(t)},createElement(SVGBaseElement,ICompElement),ICompElement.prototype.hide=function(){if(!this.hidden){this._parent.hide.call(this);var t,e=this.elements.length;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].hide()}},ICompElement.prototype.prepareFrame=function(t){if(this._parent.prepareFrame.call(this,t),!1!==this.isVisible||this.data.xt){if(this.tm){var e=this.tm.v;e===this.data.op&&(e=this.data.op-1),this.renderedFrame=e}else this.renderedFrame=t/this.data.sr;var i,s=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),i=0;i<s;i+=1)(this.completeLayers||this.elements[i])&&this.elements[i].prepareFrame(this.renderedFrame-this.layers[i].st)}},ICompElement.prototype.renderFrame=function(t){var e,i=this._parent.renderFrame.call(this,t),s=this.layers.length;if(!1!==i){for(this.hidden&&this.show(),e=0;e<s;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame();this.firstFrame&&(this.firstFrame=!1)}else this.hide()},ICompElement.prototype.setElements=function(t){this.elements=t},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroy=function(){this._parent.destroy.call(this._parent);var t,e=this.layers.length;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy()},ICompElement.prototype.checkLayers=SVGRenderer.prototype.checkLayers,ICompElement.prototype.buildItem=SVGRenderer.prototype.buildItem,ICompElement.prototype.buildAllItems=SVGRenderer.prototype.buildAllItems,ICompElement.prototype.buildElementParenting=SVGRenderer.prototype.buildElementParenting,ICompElement.prototype.createItem=SVGRenderer.prototype.createItem,ICompElement.prototype.createImage=SVGRenderer.prototype.createImage,ICompElement.prototype.createComp=SVGRenderer.prototype.createComp,ICompElement.prototype.createSolid=SVGRenderer.prototype.createSolid,ICompElement.prototype.createShape=SVGRenderer.prototype.createShape,ICompElement.prototype.createText=SVGRenderer.prototype.createText,ICompElement.prototype.createBase=SVGRenderer.prototype.createBase,ICompElement.prototype.appendElementInPos=SVGRenderer.prototype.appendElementInPos,ICompElement.prototype.checkPendingElements=SVGRenderer.prototype.checkPendingElements,ICompElement.prototype.addPendingElement=SVGRenderer.prototype.addPendingElement,createElement(SVGBaseElement,IImageElement),IImageElement.prototype.createElements=function(){var t=this.globalData.getAssetsPath(this.assetData);this._parent.createElements.call(this),this.innerElem=document.createElementNS(svgNS,"image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio","xMidYMid slice"),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.maskedElement=this.innerElem,this.layerElement.appendChild(this.innerElem),this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl)},IImageElement.prototype.renderFrame=function(t){!1!==this._parent.renderFrame.call(this,t)?(this.hidden&&this.show(),this.firstFrame&&(this.firstFrame=!1)):this.hide()},IImageElement.prototype.destroy=function(){this._parent.destroy.call(this._parent),this.innerElem=null},createElement(SVGBaseElement,ISolidElement),ISolidElement.prototype.createElements=function(){this._parent.createElements.call(this);var t=document.createElementNS(svgNS,"rect");t.setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.layerElement.appendChild(t),this.innerElem=t,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl)},ISolidElement.prototype.renderFrame=IImageElement.prototype.renderFrame,ISolidElement.prototype.destroy=IImageElement.prototype.destroy;var animationManager=function(){var t={},e=[],i=0,s=0,r=!0,n=0;function a(t){for(var i=0,r=t.target;i<s;)e[i].animation===r&&(e.splice(i,1),i-=1,s-=1,r.isPaused||l()),i+=1}function o(t,i){if(!t)return null;for(var r=0;r<s;){if(e[r].elem==t&&null!==e[r].elem)return e[r].animation;r+=1}var n=new AnimationItem;return c(n,t),n.setData(t,i),n}function h(){n+=1,r&&(r=!1,window.requestAnimationFrame(u))}function l(){0===(n-=1)&&(r=!0)}function c(t,i){t.addEventListener("destroy",a),t.addEventListener("_active",h),t.addEventListener("_idle",l),e.push({elem:i,animation:t}),s+=1}function p(t){var n,a=t-i;for(n=0;n<s;n+=1)e[n].animation.advanceTime(a);i=t,r||window.requestAnimationFrame(p)}function u(t){i=t,window.requestAnimationFrame(p)}function f(){window.requestAnimationFrame(u)}return setTimeout(f,0),t.registerAnimation=o,t.loadAnimation=function(t){var e=new AnimationItem;return c(e,null),e.setParams(t),e},t.setSpeed=function(t,i){var r;for(r=0;r<s;r+=1)e[r].animation.setSpeed(t,i)},t.setDirection=function(t,i){var r;for(r=0;r<s;r+=1)e[r].animation.setDirection(t,i)},t.play=function(t){var i;for(i=0;i<s;i+=1)e[i].animation.play(t)},t.moveFrame=function(t,r){var n;for(i=Date.now(),n=0;n<s;n+=1)e[n].animation.moveFrame(t,r)},t.pause=function(t){var i;for(i=0;i<s;i+=1)e[i].animation.pause(t)},t.stop=function(t){var i;for(i=0;i<s;i+=1)e[i].animation.stop(t)},t.togglePause=function(t){var i;for(i=0;i<s;i+=1)e[i].animation.togglePause(t)},t.searchAnimations=function(t,e,i){var s,r=document.getElementsByClassName("bodymovin"),n=r.length;for(s=0;s<n;s+=1)i&&r[s].setAttribute("data-bm-type",i),o(r[s],t);if(e&&0===n){i||(i="svg");var a=document.getElementsByTagName("body")[0];a.innerHTML="";var h=document.createElement("div");h.style.width="100%",h.style.height="100%",h.setAttribute("data-bm-type",i),a.appendChild(h),o(h,t)}},t.resize=function(){var t;for(t=0;t<s;t+=1)e[t].animation.resize()},t.start=f,t.goToAndStop=function(t,i,r){var n;for(n=0;n<s;n+=1)e[n].animation.goToAndStop(t,i,r)},t.destroy=function(t){var i;for(i=s-1;i>=0;i-=1)e[i].animation.destroy(t)},t}(),AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.pendingElements=0,this.playCount=0,this.prerenderFramesFlag=!0,this.animationData={},this.layers=[],this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=randomString(10),this.scaleMode="fit",this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.subframeEnabled=subframeEnabled,this.segments=[],this.pendingSegment=!1,this._idle=!0,this.projectInterface=ProjectInterface()};function CanvasRenderer(t,e){this.animationItem=t,this.renderConfig={clearCanvas:!e||void 0===e.clearCanvas||e.clearCanvas,context:e&&e.context||null,progressiveLoad:e&&e.progressiveLoad||!1,preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",className:e&&e.className||""},this.renderConfig.dpr=e&&e.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=e&&e.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1},this.contextData={saved:Array.apply(null,{length:15}),savedOp:Array.apply(null,{length:15}),cArrPos:0,cTr:new Matrix,cO:1};var i;for(i=0;i<15;i+=1)this.contextData.saved[i]=Array.apply(null,{length:16});this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1}function HybridRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.globalData={frameNum:-1},this.renderConfig={className:e&&e.className||""},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0}function CVBaseElement(t,e,i){this.globalData=i,this.data=t,this.comp=e,this.canvasContext=i.canvasContext,this.init()}function CVCompElement(t,e,i){this._parent.constructor.call(this,t,e,i);var s={};for(var r in i)i.hasOwnProperty(r)&&(s[r]=i[r]);s.renderer=this,s.compHeight=this.data.h,s.compWidth=this.data.w,this.renderConfig={clearCanvas:!0},this.contextData={saved:Array.apply(null,{length:15}),savedOp:Array.apply(null,{length:15}),cArrPos:0,cTr:new Matrix,cO:1},this.completeLayers=!1;var n;for(n=0;n<15;n+=1)this.contextData.saved[n]=Array.apply(null,{length:16});this.transformMat=new Matrix,this.parentGlobalData=this.globalData;var a=document.createElement("canvas");s.canvasContext=a.getContext("2d"),this.canvasContext=s.canvasContext,a.width=this.data.w,a.height=this.data.h,this.canvas=a,this.globalData=s,this.layers=t.layers,this.pendingElements=[],this.elements=Array.apply(null,{length:this.layers.length}),this.data.tm&&(this.tm=PropertyFactory.getProp(this,this.data.tm,0,i.frameRate,this.dynamicProperties)),!this.data.xt&&i.progressiveLoad||this.buildAllItems()}function CVImageElement(t,e,i){this.assetData=i.getAssetData(t.refId),this._parent.constructor.call(this,t,e,i),this.globalData.addPendingElement()}function CVMaskElement(t,e){this.data=t,this.element=e,this.dynamicProperties=[],this.masksProperties=this.data.masksProperties,this.viewData=Array.apply(null,{length:this.masksProperties.length});var i,s=this.masksProperties.length;for(i=0;i<s;i++)this.viewData[i]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[i],3,this.dynamicProperties,null)}function CVShapeElement(t,e,i){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this._parent.constructor.call(this,t,e,i)}function CVSolidElement(t,e,i){this._parent.constructor.call(this,t,e,i)}function CVTextElement(t,e,i){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this._parent.constructor.call(this,t,e,i)}function HBaseElement(t,e,i,s,r){this.globalData=i,this.comp=s,this.data=t,this.matteElement=null,this.parentContainer=e,this.layerId=r?r.layerId:"ly_"+randomString(10),this.placeholder=r,this.init()}function HSolidElement(t,e,i,s,r){this._parent.constructor.call(this,t,e,i,s,r)}function HCompElement(t,e,i,s,r){this._parent.constructor.call(this,t,e,i,s,r),this.layers=t.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=Array.apply(null,{length:this.layers.length}),this.data.tm&&(this.tm=PropertyFactory.getProp(this,this.data.tm,0,i.frameRate,this.dynamicProperties)),this.data.hasMask&&(this.supports3d=!1),this.data.xt&&(this.layerElement=document.createElement("div")),this.buildAllItems()}function HShapeElement(t,e,i,s,r){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this._parent.constructor.call(this,t,e,i,s,r),this.currentBBox={x:999999,y:-999999,h:0,w:0}}AnimationItem.prototype.setParams=function(t){var e=this;t.context&&(this.context=t.context),(t.wrapper||t.container)&&(this.wrapper=t.wrapper||t.container);var i=t.animType?t.animType:t.renderer?t.renderer:"svg";switch(i){case"canvas":this.renderer=new CanvasRenderer(this,t.rendererSettings);break;case"svg":this.renderer=new SVGRenderer(this,t.rendererSettings);break;case"hybrid":case"html":default:this.renderer=new HybridRenderer(this,t.rendererSettings)}if(this.renderer.setProjectInterface(this.projectInterface),this.animType=i,""===t.loop||null===t.loop||(!1===t.loop?this.loop=!1:!0===t.loop?this.loop=!0:this.loop=parseInt(t.loop)),this.autoplay=!("autoplay"in t)||t.autoplay,this.name=t.name?t.name:"",this.prerenderFramesFlag=!("prerender"in t)||t.prerender,this.autoloadSegments=!t.hasOwnProperty("autoloadSegments")||t.autoloadSegments,t.animationData)e.configAnimation(t.animationData);else if(t.path){"json"!=t.path.substr(-4)&&("/"!=t.path.substr(-1,1)&&(t.path+="/"),t.path+="data.json");var s=new XMLHttpRequest;-1!=t.path.lastIndexOf("\\")?this.path=t.path.substr(0,t.path.lastIndexOf("\\")+1):this.path=t.path.substr(0,t.path.lastIndexOf("/")+1),this.assetsPath=t.assetsPath,this.fileName=t.path.substr(t.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),s.open("GET",t.path,!0),s.send(),s.onreadystatechange=function(){if(4==s.readyState)if(200==s.status)e.configAnimation(JSON.parse(s.responseText));else try{var t=JSON.parse(s.responseText);e.configAnimation(t)}catch(t){}}}},AnimationItem.prototype.setData=function(t,e){var i={wrapper:t,animationData:e?"object"==typeof e?e:JSON.parse(e):null},s=t.attributes;i.path=s.getNamedItem("data-animation-path")?s.getNamedItem("data-animation-path").value:s.getNamedItem("data-bm-path")?s.getNamedItem("data-bm-path").value:s.getNamedItem("bm-path")?s.getNamedItem("bm-path").value:"",i.animType=s.getNamedItem("data-anim-type")?s.getNamedItem("data-anim-type").value:s.getNamedItem("data-bm-type")?s.getNamedItem("data-bm-type").value:s.getNamedItem("bm-type")?s.getNamedItem("bm-type").value:s.getNamedItem("data-bm-renderer")?s.getNamedItem("data-bm-renderer").value:s.getNamedItem("bm-renderer")?s.getNamedItem("bm-renderer").value:"canvas";var r=s.getNamedItem("data-anim-loop")?s.getNamedItem("data-anim-loop").value:s.getNamedItem("data-bm-loop")?s.getNamedItem("data-bm-loop").value:s.getNamedItem("bm-loop")?s.getNamedItem("bm-loop").value:"";""===r||(i.loop="false"!==r&&("true"===r||parseInt(r)));var n=s.getNamedItem("data-anim-autoplay")?s.getNamedItem("data-anim-autoplay").value:s.getNamedItem("data-bm-autoplay")?s.getNamedItem("data-bm-autoplay").value:!s.getNamedItem("bm-autoplay")||s.getNamedItem("bm-autoplay").value;i.autoplay="false"!==n,i.name=s.getNamedItem("data-name")?s.getNamedItem("data-name").value:s.getNamedItem("data-bm-name")?s.getNamedItem("data-bm-name").value:s.getNamedItem("bm-name")?s.getNamedItem("bm-name").value:"","false"===(s.getNamedItem("data-anim-prerender")?s.getNamedItem("data-anim-prerender").value:s.getNamedItem("data-bm-prerender")?s.getNamedItem("data-bm-prerender").value:s.getNamedItem("bm-prerender")?s.getNamedItem("bm-prerender").value:"")&&(i.prerender=!1),this.setParams(i)},AnimationItem.prototype.includeLayers=function(t){t.op>this.animationData.op&&(this.animationData.op=t.op,this.totalFrames=Math.floor(t.op-this.animationData.ip),this.animationData.tf=this.totalFrames);var e,i,s=this.animationData.layers,r=s.length,n=t.layers,a=n.length;for(i=0;i<a;i+=1)for(e=0;e<r;){if(s[e].id==n[i].id){s[e]=n[i];break}e+=1}if((t.chars||t.fonts)&&(this.renderer.globalData.fontManager.addChars(t.chars),this.renderer.globalData.fontManager.addFonts(t.fonts,this.renderer.globalData.defs)),t.assets)for(r=t.assets.length,e=0;e<r;e+=1)this.animationData.assets.push(t.assets[e]);this.animationData.__complete=!1,dataManager.completeData(this.animationData,this.renderer.globalData.fontManager),this.renderer.includeLayers(t.layers),expressionsPlugin&&expressionsPlugin.initExpressions(this),this.renderer.renderFrame(null),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var t=this.animationData.segments;if(!t||0===t.length||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.animationData.tf);var e=t.shift();this.timeCompleted=e.time*this.frameRate;var i=new XMLHttpRequest,s=this,r=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,i.open("GET",r,!0),i.send(),i.onreadystatechange=function(){if(4==i.readyState)if(200==i.status)s.includeLayers(JSON.parse(i.responseText));else try{var t=JSON.parse(i.responseText);s.includeLayers(t)}catch(t){}}},AnimationItem.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.animationData.tf),this.loadNextSegment()},AnimationItem.prototype.configAnimation=function(t){var e=this;this.renderer&&this.renderer.destroyed||(this.animationData=t,this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.animationData.tf=this.totalFrames,this.renderer.configAnimation(t),t.assets||(t.assets=[]),t.comps&&(t.assets=t.assets.concat(t.comps),t.comps=null),this.renderer.searchExtraCompositions(t.assets),this.layers=this.animationData.layers,this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.firstFrame=Math.round(this.animationData.ip),this.frameMult=this.animationData.fr/1e3,this.trigger("config_ready"),this.imagePreloader=new ImagePreloader,this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(t.assets,function(t){t||e.trigger("loaded_images")}),this.loadSegments(),this.updaFrameModifier(),this.renderer.globalData.fontManager?this.waitForFontsLoaded():(dataManager.completeData(this.animationData,this.renderer.globalData.fontManager),this.checkLoaded()))},AnimationItem.prototype.waitForFontsLoaded=function(){return function(){(function t(){this.renderer.globalData.fontManager.loaded?(dataManager.completeData(this.animationData,this.renderer.globalData.fontManager),this.checkLoaded()):setTimeout(t.bind(this),20)}).bind(this)()}}(),AnimationItem.prototype.addPendingElement=function(){this.pendingElements+=1},AnimationItem.prototype.elementLoaded=function(){this.pendingElements--,this.checkLoaded()},AnimationItem.prototype.checkLoaded=function(){0===this.pendingElements&&(expressionsPlugin&&expressionsPlugin.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.isLoaded=!0,this.gotoFrame(),this.autoplay&&this.play())},AnimationItem.prototype.resize=function(){this.renderer.updateContainerSize()},AnimationItem.prototype.setSubframe=function(t){this.subframeEnabled=!!t},AnimationItem.prototype.gotoFrame=function(){this.subframeEnabled?this.currentFrame=this.currentRawFrame:this.currentFrame=Math.floor(this.currentRawFrame),this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame()},AnimationItem.prototype.renderFrame=function(){!1!==this.isLoaded&&this.renderer.renderFrame(this.currentFrame+this.firstFrame)},AnimationItem.prototype.play=function(t){t&&this.name!=t||!0===this.isPaused&&(this.isPaused=!1,this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(t){t&&this.name!=t||!1===this.isPaused&&(this.isPaused=!0,this.pendingSegment||(this._idle=!0,this.trigger("_idle")))},AnimationItem.prototype.togglePause=function(t){t&&this.name!=t||(!0===this.isPaused?this.play():this.pause())},AnimationItem.prototype.stop=function(t){t&&this.name!=t||(this.pause(),this.currentFrame=this.currentRawFrame=0,this.playCount=0,this.gotoFrame())},AnimationItem.prototype.goToAndStop=function(t,e,i){i&&this.name!=i||(e?this.setCurrentRawFrameValue(t):this.setCurrentRawFrameValue(t*this.frameModifier),this.pause())},AnimationItem.prototype.goToAndPlay=function(t,e,i){this.goToAndStop(t,e,i),this.play()},AnimationItem.prototype.advanceTime=function(t){if(this.pendingSegment)return this.pendingSegment=!1,this.adjustSegment(this.segments.shift()),void(this.isPaused&&this.play());!0!==this.isPaused&&!1!==this.isLoaded&&this.setCurrentRawFrameValue(this.currentRawFrame+t*this.frameModifier)},AnimationItem.prototype.updateAnimation=function(t){this.setCurrentRawFrameValue(this.totalFrames*t)},AnimationItem.prototype.moveFrame=function(t,e){e&&this.name!=e||this.setCurrentRawFrameValue(this.currentRawFrame+t)},AnimationItem.prototype.adjustSegment=function(t){this.playCount=0,t[1]<t[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=t[0]-t[1],this.firstFrame=t[1],this.setCurrentRawFrameValue(this.totalFrames-.01)):t[1]>t[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=t[1]-t[0],this.firstFrame=t[0],this.setCurrentRawFrameValue(0)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(t,e){var i=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<t?i=t:this.currentRawFrame+this.firstFrame>e&&(i=e-t-.01)),this.firstFrame=t,this.totalFrames=e-t,-1!==i&&this.goToAndStop(i,!0)},AnimationItem.prototype.playSegments=function(t,e){if("object"==typeof t[0]){var i,s=t.length;for(i=0;i<s;i+=1)this.segments.push(t[i])}else this.segments.push(t);e&&this.adjustSegment(this.segments.shift()),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(t){this.segments.length=0,this.segments.push([this.animationData.ip*this.frameRate,Math.floor(this.animationData.op-this.animationData.ip+this.animationData.ip*this.frameRate)]),t&&this.adjustSegment(this.segments.shift())},AnimationItem.prototype.checkSegments=function(){this.segments.length&&(this.pendingSegment=!0)},AnimationItem.prototype.remove=function(t){t&&this.name!=t||this.renderer.destroy()},AnimationItem.prototype.destroy=function(t){t&&this.name!=t||this.renderer&&this.renderer.destroyed||(this.renderer.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=this.onLoopComplete=this.onComplete=this.onSegmentStart=this.onDestroy=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(t){if(this.currentRawFrame=t,this.currentRawFrame>=this.totalFrames){if(this.checkSegments(),!1===this.loop)return this.currentRawFrame=this.totalFrames-.01,this.gotoFrame(),this.pause(),void this.trigger("complete");if(this.trigger("loopComplete"),this.playCount+=1,!0!==this.loop&&this.playCount==this.loop||this.pendingSegment)return this.currentRawFrame=this.totalFrames-.01,this.gotoFrame(),this.pause(),void this.trigger("complete");this.currentRawFrame=this.currentRawFrame%this.totalFrames}else if(this.currentRawFrame<0)return this.checkSegments(),this.playCount-=1,this.playCount<0&&(this.playCount=0),!1===this.loop||this.pendingSegment?(this.currentRawFrame=0,this.gotoFrame(),this.pause(),void this.trigger("complete")):(this.trigger("loopComplete"),this.currentRawFrame=(this.totalFrames+this.currentRawFrame)%this.totalFrames,void this.gotoFrame());this.gotoFrame()},AnimationItem.prototype.setSpeed=function(t){this.playSpeed=t,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(t){this.playDirection=t<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(t){var e="";if(this.assetsPath){var i=t.p;-1!==i.indexOf("images/")&&(i=i.split("/")[1]),e=this.assetsPath+i}else e=this.path,e+=t.u?t.u:"",e+=t.p;return e},AnimationItem.prototype.getAssetData=function(t){for(var e=0,i=this.assets.length;e<i;){if(t==this.assets[e].id)return this.assets[e];e+=1}},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getAssets=function(){return this.assets},AnimationItem.prototype.trigger=function(t){if(this._cbs&&this._cbs[t])switch(t){case"enterFrame":this.triggerEvent(t,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameMult));break;case"loopComplete":this.triggerEvent(t,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(t,new BMCompleteEvent(t,this.frameMult));break;case"segmentStart":this.triggerEvent(t,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(t,new BMDestroyEvent(t,this));break;default:this.triggerEvent(t)}"enterFrame"===t&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameMult)),"loopComplete"===t&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult)),"complete"===t&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(t,this.frameMult)),"segmentStart"===t&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames)),"destroy"===t&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(t,this))},AnimationItem.prototype.addEventListener=_addEventListener,AnimationItem.prototype.removeEventListener=_removeEventListener,AnimationItem.prototype.triggerEvent=_triggerEvent,extendPrototype(BaseRenderer,CanvasRenderer),CanvasRenderer.prototype.createBase=function(t){return new CVBaseElement(t,this,this.globalData)},CanvasRenderer.prototype.createShape=function(t){return new CVShapeElement(t,this,this.globalData)},CanvasRenderer.prototype.createText=function(t){return new CVTextElement(t,this,this.globalData)},CanvasRenderer.prototype.createImage=function(t){return new CVImageElement(t,this,this.globalData)},CanvasRenderer.prototype.createComp=function(t){return new CVCompElement(t,this,this.globalData)},CanvasRenderer.prototype.createSolid=function(t){return new CVSolidElement(t,this,this.globalData)},CanvasRenderer.prototype.ctxTransform=function(t){if(1!==t[0]||0!==t[1]||0!==t[4]||1!==t[5]||0!==t[12]||0!==t[13])if(this.renderConfig.clearCanvas){this.transformMat.cloneFromProps(t),this.transformMat.transform(this.contextData.cTr.props[0],this.contextData.cTr.props[1],this.contextData.cTr.props[2],this.contextData.cTr.props[3],this.contextData.cTr.props[4],this.contextData.cTr.props[5],this.contextData.cTr.props[6],this.contextData.cTr.props[7],this.contextData.cTr.props[8],this.contextData.cTr.props[9],this.contextData.cTr.props[10],this.contextData.cTr.props[11],this.contextData.cTr.props[12],this.contextData.cTr.props[13],this.contextData.cTr.props[14],this.contextData.cTr.props[15]),this.contextData.cTr.cloneFromProps(this.transformMat.props);var e=this.contextData.cTr.props;this.canvasContext.setTransform(e[0],e[1],e[4],e[5],e[12],e[13])}else this.canvasContext.transform(t[0],t[1],t[4],t[5],t[12],t[13])},CanvasRenderer.prototype.ctxOpacity=function(t){1!==t&&(this.renderConfig.clearCanvas?(this.contextData.cO*=t<0?0:t,this.canvasContext.globalAlpha=this.contextData.cO):this.canvasContext.globalAlpha*=t<0?0:t)},CanvasRenderer.prototype.reset=function(){this.renderConfig.clearCanvas?(this.contextData.cArrPos=0,this.contextData.cTr.reset(),this.contextData.cO=1):this.canvasContext.restore()},CanvasRenderer.prototype.save=function(t){if(this.renderConfig.clearCanvas){t&&this.canvasContext.save();var e=this.contextData.cTr.props;null!==this.contextData.saved[this.contextData.cArrPos]&&void 0!==this.contextData.saved[this.contextData.cArrPos]||(this.contextData.saved[this.contextData.cArrPos]=new Array(16));var i,s=this.contextData.saved[this.contextData.cArrPos];for(i=0;i<16;i+=1)s[i]=e[i];this.contextData.savedOp[this.contextData.cArrPos]=this.contextData.cO,this.contextData.cArrPos+=1}else this.canvasContext.save()},CanvasRenderer.prototype.restore=function(t){if(this.renderConfig.clearCanvas){t&&this.canvasContext.restore(),this.contextData.cArrPos-=1;var e,i=this.contextData.saved[this.contextData.cArrPos],s=this.contextData.cTr.props;for(e=0;e<16;e+=1)s[e]=i[e];this.canvasContext.setTransform(i[0],i[1],i[4],i[5],i[12],i[13]),i=this.contextData.savedOp[this.contextData.cArrPos],this.contextData.cO=i,this.canvasContext.globalAlpha=i}else this.canvasContext.restore()},CanvasRenderer.prototype.configAnimation=function(t){this.animationItem.wrapper?(this.animationItem.container=document.createElement("canvas"),this.animationItem.container.style.width="100%",this.animationItem.container.style.height="100%",this.animationItem.container.style.transformOrigin=this.animationItem.container.style.mozTransformOrigin=this.animationItem.container.style.webkitTransformOrigin=this.animationItem.container.style["-webkit-transform"]="0px 0px 0px",this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className)):this.canvasContext=this.renderConfig.context,this.data=t,this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.totalFrames=Math.floor(t.tf),this.globalData.compWidth=t.w,this.globalData.compHeight=t.h,this.globalData.frameRate=t.fr,this.globalData.frameId=0,this.globalData.compSize={w:t.w,h:t.h},this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.layers=t.layers,this.transformCanvas={},this.transformCanvas.w=t.w,this.transformCanvas.h=t.h,this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(t.chars),this.globalData.fontManager.addFonts(t.fonts,document.body),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.elementLoaded=this.animationItem.elementLoaded.bind(this.animationItem),this.globalData.addPendingElement=this.animationItem.addPendingElement.bind(this.animationItem),this.globalData.transformCanvas=this.transformCanvas,this.elements=Array.apply(null,{length:t.layers.length}),this.updateContainerSize()},CanvasRenderer.prototype.updateContainerSize=function(){var t,e,i,s;if(this.animationItem.wrapper&&this.animationItem.container?(t=this.animationItem.wrapper.offsetWidth,e=this.animationItem.wrapper.offsetHeight,this.animationItem.container.setAttribute("width",t*this.renderConfig.dpr),this.animationItem.container.setAttribute("height",e*this.renderConfig.dpr)):(t=this.canvasContext.canvas.width*this.renderConfig.dpr,e=this.canvasContext.canvas.height*this.renderConfig.dpr),-1!==this.renderConfig.preserveAspectRatio.indexOf("meet")||-1!==this.renderConfig.preserveAspectRatio.indexOf("slice")){var r=this.renderConfig.preserveAspectRatio.split(" "),n=r[1]||"meet",a=r[0]||"xMidYMid",o=a.substr(0,4),h=a.substr(4);i=t/e,(s=this.transformCanvas.w/this.transformCanvas.h)>i&&"meet"===n||s<i&&"slice"===n?(this.transformCanvas.sx=t/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=t/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=e/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=e/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx="xMid"===o&&(s<i&&"meet"===n||s>i&&"slice"===n)?(t-this.transformCanvas.w*(e/this.transformCanvas.h))/2*this.renderConfig.dpr:"xMax"===o&&(s<i&&"meet"===n||s>i&&"slice"===n)?(t-this.transformCanvas.w*(e/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty="YMid"===h&&(s>i&&"meet"===n||s<i&&"slice"===n)?(e-this.transformCanvas.h*(t/this.transformCanvas.w))/2*this.renderConfig.dpr:"YMax"===h&&(s>i&&"meet"===n||s<i&&"slice"===n)?(e-this.transformCanvas.h*(t/this.transformCanvas.w))*this.renderConfig.dpr:0}else"none"==this.renderConfig.preserveAspectRatio?(this.transformCanvas.sx=t/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=e/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1];var l,c=this.elements.length;for(l=0;l<c;l+=1)this.elements[l]&&0===this.elements[l].data.ty&&this.elements[l].resize(this.globalData.transformCanvas)},CanvasRenderer.prototype.destroy=function(){var t;for(this.renderConfig.clearCanvas&&(this.animationItem.wrapper.innerHTML=""),t=(this.layers?this.layers.length:0)-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRenderer.prototype.renderFrame=function(t){if(!(this.renderedFrame==t&&!0===this.renderConfig.clearCanvas||this.destroyed||null===t)){this.renderedFrame=t,this.globalData.frameNum=t-this.animationItem.firstFrame,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=t,!0===this.renderConfig.clearCanvas?(this.reset(),this.canvasContext.save(),this.canvasContext.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)):this.save(),this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip();var e,i=this.layers.length;for(this.completeLayers||this.checkLayers(t),e=0;e<i;e++)(this.completeLayers||this.elements[e])&&this.elements[e].prepareFrame(t-this.layers[e].st);for(e=i-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame();!0!==this.renderConfig.clearCanvas?this.restore():this.canvasContext.restore()}},CanvasRenderer.prototype.buildItem=function(t){var e=this.elements;if(!e[t]&&99!=this.layers[t].ty){var i=this.createItem(this.layers[t],this,this.globalData);e[t]=i,i.initExpressions(),0===this.layers[t].ty&&i.resize(this.globalData.transformCanvas)}},CanvasRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){this.pendingElements.pop().checkParenting()}},CanvasRenderer.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRenderer.prototype.show=function(){this.animationItem.container.style.display="block"},CanvasRenderer.prototype.searchExtraCompositions=function(t){var e,i=t.length;document.createElementNS(svgNS,"g");for(e=0;e<i;e+=1)if(t[e].xt){var s=this.createComp(t[e],this.globalData.comp,this.globalData);s.initExpressions(),this.globalData.projectInterface.registerComposition(s)}},extendPrototype(BaseRenderer,HybridRenderer),HybridRenderer.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){this.pendingElements.pop().checkParenting()}},HybridRenderer.prototype.appendElementInPos=function(t,e){var i=t.getBaseElement();if(i){var s=this.layers[e];if(s.ddd&&this.supports3d)this.addTo3dContainer(i,e);else{for(var r,n,a=0;a<e;)this.elements[a]&&!0!==this.elements[a]&&this.elements[a].getBaseElement&&(n=this.elements[a],r=this.layers[a].ddd?this.getThreeDContainerByPos(a):n.getBaseElement()),a+=1;r?s.ddd&&this.supports3d||this.layerElement.insertBefore(i,r):s.ddd&&this.supports3d||this.layerElement.appendChild(i)}}},HybridRenderer.prototype.createBase=function(t){return new SVGBaseElement(t,this.layerElement,this.globalData,this)},HybridRenderer.prototype.createShape=function(t){return this.supports3d?new HShapeElement(t,this.layerElement,this.globalData,this):new IShapeElement(t,this.layerElement,this.globalData,this)},HybridRenderer.prototype.createText=function(t){return this.supports3d?new HTextElement(t,this.layerElement,this.globalData,this):new SVGTextElement(t,this.layerElement,this.globalData,this)},HybridRenderer.prototype.createCamera=function(t){return this.camera=new HCameraElement(t,this.layerElement,this.globalData,this),this.camera},HybridRenderer.prototype.createImage=function(t){return this.supports3d?new HImageElement(t,this.layerElement,this.globalData,this):new IImageElement(t,this.layerElement,this.globalData,this)},HybridRenderer.prototype.createComp=function(t){return this.supports3d?new HCompElement(t,this.layerElement,this.globalData,this):new ICompElement(t,this.layerElement,this.globalData,this)},HybridRenderer.prototype.createSolid=function(t){return this.supports3d?new HSolidElement(t,this.layerElement,this.globalData,this):new ISolidElement(t,this.layerElement,this.globalData,this)},HybridRenderer.prototype.getThreeDContainerByPos=function(t){for(var e=0,i=this.threeDElements.length;e<i;){if(this.threeDElements[e].startPos<=t&&this.threeDElements[e].endPos>=t)return this.threeDElements[e].perspectiveElem;e+=1}},HybridRenderer.prototype.createThreeDContainer=function(t){var e=document.createElement("div");styleDiv(e),e.style.width=this.globalData.compSize.w+"px",e.style.height=this.globalData.compSize.h+"px",e.style.transformOrigin=e.style.mozTransformOrigin=e.style.webkitTransformOrigin="50% 50%";var i=document.createElement("div");styleDiv(i),i.style.transform=i.style.webkitTransform="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)",e.appendChild(i),this.resizerElem.appendChild(e);var s={container:i,perspectiveElem:e,startPos:t,endPos:t};return this.threeDElements.push(s),s},HybridRenderer.prototype.build3dContainers=function(){var t,e,i=this.layers.length;for(t=0;t<i;t+=1)this.layers[t].ddd?(e||(e=this.createThreeDContainer(t)),e.endPos=Math.max(e.endPos,t)):e=null},HybridRenderer.prototype.addTo3dContainer=function(t,e){for(var i=0,s=this.threeDElements.length;i<s;){if(e<=this.threeDElements[i].endPos){for(var r,n=this.threeDElements[i].startPos;n<e;)this.elements[n]&&this.elements[n].getBaseElement&&(r=this.elements[n].getBaseElement()),n+=1;r?this.threeDElements[i].container.insertBefore(t,r):this.threeDElements[i].container.appendChild(t);break}i+=1}},HybridRenderer.prototype.configAnimation=function(t){var e=document.createElement("div"),i=this.animationItem.wrapper;e.style.width=t.w+"px",e.style.height=t.h+"px",this.resizerElem=e,styleDiv(e),e.style.transformStyle=e.style.webkitTransformStyle=e.style.mozTransformStyle="flat",this.renderConfig.className&&i.setAttribute("class",this.renderConfig.className),i.appendChild(e),e.style.overflow="hidden";var s=document.createElementNS(svgNS,"svg");s.setAttribute("width","1"),s.setAttribute("height","1"),styleDiv(s),this.resizerElem.appendChild(s);var r=document.createElementNS(svgNS,"defs");s.appendChild(r),this.globalData.defs=r,this.data=t,this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.elementLoaded=this.animationItem.elementLoaded.bind(this.animationItem),this.globalData.frameId=0,this.globalData.compSize={w:t.w,h:t.h},this.globalData.frameRate=t.fr,this.layers=t.layers,this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(t.chars),this.globalData.fontManager.addFonts(t.fonts,s),this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRenderer.prototype.destroy=function(){this.animationItem.wrapper.innerHTML="",this.animationItem.container=null,this.globalData.defs=null;var t,e=this.layers?this.layers.length:0;for(t=0;t<e;t++)this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRenderer.prototype.updateContainerSize=function(){var t,e,i,s,r=this.animationItem.wrapper.offsetWidth,n=this.animationItem.wrapper.offsetHeight,a=r/n;this.globalData.compSize.w/this.globalData.compSize.h>a?(t=r/this.globalData.compSize.w,e=r/this.globalData.compSize.w,i=0,s=(n-this.globalData.compSize.h*(r/this.globalData.compSize.w))/2):(t=n/this.globalData.compSize.h,e=n/this.globalData.compSize.h,i=(r-this.globalData.compSize.w*(n/this.globalData.compSize.h))/2,s=0),this.resizerElem.style.transform=this.resizerElem.style.webkitTransform="matrix3d("+t+",0,0,0,0,"+e+",0,0,0,0,1,0,"+i+","+s+",0,1)"},HybridRenderer.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRenderer.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRenderer.prototype.show=function(){this.resizerElem.style.display="block"},HybridRenderer.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var t,e=this.globalData.compSize.w,i=this.globalData.compSize.h,s=this.threeDElements.length;for(t=0;t<s;t+=1)this.threeDElements[t].perspectiveElem.style.perspective=this.threeDElements[t].perspectiveElem.style.webkitPerspective=Math.sqrt(Math.pow(e,2)+Math.pow(i,2))+"px"}},HybridRenderer.prototype.searchExtraCompositions=function(t){var e,i=t.length,s=document.createElement("div");for(e=0;e<i;e+=1)if(t[e].xt){var r=this.createComp(t[e],s,this.globalData.comp,null);r.initExpressions(),this.globalData.projectInterface.registerComposition(r)}},createElement(BaseElement,CVBaseElement),CVBaseElement.prototype.createElements=function(){this.checkParenting()},CVBaseElement.prototype.checkBlendMode=function(t){if(t.blendMode!==this.data.bm){t.blendMode=this.data.bm;var e="";switch(this.data.bm){case 0:e="normal";break;case 1:e="multiply";break;case 2:e="screen";break;case 3:e="overlay";break;case 4:e="darken";break;case 5:e="lighten";break;case 6:e="color-dodge";break;case 7:e="color-burn";break;case 8:e="hard-light";break;case 9:e="soft-light";break;case 10:e="difference";break;case 11:e="exclusion";break;case 12:e="hue";break;case 13:e="saturation";break;case 14:e="color";break;case 15:e="luminosity"}t.canvasContext.globalCompositeOperation=e}},CVBaseElement.prototype.renderFrame=function(t){if(3===this.data.ty)return!1;if(this.checkBlendMode(0===this.data.ty?this.parentGlobalData:this.globalData),!this.isVisible)return this.isVisible;var e;this.finalTransform.opMdf=this.finalTransform.op.mdf,this.finalTransform.matMdf=this.finalTransform.mProp.mdf,this.finalTransform.opacity=this.finalTransform.op.v;var i=this.finalTransform.mat;if(this.hierarchy){var s,r=this.hierarchy.length;for(e=this.finalTransform.mProp.v.props,i.cloneFromProps(e),s=0;s<r;s+=1)this.finalTransform.matMdf=!!this.hierarchy[s].finalTransform.mProp.mdf||this.finalTransform.matMdf,e=this.hierarchy[s].finalTransform.mProp.v.props,i.transform(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}else t?(e=this.finalTransform.mProp.v.props,i.cloneFromProps(e)):i.cloneFromProps(this.finalTransform.mProp.v.props);return t&&(e=t.mat.props,i.transform(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]),this.finalTransform.opacity*=t.opacity,this.finalTransform.opMdf=!!t.opMdf||this.finalTransform.opMdf,this.finalTransform.matMdf=!!t.matMdf||this.finalTransform.matMdf),this.data.hasMask&&(this.globalData.renderer.save(!0),this.maskManager.renderFrame(0===this.data.ty?null:i)),this.data.hd&&(this.isVisible=!1),this.isVisible},CVBaseElement.prototype.addMasks=function(t){this.maskManager=new CVMaskElement(t,this,this.globalData)},CVBaseElement.prototype.destroy=function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager&&this.maskManager.destroy()},CVBaseElement.prototype.mHelper=new Matrix,createElement(CVBaseElement,CVCompElement),CVCompElement.prototype.ctxTransform=CanvasRenderer.prototype.ctxTransform,CVCompElement.prototype.ctxOpacity=CanvasRenderer.prototype.ctxOpacity,CVCompElement.prototype.save=CanvasRenderer.prototype.save,CVCompElement.prototype.restore=CanvasRenderer.prototype.restore,CVCompElement.prototype.reset=function(){this.contextData.cArrPos=0,this.contextData.cTr.reset(),this.contextData.cO=1},CVCompElement.prototype.resize=function(t){var e=Math.max(t.sx,t.sy);this.canvas.width=this.data.w*e,this.canvas.height=this.data.h*e,this.transformCanvas={sc:e,w:this.data.w*e,h:this.data.h*e,props:[e,0,0,0,0,e,0,0,0,0,1,0,0,0,0,1]};var i,s=this.elements.length;for(i=0;i<s;i+=1)this.elements[i]&&0===this.elements[i].data.ty&&this.elements[i].resize(t)},CVCompElement.prototype.prepareFrame=function(t){if(this.globalData.frameId=this.parentGlobalData.frameId,this.globalData.mdf=!1,this._parent.prepareFrame.call(this,t),!1!==this.isVisible||this.data.xt){var e=t;this.tm&&(e=this.tm.v)===this.data.op&&(e=this.data.op-1),this.renderedFrame=e/this.data.sr;var i,s=this.elements.length;for(this.completeLayers||this.checkLayers(t),i=0;i<s;i+=1)(this.completeLayers||this.elements[i])&&(this.elements[i].prepareFrame(e/this.data.sr-this.layers[i].st),0===this.elements[i].data.ty&&this.elements[i].globalData.mdf&&(this.globalData.mdf=!0));this.globalData.mdf&&!this.data.xt&&(this.canvasContext.clearRect(0,0,this.data.w,this.data.h),this.ctxTransform(this.transformCanvas.props))}},CVCompElement.prototype.renderFrame=function(t){if(!1!==this._parent.renderFrame.call(this,t)){var e;if(this.globalData.mdf)for(e=this.layers.length-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame();this.data.hasMask&&this.globalData.renderer.restore(!0),this.firstFrame&&(this.firstFrame=!1),this.parentGlobalData.renderer.save(),this.parentGlobalData.renderer.ctxTransform(this.finalTransform.mat.props),this.parentGlobalData.renderer.ctxOpacity(this.finalTransform.opacity),this.parentGlobalData.renderer.canvasContext.drawImage(this.canvas,0,0,this.data.w,this.data.h),this.parentGlobalData.renderer.restore(),this.globalData.mdf&&this.reset()}},CVCompElement.prototype.setElements=function(t){this.elements=t},CVCompElement.prototype.getElements=function(){return this.elements},CVCompElement.prototype.destroy=function(){var t;for(t=this.layers.length-1;t>=0;t-=1)this.elements[t].destroy();this.layers=null,this.elements=null,this._parent.destroy.call(this._parent)},CVCompElement.prototype.checkLayers=CanvasRenderer.prototype.checkLayers,CVCompElement.prototype.buildItem=CanvasRenderer.prototype.buildItem,CVCompElement.prototype.checkPendingElements=CanvasRenderer.prototype.checkPendingElements,CVCompElement.prototype.addPendingElement=CanvasRenderer.prototype.addPendingElement,CVCompElement.prototype.buildAllItems=CanvasRenderer.prototype.buildAllItems,CVCompElement.prototype.createItem=CanvasRenderer.prototype.createItem,CVCompElement.prototype.createImage=CanvasRenderer.prototype.createImage,CVCompElement.prototype.createComp=CanvasRenderer.prototype.createComp,CVCompElement.prototype.createSolid=CanvasRenderer.prototype.createSolid,CVCompElement.prototype.createShape=CanvasRenderer.prototype.createShape,CVCompElement.prototype.createText=CanvasRenderer.prototype.createText,CVCompElement.prototype.createBase=CanvasRenderer.prototype.createBase,CVCompElement.prototype.buildElementParenting=CanvasRenderer.prototype.buildElementParenting,createElement(CVBaseElement,CVImageElement),CVImageElement.prototype.createElements=function(){var t=function(){if(this.globalData.elementLoaded(),this.assetData.w!==this.img.width||this.assetData.h!==this.img.height){var t=document.createElement("canvas");t.width=this.assetData.w,t.height=this.assetData.h;var e,i,s=t.getContext("2d"),r=this.img.width,n=this.img.height,a=r/n,o=this.assetData.w/this.assetData.h;a>o?e=(i=n)*o:i=(e=r)/o,s.drawImage(this.img,(r-e)/2,(n-i)/2,e,i,0,0,this.assetData.w,this.assetData.h),this.img=t}}.bind(this),e=function(){this.failed=!0,this.globalData.elementLoaded()}.bind(this);this.img=new Image,this.img.addEventListener("load",t,!1),this.img.addEventListener("error",e,!1);var i=this.globalData.getAssetsPath(this.assetData);this.img.src=i,this._parent.createElements.call(this)},CVImageElement.prototype.renderFrame=function(t){if(!this.failed&&!1!==this._parent.renderFrame.call(this,t)){var e=this.canvasContext;this.globalData.renderer.save();var i=this.finalTransform.mat.props;this.globalData.renderer.ctxTransform(i),this.globalData.renderer.ctxOpacity(this.finalTransform.opacity),e.drawImage(this.img,0,0),this.globalData.renderer.restore(this.data.hasMask),this.firstFrame&&(this.firstFrame=!1)}},CVImageElement.prototype.destroy=function(){this.img=null,this._parent.destroy.call(this._parent)},CVMaskElement.prototype.prepareFrame=function(t){var e,i=this.dynamicProperties.length;for(e=0;e<i;e+=1)this.dynamicProperties[e].getValue(t),this.dynamicProperties[e].mdf&&(this.element.globalData.mdf=!0)},CVMaskElement.prototype.renderFrame=function(t){var e,i,s,r,n,a=this.element.canvasContext,o=this.data.masksProperties.length,h=!1;for(e=0;e<o;e++)if("n"!==this.masksProperties[e].mode){!1===h&&(a.beginPath(),h=!0),this.masksProperties[e].inv&&(a.moveTo(0,0),a.lineTo(this.element.globalData.compWidth,0),a.lineTo(this.element.globalData.compWidth,this.element.globalData.compHeight),a.lineTo(0,this.element.globalData.compHeight),a.lineTo(0,0)),n=this.viewData[e].v,i=t?t.applyToPointArray(n.v[0][0],n.v[0][1],0):n.v[0],a.moveTo(i[0],i[1]);var l,c=n._length;for(l=1;l<c;l++)i=t?t.applyToPointArray(n.o[l-1][0],n.o[l-1][1],0):n.o[l-1],s=t?t.applyToPointArray(n.i[l][0],n.i[l][1],0):n.i[l],r=t?t.applyToPointArray(n.v[l][0],n.v[l][1],0):n.v[l],a.bezierCurveTo(i[0],i[1],s[0],s[1],r[0],r[1]);i=t?t.applyToPointArray(n.o[l-1][0],n.o[l-1][1],0):n.o[l-1],s=t?t.applyToPointArray(n.i[0][0],n.i[0][1],0):n.i[0],r=t?t.applyToPointArray(n.v[0][0],n.v[0][1],0):n.v[0],a.bezierCurveTo(i[0],i[1],s[0],s[1],r[0],r[1])}h&&a.clip()},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null},createElement(CVBaseElement,CVShapeElement),CVShapeElement.prototype.transformHelper={opacity:1,mat:new Matrix,matMdf:!1,opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createElements=function(){this._parent.createElements.call(this),this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.dynamicProperties,!0)},CVShapeElement.prototype.createStyleElement=function(t,e){var i={data:t,type:t.ty,elements:[]},s={};if("fl"!=t.ty&&"st"!=t.ty||(s.c=PropertyFactory.getProp(this,t.c,1,255,e),s.c.k||(i.co="rgb("+bm_floor(s.c.v[0])+","+bm_floor(s.c.v[1])+","+bm_floor(s.c.v[2])+")")),s.o=PropertyFactory.getProp(this,t.o,0,.01,e),"st"==t.ty){if(i.lc=this.lcEnum[t.lc]||"round",i.lj=this.ljEnum[t.lj]||"round",1==t.lj&&(i.ml=t.ml),s.w=PropertyFactory.getProp(this,t.w,0,null,e),s.w.k||(i.wi=s.w.v),t.d){var r=PropertyFactory.getDashProp(this,t.d,"canvas",e);s.d=r,s.d.k||(i.da=s.d.dasharray,i.do=s.d.dashoffset)}}else i.r=2===t.r?"evenodd":"nonzero";return this.stylesList.push(i),s.style=i,s},CVShapeElement.prototype.createGroupElement=function(t){return{it:[],prevViewData:[]}},CVShapeElement.prototype.createTransformElement=function(t,e){return{transform:{mat:new Matrix,opacity:1,matMdf:!1,opMdf:!1,op:PropertyFactory.getProp(this,t.o,0,.01,e),mProps:PropertyFactory.getProp(this,t,2,null,e)},elements:[]}},CVShapeElement.prototype.createShapeElement=function(t,e){var i={nodes:[],trNodes:[],tr:[0,0,0,0,0,0]},s=4;"rc"==t.ty?s=5:"el"==t.ty?s=6:"sr"==t.ty&&(s=7),i.sh=ShapePropertyFactory.getShapeProp(this,t,s,e),this.shapes.push(i.sh),this.addShapeToModifiers(i),jLen=this.stylesList.length;var r=!1,n=!1;for(j=0;j<jLen;j+=1)this.stylesList[j].closed||(this.stylesList[j].elements.push(i),"st"===this.stylesList[j].type?r=!0:n=!0);return i.st=r,i.fl=n,i},CVShapeElement.prototype.reloadShapes=function(){this.firstFrame=!0;var t=this.itemsData.length;for(e=0;e<t;e+=1)this.prevViewData[e]=this.itemsData[e];this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.dynamicProperties,!0);var e;t=this.dynamicProperties.length;for(e=0;e<t;e+=1)this.dynamicProperties[e].getValue();this.renderModifiers()},CVShapeElement.prototype.searchShapes=function(t,e,i,s,r){var n,a,o,h,l=t.length-1,c=[],p=[];for(n=l;n>=0;n-=1){if((h=this.searchProcessedElement(t[n]))?e[n]=i[h-1]:t[n]._render=r,"fl"==t[n].ty||"st"==t[n].ty)h?e[n].style.closed=!1:e[n]=this.createStyleElement(t[n],s),c.push(e[n].style);else if("gr"==t[n].ty){if(h)for(o=e[n].it.length,a=0;a<o;a+=1)e[n].prevViewData[a]=e[n].it[a];else e[n]=this.createGroupElement(t[n]);this.searchShapes(t[n].it,e[n].it,e[n].prevViewData,s,r)}else if("tr"==t[n].ty)h||(e[n]=this.createTransformElement(t[n],s));else if("sh"==t[n].ty||"rc"==t[n].ty||"el"==t[n].ty||"sr"==t[n].ty)h||(e[n]=this.createShapeElement(t[n],s));else if("tm"==t[n].ty||"rd"==t[n].ty){if(h)(u=e[n]).closed=!1;else{var u=ShapeModifiers.getModifier(t[n].ty);u.init(this,t[n],s),e[n]=u,this.shapeModifiers.push(u)}p.push(u)}else"rp"==t[n].ty&&(h?(u=e[n]).closed=!0:(u=ShapeModifiers.getModifier(t[n].ty),e[n]=u,u.init(this,t,n,e,s),this.shapeModifiers.push(u),r=!1),p.push(u));this.addProcessedElement(t[n],n+1)}for(l=c.length,n=0;n<l;n+=1)c[n].closed=!0;for(l=p.length,n=0;n<l;n+=1)p[n].closed=!0},CVShapeElement.prototype.addShapeToModifiers=IShapeElement.prototype.addShapeToModifiers,CVShapeElement.prototype.renderModifiers=IShapeElement.prototype.renderModifiers,CVShapeElement.prototype.lcEnum=IShapeElement.prototype.lcEnum,CVShapeElement.prototype.ljEnum=IShapeElement.prototype.ljEnum,CVShapeElement.prototype.searchProcessedElement=IShapeElement.prototype.searchProcessedElement,CVShapeElement.prototype.addProcessedElement=IShapeElement.prototype.addProcessedElement,CVShapeElement.prototype.renderFrame=function(t){!1!==this._parent.renderFrame.call(this,t)&&(this.transformHelper.mat.reset(),this.transformHelper.opacity=this.finalTransform.opacity,this.transformHelper.matMdf=!1,this.transformHelper.opMdf=this.finalTransform.opMdf,this.renderModifiers(),this.renderShape(this.transformHelper,null,null,!0),this.data.hasMask&&this.globalData.renderer.restore(!0))},CVShapeElement.prototype.renderShape=function(t,e,i,s){var r,n,a,o;if(!e)for(e=this.shapesData,n=this.stylesList.length,r=0;r<n;r+=1)this.stylesList[r].d="",this.stylesList[r].mdf=!1;for(i||(i=this.itemsData),a=t,r=n=e.length-1;r>=0;r-=1)if("tr"==e[r].ty){a=i[r].transform;var h=i[r].transform.mProps.v.props;if(a.matMdf=a.mProps.mdf,a.opMdf=a.op.mdf,(o=a.mat).cloneFromProps(h),t){var l=t.mat.props;a.opacity=t.opacity,a.opacity*=i[r].transform.op.v,a.matMdf=!!t.matMdf||a.matMdf,a.opMdf=!!t.opMdf||a.opMdf,o.transform(l[0],l[1],l[2],l[3],l[4],l[5],l[6],l[7],l[8],l[9],l[10],l[11],l[12],l[13],l[14],l[15])}else a.opacity=a.op.o}else"sh"==e[r].ty||"el"==e[r].ty||"rc"==e[r].ty||"sr"==e[r].ty?this.renderPath(e[r],i[r],a):"fl"==e[r].ty?this.renderFill(e[r],i[r],a):"st"==e[r].ty?this.renderStroke(e[r],i[r],a):"gr"==e[r].ty?this.renderShape(a,e[r].it,i[r].it):e[r].ty;if(s){n=this.stylesList.length;var c,p,u,f,d,m,y,v=this.globalData.renderer,g=this.globalData.canvasContext;for(v.save(),v.ctxTransform(this.finalTransform.mat.props),r=0;r<n;r+=1)if(("st"!==(y=this.stylesList[r].type)||0!==this.stylesList[r].wi)&&this.stylesList[r].data._render){for(v.save(),d=this.stylesList[r].elements,"st"===y?(g.strokeStyle=this.stylesList[r].co,g.lineWidth=this.stylesList[r].wi,g.lineCap=this.stylesList[r].lc,g.lineJoin=this.stylesList[r].lj,g.miterLimit=this.stylesList[r].ml||0):g.fillStyle=this.stylesList[r].co,v.ctxOpacity(this.stylesList[r].coOp),"st"!==y&&g.beginPath(),p=d.length,c=0;c<p;c+=1){for("st"===y&&(g.beginPath(),this.stylesList[r].da?(g.setLineDash(this.stylesList[r].da),g.lineDashOffset=this.stylesList[r].do,this.globalData.isDashed=!0):this.globalData.isDashed&&(g.setLineDash(this.dashResetter),this.globalData.isDashed=!1)),f=(m=d[c].trNodes).length,u=0;u<f;u+=1)"m"==m[u].t?g.moveTo(m[u].p[0],m[u].p[1]):"c"==m[u].t?g.bezierCurveTo(m[u].p1[0],m[u].p1[1],m[u].p2[0],m[u].p2[1],m[u].p3[0],m[u].p3[1]):g.closePath();"st"===y&&g.stroke()}"st"!==y&&g.fill(this.stylesList[r].r),v.restore()}v.restore(),this.firstFrame&&(this.firstFrame=!1)}},CVShapeElement.prototype.renderPath=function(t,e,i){var s,r,n,a;if(i.matMdf||e.sh.mdf||this.firstFrame){var o=e.sh.paths,h=i.mat;a=o._length;var l=e.trNodes;for(l.length=0,n=0;n<a;n+=1){var c=o.shapes[n];if(c&&c.v){for(s=c._length,r=1;r<s;r+=1)1==r&&l.push({t:"m",p:h.applyToPointArray(c.v[0][0],c.v[0][1],0)}),l.push({t:"c",p1:h.applyToPointArray(c.o[r-1][0],c.o[r-1][1],0),p2:h.applyToPointArray(c.i[r][0],c.i[r][1],0),p3:h.applyToPointArray(c.v[r][0],c.v[r][1],0)});1==s&&l.push({t:"m",p:h.applyToPointArray(c.v[0][0],c.v[0][1],0)}),c.c&&s&&(l.push({t:"c",p1:h.applyToPointArray(c.o[r-1][0],c.o[r-1][1],0),p2:h.applyToPointArray(c.i[0][0],c.i[0][1],0),p3:h.applyToPointArray(c.v[0][0],c.v[0][1],0)}),l.push({t:"z"})),e.lStr=l}}if(e.st)for(r=0;r<16;r+=1)e.tr[r]=i.mat.props[r];e.trNodes=l}},CVShapeElement.prototype.renderFill=function(t,e,i){var s=e.style;(e.c.mdf||this.firstFrame)&&(s.co="rgb("+bm_floor(e.c.v[0])+","+bm_floor(e.c.v[1])+","+bm_floor(e.c.v[2])+")"),(e.o.mdf||i.opMdf||this.firstFrame)&&(s.coOp=e.o.v*i.opacity)},CVShapeElement.prototype.renderStroke=function(t,e,i){var s=e.style,r=e.d;r&&(r.mdf||this.firstFrame)&&(s.da=r.dasharray,s.do=r.dashoffset),(e.c.mdf||this.firstFrame)&&(s.co="rgb("+bm_floor(e.c.v[0])+","+bm_floor(e.c.v[1])+","+bm_floor(e.c.v[2])+")"),(e.o.mdf||i.opMdf||this.firstFrame)&&(s.coOp=e.o.v*i.opacity),(e.w.mdf||this.firstFrame)&&(s.wi=e.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemData.length=0,this._parent.destroy.call(this._parent)},createElement(CVBaseElement,CVSolidElement),CVSolidElement.prototype.renderFrame=function(t){if(!1!==this._parent.renderFrame.call(this,t)){var e=this.canvasContext;this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(this.finalTransform.mat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.opacity),e.fillStyle=this.data.sc,e.fillRect(0,0,this.data.sw,this.data.sh),this.globalData.renderer.restore(this.data.hasMask),this.firstFrame&&(this.firstFrame=!1)}},createElement(CVBaseElement,CVTextElement),extendPrototype(ITextElement,CVTextElement),CVTextElement.prototype.tHelper=document.createElement("canvas").getContext("2d"),CVTextElement.prototype.createElements=function(){this._parent.createElements.call(this)},CVTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=Array.apply(null,{length:t.l?t.l.length:0});var e=!1;t.fc?(e=!0,this.values.fill=this.buildColor(t.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=e;var i=!1;t.sc&&(i=!0,this.values.stroke=this.buildColor(t.sc),this.values.sWidth=t.sw);var s,r,n=this.globalData.fontManager.getFontByName(t.f),a=t.l,o=this.mHelper;this.stroke=i,this.values.fValue=t.s+"px "+this.globalData.fontManager.getFontByName(t.f).fFamily,r=t.t.length;var h,l,c,p,u,f,d,m,y,v,g=this.data.singleShape,_=t.tr/1e3*t.s,b=0,x=0,w=!0,k=0;for(s=0;s<r;s+=1){for(l=(h=this.globalData.fontManager.getCharData(t.t.charAt(s),n.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily))&&h.data||{},o.reset(),g&&a[s].n&&(b=-_,x+=t.yOffset,x+=w?1:0,w=!1),d=(u=l.shapes?l.shapes[0].it:[]).length,o.scale(t.s/100,t.s/100),g&&this.applyTextPropertiesToMatrix(t,o,a[s].line,b,x),y=Array.apply(null,{length:d}),f=0;f<d;f+=1){for(p=u[f].ks.k.i.length,m=u[f].ks.k,v=[],c=1;c<p;c+=1)1==c&&v.push(o.applyToX(m.v[0][0],m.v[0][1],0),o.applyToY(m.v[0][0],m.v[0][1],0)),v.push(o.applyToX(m.o[c-1][0],m.o[c-1][1],0),o.applyToY(m.o[c-1][0],m.o[c-1][1],0),o.applyToX(m.i[c][0],m.i[c][1],0),o.applyToY(m.i[c][0],m.i[c][1],0),o.applyToX(m.v[c][0],m.v[c][1],0),o.applyToY(m.v[c][0],m.v[c][1],0));v.push(o.applyToX(m.o[c-1][0],m.o[c-1][1],0),o.applyToY(m.o[c-1][0],m.o[c-1][1],0),o.applyToX(m.i[0][0],m.i[0][1],0),o.applyToY(m.i[0][0],m.i[0][1],0),o.applyToX(m.v[0][0],m.v[0][1],0),o.applyToY(m.v[0][0],m.v[0][1],0)),y[f]=v}g&&(b+=a[s].l,b+=_),this.textSpans[k]?this.textSpans[k].elem=y:this.textSpans[k]={elem:y},k+=1}},CVTextElement.prototype.renderFrame=function(t){if(!1!==this._parent.renderFrame.call(this,t)){var e,i,s,r,n,a,o=this.canvasContext,h=this.finalTransform.mat.props;this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(h),this.globalData.renderer.ctxOpacity(this.finalTransform.opacity),o.font=this.values.fValue,o.lineCap="butt",o.lineJoin="miter",o.miterLimit=4,this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var l,c=this.textAnimator.renderedLetters,p=this.textProperty.currentData.l;i=p.length;var u,f,d=null,m=null,y=null;for(e=0;e<i;e+=1)if(!p[e].n){if((l=c[e])&&(this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(l.p),this.globalData.renderer.ctxOpacity(l.o)),this.fill){for(l&&l.fc?d!==l.fc&&(d=l.fc,o.fillStyle=l.fc):d!==this.values.fill&&(d=this.values.fill,o.fillStyle=this.values.fill),r=(u=this.textSpans[e].elem).length,this.globalData.canvasContext.beginPath(),s=0;s<r;s+=1)for(a=(f=u[s]).length,this.globalData.canvasContext.moveTo(f[0],f[1]),n=2;n<a;n+=6)this.globalData.canvasContext.bezierCurveTo(f[n],f[n+1],f[n+2],f[n+3],f[n+4],f[n+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.fill()}if(this.stroke){for(l&&l.sw?y!==l.sw&&(y=l.sw,o.lineWidth=l.sw):y!==this.values.sWidth&&(y=this.values.sWidth,o.lineWidth=this.values.sWidth),l&&l.sc?m!==l.sc&&(m=l.sc,o.strokeStyle=l.sc):m!==this.values.stroke&&(m=this.values.stroke,o.strokeStyle=this.values.stroke),r=(u=this.textSpans[e].elem).length,this.globalData.canvasContext.beginPath(),s=0;s<r;s+=1)for(a=(f=u[s]).length,this.globalData.canvasContext.moveTo(f[0],f[1]),n=2;n<a;n+=6)this.globalData.canvasContext.bezierCurveTo(f[n],f[n+1],f[n+2],f[n+3],f[n+4],f[n+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.stroke()}l&&this.globalData.renderer.restore()}this.globalData.renderer.restore(this.data.hasMask),this.firstFrame&&(this.firstFrame=!1)}},createElement(BaseElement,HBaseElement),HBaseElement.prototype.checkBlendMode=function(){},HBaseElement.prototype.setBlendMode=BaseElement.prototype.setBlendMode,HBaseElement.prototype.getBaseElement=function(){return this.baseElement},HBaseElement.prototype.createElements=function(){this.data.hasMask?(this.layerElement=document.createElementNS(svgNS,"svg"),styleDiv(this.layerElement),this.baseElement=this.layerElement,this.maskedElement=this.layerElement):this.layerElement=this.parentContainer,this.transformedElement=this.layerElement,!this.data.ln||4!==this.data.ty&&0!==this.data.ty||(this.layerElement===this.parentContainer&&(this.layerElement=document.createElementNS(svgNS,"g"),this.baseElement=this.layerElement),this.layerElement.setAttribute("id",this.data.ln)),this.setBlendMode(),this.layerElement!==this.parentContainer&&(this.placeholder=null),this.checkParenting()},HBaseElement.prototype.renderFrame=function(t){if(3===this.data.ty)return!1;if(this.currentFrameNum===this.lastNum||!this.isVisible)return this.isVisible;var e;this.lastNum=this.currentFrameNum,this.finalTransform.opMdf=this.finalTransform.op.mdf,this.finalTransform.matMdf=this.finalTransform.mProp.mdf,this.finalTransform.opacity=this.finalTransform.op.v,this.firstFrame&&(this.finalTransform.opMdf=!0,this.finalTransform.matMdf=!0);var i=this.finalTransform.mat;if(this.hierarchy){var s,r=this.hierarchy.length;for(e=this.finalTransform.mProp.v.props,i.cloneFromProps(e),s=0;s<r;s+=1)this.finalTransform.matMdf=!!this.hierarchy[s].finalTransform.mProp.mdf||this.finalTransform.matMdf,e=this.hierarchy[s].finalTransform.mProp.v.props,i.transform(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}else this.isVisible&&this.finalTransform.matMdf&&(t?(e=this.finalTransform.mProp.v.props,i.cloneFromProps(e)):i.cloneFromProps(this.finalTransform.mProp.v.props));return this.data.hasMask&&this.maskManager.renderFrame(i),t&&(e=t.mat.props,i.cloneFromProps(e),this.finalTransform.opacity*=t.opacity,this.finalTransform.opMdf=!!t.opMdf||this.finalTransform.opMdf,this.finalTransform.matMdf=!!t.matMdf||this.finalTransform.matMdf),this.finalTransform.matMdf&&(this.transformedElement.style.transform=this.transformedElement.style.webkitTransform=i.toCSS(),this.finalMat=i),this.finalTransform.opMdf&&(this.transformedElement.style.opacity=this.finalTransform.opacity),this.isVisible},HBaseElement.prototype.destroy=function(){this.layerElement=null,this.transformedElement=null,this.parentContainer=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},HBaseElement.prototype.getDomElement=function(){return this.layerElement},HBaseElement.prototype.addMasks=function(t){this.maskManager=new MaskElement(t,this,this.globalData)},HBaseElement.prototype.hide=function(){},HBaseElement.prototype.setMatte=function(){},HBaseElement.prototype.buildElementParenting=HybridRenderer.prototype.buildElementParenting,createElement(HBaseElement,HSolidElement),HSolidElement.prototype.createElements=function(){var t=document.createElement("div");styleDiv(t);var e=document.createElementNS(svgNS,"svg");styleDiv(e),e.setAttribute("width",this.data.sw),e.setAttribute("height",this.data.sh),t.appendChild(e),this.layerElement=t,this.transformedElement=t,this.baseElement=t,this.innerElem=t,this.data.ln&&this.innerElem.setAttribute("id",this.data.ln),0!==this.data.bm&&this.setBlendMode();var i=document.createElementNS(svgNS,"rect");i.setAttribute("width",this.data.sw),i.setAttribute("height",this.data.sh),i.setAttribute("fill",this.data.sc),e.appendChild(i),this.data.hasMask&&(this.maskedElement=i),this.checkParenting()},HSolidElement.prototype.hide=SVGBaseElement.prototype.hide,HSolidElement.prototype.show=SVGBaseElement.prototype.show,HSolidElement.prototype.renderFrame=IImageElement.prototype.renderFrame,HSolidElement.prototype.destroy=IImageElement.prototype.destroy,createElement(HBaseElement,HCompElement),HCompElement.prototype.createElements=function(){var t=document.createElement("div");if(styleDiv(t),this.data.ln&&t.setAttribute("id",this.data.ln),t.style.clip="rect(0px, "+this.data.w+"px, "+this.data.h+"px, 0px)",this.data.hasMask){var e=document.createElementNS(svgNS,"svg");styleDiv(e),e.setAttribute("width",this.data.w),e.setAttribute("height",this.data.h);var i=document.createElementNS(svgNS,"g");e.appendChild(i),t.appendChild(e),this.maskedElement=i,this.baseElement=t,this.layerElement=i,this.transformedElement=t}else this.layerElement=t,this.baseElement=this.layerElement,this.transformedElement=t;this.checkParenting()},HCompElement.prototype.hide=ICompElement.prototype.hide,HCompElement.prototype.prepareFrame=ICompElement.prototype.prepareFrame,HCompElement.prototype.setElements=ICompElement.prototype.setElements,HCompElement.prototype.getElements=ICompElement.prototype.getElements,HCompElement.prototype.destroy=ICompElement.prototype.destroy,HCompElement.prototype.renderFrame=function(t){var e,i=this._parent.renderFrame.call(this,t),s=this.layers.length;if(!1!==i){for(this.hidden=!1,e=0;e<s;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame();this.firstFrame&&(this.firstFrame=!1)}else this.hide()},HCompElement.prototype.checkLayers=BaseRenderer.prototype.checkLayers,HCompElement.prototype.buildItem=HybridRenderer.prototype.buildItem,HCompElement.prototype.checkPendingElements=HybridRenderer.prototype.checkPendingElements,HCompElement.prototype.addPendingElement=HybridRenderer.prototype.addPendingElement,HCompElement.prototype.buildAllItems=BaseRenderer.prototype.buildAllItems,HCompElement.prototype.createItem=HybridRenderer.prototype.createItem,HCompElement.prototype.buildElementParenting=HybridRenderer.prototype.buildElementParenting,HCompElement.prototype.createImage=HybridRenderer.prototype.createImage,HCompElement.prototype.createComp=HybridRenderer.prototype.createComp,HCompElement.prototype.createSolid=HybridRenderer.prototype.createSolid,HCompElement.prototype.createShape=HybridRenderer.prototype.createShape,HCompElement.prototype.createText=HybridRenderer.prototype.createText,HCompElement.prototype.createBase=HybridRenderer.prototype.createBase,HCompElement.prototype.appendElementInPos=HybridRenderer.prototype.appendElementInPos,createElement(HBaseElement,HShapeElement);var parent=HShapeElement.prototype._parent;function HTextElement(t,e,i,s,r){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this._parent.constructor.call(this,t,e,i,s,r)}function HImageElement(t,e,i,s,r){this.assetData=i.getAssetData(t.refId),this._parent.constructor.call(this,t,e,i,s,r)}function HCameraElement(t,e,i,s,r){this._parent.constructor.call(this,t,e,i,s,r);var n=PropertyFactory.getProp;if(this.pe=n(this,t.pe,0,0,this.dynamicProperties),t.ks.p.s?(this.px=n(this,t.ks.p.x,1,0,this.dynamicProperties),this.py=n(this,t.ks.p.y,1,0,this.dynamicProperties),this.pz=n(this,t.ks.p.z,1,0,this.dynamicProperties)):this.p=n(this,t.ks.p,1,0,this.dynamicProperties),t.ks.a&&(this.a=n(this,t.ks.a,1,0,this.dynamicProperties)),t.ks.or.k.length&&t.ks.or.k[0].to){var a,o=t.ks.or.k.length;for(a=0;a<o;a+=1)t.ks.or.k[a].to=null,t.ks.or.k[a].ti=null}this.or=n(this,t.ks.or,1,degToRads,this.dynamicProperties),this.or.sh=!0,this.rx=n(this,t.ks.rx,0,degToRads,this.dynamicProperties),this.ry=n(this,t.ks.ry,0,degToRads,this.dynamicProperties),this.rz=n(this,t.ks.rz,0,degToRads,this.dynamicProperties),this.mat=new Matrix}extendPrototype(IShapeElement,HShapeElement),HShapeElement.prototype._parent=parent,HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderFrame,HShapeElement.prototype.createElements=function(){var t=document.createElement("div");styleDiv(t);var e=document.createElementNS(svgNS,"svg");styleDiv(e);var i=this.comp.data?this.comp.data:this.globalData.compSize;if(e.setAttribute("width",i.w),e.setAttribute("height",i.h),this.data.hasMask){var s=document.createElementNS(svgNS,"g");t.appendChild(e),e.appendChild(s),this.maskedElement=s,this.layerElement=s,this.shapesContainer=s}else t.appendChild(e),this.layerElement=e,this.shapesContainer=document.createElementNS(svgNS,"g"),this.layerElement.appendChild(this.shapesContainer);this.data.hd||(this.baseElement=t),this.innerElem=t,this.data.ln&&this.innerElem.setAttribute("id",this.data.ln),this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,this.dynamicProperties,0,[],!0),this.buildExpressionInterface(),this.layerElement=t,this.transformedElement=t,this.shapeCont=e,0!==this.data.bm&&this.setBlendMode(),this.checkParenting()},HShapeElement.prototype.renderFrame=function(t){var e=this.firstFrame;if(this._renderShapeFrame(),this.isVisible&&(this.elemMdf||e)){var i=this.shapeCont.getBBox(),s=!1;this.currentBBox.w!==i.width&&(this.currentBBox.w=i.width,this.shapeCont.setAttribute("width",i.width),s=!0),this.currentBBox.h!==i.height&&(this.currentBBox.h=i.height,this.shapeCont.setAttribute("height",i.height),s=!0),(s||this.currentBBox.x!==i.x||this.currentBBox.y!==i.y)&&(this.currentBBox.w=i.width,this.currentBBox.h=i.height,this.currentBBox.x=i.x,this.currentBBox.y=i.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),this.shapeCont.style.transform=this.shapeCont.style.webkitTransform="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)")}},createElement(HBaseElement,HTextElement),extendPrototype(ITextElement,HTextElement),HTextElement.prototype.createElements=function(){this.isMasked=this.checkMasks();var t=document.createElement("div");if(styleDiv(t),this.layerElement=t,this.transformedElement=t,this.isMasked){this.renderType="svg";var e=document.createElementNS(svgNS,"svg");styleDiv(e),this.cont=e,this.compW=this.comp.data.w,this.compH=this.comp.data.h,e.setAttribute("width",this.compW),e.setAttribute("height",this.compH);var i=document.createElementNS(svgNS,"g");e.appendChild(i),t.appendChild(e),this.maskedElement=i,this.innerElem=i}else this.renderType="html",this.innerElem=t;this.baseElement=t,this.checkParenting()},HTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=Array.apply(null,{length:this.textProperty.currentData.l?this.textProperty.currentData.l.length:0});var e=this.innerElem.style;e.color=e.fill=t.fc?this.buildColor(t.fc):"rgba(0,0,0,0)",t.sc&&(e.stroke=this.buildColor(t.sc),e.strokeWidth=t.sw+"px");var i,s,r=this.globalData.fontManager.getFontByName(t.f);if(!this.globalData.fontManager.chars)if(e.fontSize=t.s+"px",e.lineHeight=t.s+"px",r.fClass)this.innerElem.className=r.fClass;else{e.fontFamily=r.fFamily;var n=t.fWeight,a=t.fStyle;e.fontStyle=a,e.fontWeight=n}var o,h,l,c=t.l;s=c.length;var p,u=this.mHelper,f="",d=0;for(i=0;i<s;i+=1){if(this.globalData.fontManager.chars?(this.textPaths[d]?o=this.textPaths[d]:((o=document.createElementNS(svgNS,"path")).setAttribute("stroke-linecap","butt"),o.setAttribute("stroke-linejoin","round"),o.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[d]?l=(h=this.textSpans[d]).children[0]:(h=document.createElement("div"),(l=document.createElementNS(svgNS,"svg")).appendChild(o),styleDiv(h)))):this.isMasked?o=this.textPaths[d]?this.textPaths[d]:document.createElementNS(svgNS,"text"):this.textSpans[d]?(h=this.textSpans[d],o=this.textPaths[d]):(styleDiv(h=document.createElement("span")),styleDiv(o=document.createElement("span")),h.appendChild(o)),this.globalData.fontManager.chars){var m,y=this.globalData.fontManager.getCharData(t.t.charAt(i),r.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily);if(m=y?y.data:null,u.reset(),m&&m.shapes&&(p=m.shapes[0].it,u.scale(t.s/100,t.s/100),f=this.createPathShape(u,p),o.setAttribute("d",f)),this.isMasked)this.innerElem.appendChild(o);else if(this.innerElem.appendChild(h),m&&m.shapes){document.body.appendChild(l);var v=l.getBBox();l.setAttribute("width",v.width+2),l.setAttribute("height",v.height+2),l.setAttribute("viewBox",v.x-1+" "+(v.y-1)+" "+(v.width+2)+" "+(v.height+2)),l.style.transform=l.style.webkitTransform="translate("+(v.x-1)+"px,"+(v.y-1)+"px)",c[i].yOffset=v.y-1,h.appendChild(l)}else l.setAttribute("width",1),l.setAttribute("height",1)}else o.textContent=c[i].val,o.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked?this.innerElem.appendChild(o):(this.innerElem.appendChild(h),o.style.transform=o.style.webkitTransform="translate3d(0,"+-t.s/1.2+"px,0)");this.isMasked?this.textSpans[d]=o:this.textSpans[d]=h,this.textSpans[d].style.display="block",this.textPaths[d]=o,d+=1}for(;d<this.textSpans.length;)this.textSpans[d].style.display="none",d+=1},HTextElement.prototype.hide=SVGTextElement.prototype.hide,HTextElement.prototype.renderFrame=function(t){if(!1!==this._parent.renderFrame.call(this,t)){if(this.hidden&&(this.hidden=!1,this.innerElem.style.display="block",this.layerElement.style.display="block"),this.data.singleShape){if(!this.firstFrame&&!this.lettersChangedFlag)return;this.isMasked&&this.finalTransform.matMdf&&(this.cont.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),this.cont.style.transform=this.cont.style.webkitTransform="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)")}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){var e,i,s,r,n,a=0,o=this.textAnimator.renderedLetters,h=this.textProperty.currentData.l;for(i=h.length,e=0;e<i;e+=1)h[e].n?a+=1:(r=this.textSpans[e],n=this.textPaths[e],s=o[a],a+=1,this.isMasked?r.setAttribute("transform",s.m):r.style.transform=r.style.webkitTransform=s.m,r.style.opacity=s.o,s.sw&&n.setAttribute("stroke-width",s.sw),s.sc&&n.setAttribute("stroke",s.sc),s.fc&&(n.setAttribute("fill",s.fc),n.style.color=s.fc));if(this.isVisible&&(this.elemMdf||this.firstFrame)&&this.innerElem.getBBox){var l=this.innerElem.getBBox();this.currentBBox.w!==l.width&&(this.currentBBox.w=l.width,this.cont.setAttribute("width",l.width)),this.currentBBox.h!==l.height&&(this.currentBBox.h=l.height,this.cont.setAttribute("height",l.height));this.currentBBox.w===l.width+2&&this.currentBBox.h===l.height+2&&this.currentBBox.x===l.x-1&&this.currentBBox.y===l.y-1||(this.currentBBox.w=l.width+2,this.currentBBox.h=l.height+2,this.currentBBox.x=l.x-1,this.currentBBox.y=l.y-1,this.cont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),this.cont.style.transform=this.cont.style.webkitTransform="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)")}this.firstFrame&&(this.firstFrame=!1)}}else this.hide()},createElement(HBaseElement,HImageElement),HImageElement.prototype.createElements=function(){var t=this.globalData.getAssetsPath(this.assetData),e=new Image;if(this.data.hasMask){var i=document.createElement("div");styleDiv(i);var s=document.createElementNS(svgNS,"svg");styleDiv(s),s.setAttribute("width",this.assetData.w),s.setAttribute("height",this.assetData.h),i.appendChild(s),this.imageElem=document.createElementNS(svgNS,"image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),s.appendChild(this.imageElem),this.layerElement=i,this.transformedElement=i,this.baseElement=i,this.innerElem=i,this.maskedElement=this.imageElem}else styleDiv(e),this.layerElement=e,this.baseElement=e,this.innerElem=e,this.transformedElement=e;e.src=t,this.data.ln&&this.innerElem.setAttribute("id",this.data.ln),this.checkParenting()},HImageElement.prototype.show=HSolidElement.prototype.show,HImageElement.prototype.hide=HSolidElement.prototype.hide,HImageElement.prototype.renderFrame=HSolidElement.prototype.renderFrame,HImageElement.prototype.destroy=HSolidElement.prototype.destroy,createElement(HBaseElement,HCameraElement),HCameraElement.prototype.setup=function(){var t,e,i=this.comp.threeDElements.length;for(t=0;t<i;t+=1)(e=this.comp.threeDElements[t]).perspectiveElem.style.perspective=e.perspectiveElem.style.webkitPerspective=this.pe.v+"px",e.container.style.transformOrigin=e.container.style.mozTransformOrigin=e.container.style.webkitTransformOrigin="0px 0px 0px",e.perspectiveElem.style.transform=e.perspectiveElem.style.webkitTransform="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)"},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var t,e,i=this.firstFrame;if(this.hierarchy)for(e=this.hierarchy.length,t=0;t<e;t+=1)i=!!this.hierarchy[t].finalTransform.mProp.mdf||i;if(i||this.p&&this.p.mdf||this.px&&(this.px.mdf||this.py.mdf||this.pz.mdf)||this.rx.mdf||this.ry.mdf||this.rz.mdf||this.or.mdf||this.a&&this.a.mdf){if(this.mat.reset(),this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var s=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]],r=Math.sqrt(Math.pow(s[0],2)+Math.pow(s[1],2)+Math.pow(s[2],2)),n=[s[0]/r,s[1]/r,s[2]/r],a=Math.sqrt(n[2]*n[2]+n[0]*n[0]),o=Math.atan2(n[1],a),h=Math.atan2(n[0],-n[2]);this.mat.rotateY(h).rotateX(-o)}var l,c;if(this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v),this.hierarchy)for(e=this.hierarchy.length,t=0;t<e;t+=1)l=this.hierarchy[t].finalTransform.mProp.iv.props,this.mat.transform(l[0],l[1],l[2],l[3],l[4],l[5],l[6],l[7],l[8],l[9],l[10],l[11],-l[12],-l[13],l[14],l[15]);for(e=this.comp.threeDElements.length,t=0;t<e;t+=1)(c=this.comp.threeDElements[t]).container.style.transform=c.container.style.webkitTransform=this.mat.toCSS()}this.firstFrame=!1},HCameraElement.prototype.destroy=function(){};var Expressions=function(){var t={};return t.initExpressions=function(t){t.renderer.compInterface=CompExpressionInterface(t.renderer),t.renderer.globalData.projectInterface.registerComposition(t.renderer)},t}();expressionsPlugin=Expressions,function(){function t(){return this.pv}function e(t,e,i){if(!this.k||!this.keyframes)return this.pv;var s,r,n=this.comp.renderedFrame,a=this.keyframes,o=a[a.length-1].t;if(n<=o)return this.pv;i?r=o-(s=e?Math.abs(o-elem.comp.globalData.frameRate*e):Math.max(0,o-this.elem.data.ip)):((!e||e>a.length-1)&&(e=a.length-1),s=o-(r=a[a.length-1-e].t));var h,l,c,p=this.offsetTime||0;if("pingpong"===t.toLowerCase()){if(Math.floor((n-r)/s)%2!=0)return this.getValueAtTime((s-(n-r)%s+r-p)/this.comp.globalData.frameRate,0)}else{if("offset"===t){var u=this.getValueAtTime(r/this.comp.globalData.frameRate,0),f=this.getValueAtTime(o/this.comp.globalData.frameRate,0),d=this.getValueAtTime(((n-r)%s+r)/this.comp.globalData.frameRate,0),m=Math.floor((n-r)/s);if(this.pv.length){for(l=(c=new Array(u.length)).length,h=0;h<l;h+=1)c[h]=(f[h]-u[h])*m+d[h];return c}return(f-u)*m+d}if("continue"===t){var y=this.getValueAtTime(o/this.comp.globalData.frameRate,0),v=this.getValueAtTime((o-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(l=(c=new Array(y.length)).length,h=0;h<l;h+=1)c[h]=y[h]+(y[h]-v[h])*((n-o)/this.comp.globalData.frameRate)/5e-4;return c}return y+(n-o)/.001*(y-v)}}return this.getValueAtTime(((n-r)%s+r-p)/this.comp.globalData.frameRate,0)}function i(t,e,i){if(!this.k)return this.pv;var s,r,n,a,o,h=time*elem.comp.globalData.frameRate,l=this.keyframes,c=l[0].t,p=this.offsetTime||0;if(h>=c)return this.pv;if(i?r=c+(s=e?Math.abs(elem.comp.globalData.frameRate*e):Math.max(0,this.elem.data.op-c)):((!e||e>l.length-1)&&(e=l.length-1),s=(r=l[e].t)-c),"pingpong"===t){if(Math.floor((c-h)/s)%2==0)return this.getValueAtTime(((c-h)%s+c-p)/this.comp.globalData.frameRate,0)}else{if("offset"===t){var u=this.getValueAtTime(c/this.comp.globalData.frameRate,0),f=this.getValueAtTime(r/this.comp.globalData.frameRate,0),d=this.getValueAtTime((s-(c-h)%s+c)/this.comp.globalData.frameRate,0),m=Math.floor((c-h)/s)+1;if(this.pv.length){for(a=(o=new Array(u.length)).length,n=0;n<a;n+=1)o[n]=d[n]-(f[n]-u[n])*m;return o}return d-(f-u)*m}if("continue"===t){var y=this.getValueAtTime(c/this.comp.globalData.frameRate,0),v=this.getValueAtTime((c+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(a=(o=new Array(y.length)).length,n=0;n<a;n+=1)o[n]=y[n]+(y[n]-v[n])*(c-h)/.001;return o}return y+(y-v)*(c-h)/.001}}return this.getValueAtTime((s-(c-h)%s+c-p)/this.comp.globalData.frameRate,0)}function s(t){if(this._cachingAtTime||(this._cachingAtTime={lastValue:-99999,lastIndex:0}),t!==this._cachingAtTime.lastFrame){t*=this.elem.globalData.frameRate,t-=this.offsetTime;var e=this._caching.lastFrame<t?this._caching.lastIndex:0,i=this.interpolateValue(t,e,this.pv,this._cachingAtTime);this._cachingAtTime.lastIndex=i.iterationIndex,this._cachingAtTime.value=i.value,this._cachingAtTime.lastFrame=t}return this._cachingAtTime.value}function r(t){if(void 0!==this.vel)return this.vel;var e,i,s=this.getValueAtTime(t),r=this.getValueAtTime(t+-.01);if(s.length)for(e=Array.apply(null,{length:s.length}),i=0;i<s.length;i+=1)e[i]=(r[i]-s[i])/-.01;else e=(r-s)/-.01;return e}function n(t){this.propertyGroup=t}function a(t,e,i){e.x&&(i.k=!0,i.x=!0,i.getValue&&(i.getPreValue=i.getValue),i.getValue=ExpressionManager.initiateExpression.bind(i)(t,e,i))}var o=function(){function e(t,e){return this.textIndex=t+1,this.textTotal=e,this.getValue(),this.v}return function(i,o){this.pv=1,this.comp=i.comp,this.elem=i,this.mult=.01,this.type="textSelector",this.textTotal=o.totalChars,this.selectorValue=100,this.lastValue=[1,1,1],a.bind(this)(i,o,this),this.getMult=e,this.getVelocityAtTime=r,this.kf?this.getValueAtTime=s.bind(this):this.getValueAtTime=t.bind(this),this.setGroupProperty=n}}(),h=PropertyFactory.getProp;PropertyFactory.getProp=function(o,l,c,p,u){var f=h(o,l,c,p,u);2===c?f.dynamicProperties.length?f.getValueAtTime=function(t){console.log("time:",t)}.bind(f):f.getValueAtTime=function(t){}.bind(f):f.kf?f.getValueAtTime=s.bind(f):f.getValueAtTime=t.bind(f),f.setGroupProperty=n,f.loopOut=e,f.loopIn=i,f.getVelocityAtTime=r,f.numKeys=1===l.a?l.k.length:0;var d=f.k;return void 0!==l.ix&&Object.defineProperty(f,"propertyIndex",{get:function(){return l.ix}}),a(o,l,f),!d&&f.x&&u.push(f),f};var l=ShapePropertyFactory.getConstructorFunction(),c=ShapePropertyFactory.getKeyframedConstructorFunction();l.prototype.vertices=function(t,e){var i=this.v;void 0!==e&&(i=this.getValueAtTime(e,0));var s,r=i._length,n=i[t],a=i.v,o=Array.apply(null,{length:r});for(s=0;s<r;s+=1)o[s]="i"===t||"o"===t?[n[s][0]-a[s][0],n[s][1]-a[s][1]]:[n[s][0],n[s][1]];return o},l.prototype.points=function(t){return this.vertices("v",t)},l.prototype.inTangents=function(t){return this.vertices("i",t)},l.prototype.outTangents=function(t){return this.vertices("o",t)},l.prototype.isClosed=function(){return this.v.c},l.prototype.pointOnPath=function(t,e){var i=this.v;void 0!==e&&(i=this.getValueAtTime(e,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(i));for(var s=this._segmentsLength,r=s.lengths,n=s.totalLength*t,a=0,o=r.length,h=0;a<o;){if(h+r[a].addedLength>n){r[a].segments;var l=a,c=i.c&&a===o-1?0:a+1,p=(n-h)/r[a].addedLength,u=bez.getPointInSegment(i.v[l],i.v[c],i.o[l],i.i[c],p,r[a]);break}h+=r[a].addedLength,a+=1}return u||(u=i.c?[i.v[0][0],i.v[0][1]]:[i.v[i._length-1][0],i.v[i._length-1][1]]),u},l.prototype.vectorOnPath=function(t,e,i){t=1==t?this.v.c?0:.999:t;var s=this.pointOnPath(t,e),r=this.pointOnPath(t+.001,e),n=r[0]-s[0],a=r[1]-s[1],o=Math.sqrt(Math.pow(n,2)+Math.pow(a,2));return"tangent"===i?[n/o,a/o]:[-a/o,n/o]},l.prototype.tangentOnPath=function(t,e){return this.vectorOnPath(t,e,"tangent")},l.prototype.normalOnPath=function(t,e){return this.vectorOnPath(t,e,"normal")},l.prototype.setGroupProperty=n,l.prototype.getValueAtTime=t,c.prototype.vertices=l.prototype.vertices,c.prototype.points=l.prototype.points,c.prototype.inTangents=l.prototype.inTangents,c.prototype.outTangents=l.prototype.outTangents,c.prototype.isClosed=l.prototype.isClosed,c.prototype.pointOnPath=l.prototype.pointOnPath,c.prototype.vectorOnPath=l.prototype.vectorOnPath,c.prototype.tangentOnPath=l.prototype.tangentOnPath,c.prototype.normalOnPath=l.prototype.normalOnPath,c.prototype.setGroupProperty=l.prototype.setGroupProperty,c.prototype.getValueAtTime=function(t){if(this._shapeValueAtTime||(this._lastIndexAtTime=0,this._lastTimeAtTime=-999999,this._shapeValueAtTime=shape_pool.clone(this.pv)),t!==this._lastTimeAtTime){this._lastTimeAtTime=t,t*=this.elem.globalData.frameRate;var e=this.interpolateShape(t,this._lastIndexAtTime,this._shapeValueAtTime,!1);this._lastIndexAtTime=e.iterationIndex}return this._shapeValueAtTime};var p=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(t,e,i,s,r){var n=p(t,e,i,s,r),o=n.k;return void 0!==e.ix&&Object.defineProperty(n,"propertyIndex",{get:function(){return e.ix}}),3===i?a(t,e.pt,n):4===i&&a(t,e.ks,n),!o&&n.x&&s.push(n),n};var u=PropertyFactory.getTextSelectorProp;PropertyFactory.getTextSelectorProp=function(t,e,i){return 1===e.t?new o(t,e,i):u(t,e,i)}}(),function(){TextProperty.prototype.searchProperty=function(){return this.kf=this.searchExpressions()||this.data.d.k.length>1,this.kf},TextProperty.prototype.getExpressionValue=function(t){this.calculateExpression(),this.mdf&&(this.currentData.t=this.v.toString(),this.completeTextData(this.currentData))},TextProperty.prototype.searchExpressions=function(){return!!this.data.d.x&&(this.comp=this.elem.comp,this.getValue&&(this.getPreValue=this.getValue),this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.getValue=this.getExpressionValue,!0)}}();var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null;function duplicatePropertyValue(t,e){if(e=e||1,"number"==typeof t||t instanceof Number)return t*e;if(t.i)return JSON.parse(JSON.stringify(t));var i,s=Array.apply(null,{length:t.length}),r=t.length;for(i=0;i<r;i+=1)s[i]=t[i]*e;return s}function shapesEqual(t,e){if(t._length!==e._length||t.c!==e.c)return!1;var i,s=t._length;for(i=0;i<s;i+=1)if(t.v[i][0]!==e.v[i][0]||t.v[i][1]!==e.v[i][1]||t.o[i][0]!==e.o[i][0]||t.o[i][1]!==e.o[i][1]||t.i[i][0]!==e.i[i][0]||t.i[i][1]!==e.i[i][1])return!1;return!0}function $bm_neg(t){var e=typeof t;if("number"===e||"boolean"===e||t instanceof Number)return-t;if(t.constructor===Array){var i,s=t.length,r=[];for(i=0;i<s;i+=1)r[i]=-t[i];return r}}function sum(t,e){var i=typeof t,s=typeof e;if("string"===i||"string"===s)return t+e;if(("number"===i||"boolean"===i||"string"===i||t instanceof Number)&&("number"===s||"boolean"===s||"string"===s||e instanceof Number))return t+e;if(t.constructor===Array&&("number"===s||"boolean"===s||"string"===s||e instanceof Number))return t[0]=t[0]+e,t;if(("number"===i||"boolean"===i||"string"===i||t instanceof Number)&&e.constructor===Array)return e[0]=t+e[0],e;if(t.constructor===Array&&e.constructor===Array){for(var r=0,n=t.length,a=e.length,o=[];r<n||r<a;)("number"==typeof t[r]||t[r]instanceof Number)&&("number"==typeof e[r]||e[r]instanceof Number)?o[r]=t[r]+e[r]:o[r]=void 0==e[r]?t[r]:t[r]||e[r],r+=1;return o}return 0}var add=sum;function sub(t,e){var i=typeof t,s=typeof e;if(("number"===i||"boolean"===i||"string"===i||t instanceof Number)&&("number"===s||"boolean"===s||"string"===s||e instanceof Number))return"string"===i&&(t=parseInt(t)),"string"===s&&(e=parseInt(e)),t-e;if(t.constructor===Array&&("number"===s||"boolean"===s||"string"===s||e instanceof Number))return t[0]=t[0]-e,t;if(("number"===i||"boolean"===i||"string"===i||t instanceof Number)&&e.constructor===Array)return e[0]=t-e[0],e;if(t.constructor===Array&&e.constructor===Array){for(var r=0,n=t.length,a=e.length,o=[];r<n||r<a;)("number"==typeof t[r]||t[r]instanceof Number)&&("number"==typeof e[r]||(e[r],Number),1)?o[r]=t[r]-e[r]:o[r]=void 0==e[r]?t[r]:t[r]||e[r],r+=1;return o}return 0}function mul(t,e){var i,s,r,n=typeof t,a=typeof e;if(("number"===n||"boolean"===n||"string"===n||t instanceof Number)&&("number"===a||"boolean"===a||"string"===a||e instanceof Number))return t*e;if(t.constructor===Array&&("number"===a||"boolean"===a||"string"===a||e instanceof Number)){for(r=t.length,i=Array.apply(null,{length:r}),s=0;s<r;s+=1)i[s]=t[s]*e;return i}if(("number"===n||"boolean"===n||"string"===n||t instanceof Number)&&e.constructor===Array){for(r=e.length,i=Array.apply(null,{length:r}),s=0;s<r;s+=1)i[s]=t*e[s];return i}return 0}function div(t,e){var i,s,r,n=typeof t,a=typeof e;if(("number"===n||"boolean"===n||"string"===n||t instanceof Number)&&("number"===a||"boolean"===a||"string"===a||e instanceof Number))return t/e;if(t.constructor===Array&&("number"===a||"boolean"===a||"string"===a||e instanceof Number)){for(r=t.length,i=Array.apply(null,{length:r}),s=0;s<r;s+=1)i[s]=t[s]/e;return i}if(("number"===n||"boolean"===n||"string"===n||t instanceof Number)&&e.constructor===Array){for(r=e.length,i=Array.apply(null,{length:r}),s=0;s<r;s+=1)i[s]=t/e[s];return i}return 0}function mod(t,e){return"string"==typeof t&&(t=parseInt(t)),"string"==typeof e&&(e=parseInt(e)),t%e}function clamp(t,e,i){if(e>i){var s=i;i=e,e=s}return Math.min(Math.max(t,e),i)}function radiansToDegrees(t){return t/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(t){return t*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(t,e){if("number"==typeof t||t instanceof Number)return e=e||0,Math.abs(t-e);e||(e=helperLengthArray);var i,s=Math.min(t.length,e.length),r=0;for(i=0;i<s;i+=1)r+=Math.pow(e[i]-t[i],2);return Math.sqrt(r)}function normalize(t){return div(t,length(t))}function rgbToHsl(t){var e,i,s=t[0],r=t[1],n=t[2],a=Math.max(s,r,n),o=Math.min(s,r,n),h=(a+o)/2;if(a==o)e=i=0;else{var l=a-o;switch(i=h>.5?l/(2-a-o):l/(a+o),a){case s:e=(r-n)/l+(r<n?6:0);break;case r:e=(n-s)/l+2;break;case n:e=(s-r)/l+4}e/=6}return[e,i,h,t[3]]}function hslToRgb(t){var e,i,s,r=t[0],n=t[1],a=t[2];if(0==n)e=i=s=a;else{function o(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t}var h=a<.5?a*(1+n):a+n-a*n,l=2*a-h;e=o(l,h,r+1/3),i=o(l,h,r),s=o(l,h,r-1/3)}return[e,i,s,t[3]]}function linear(t,e,i,s,r){if(void 0===s||void 0===r)return linear(t,0,1,e,i);if(t<=e)return s;if(t>=i)return r;var n=i===e?0:(t-e)/(i-e);if(!s.length)return s+(r-s)*n;var a,o=s.length,h=Array.apply(null,{length:o});for(a=0;a<o;a+=1)h[a]=s[a]+(r[a]-s[a])*n;return h}function random(t,e){if(void 0===e&&(void 0===t?(t=0,e=1):(e=t,t=void 0)),e.length){var i,s=e.length;t||(t=Array.apply(null,{length:s}));var r=Array.apply(null,{length:s}),n=BMMath.random();for(i=0;i<s;i+=1)r[i]=t[i]+n*(e[i]-t[i]);return r}return void 0===t&&(t=0),t+BMMath.random()*(e-t)}function createPath(t,e,s,r){e=e&&e.length?e:t,s=s&&s.length?s:t;var n=shape_pool.newShape(),a=t.length;for(n.setPathData(r,a),i=0;i<a;i+=1)n.setTripleAt(t[i][0],t[i][1],s[i][0]+t[i][0],s[i][1]+t[i][1],e[i][0]+t[i][0],e[i][1]+t[i][1],i,!0);return n}function initiateExpression(elem,data,property){var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=-1!==val.indexOf("random"),elemType=elem.data.ty,transform,content,effect,thisComp=elem.comp,thisProperty=property;elem.comp.frameDuration=1/elem.comp.globalData.frameRate;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,loopIn,loop_in,loopOut,loop_out,toWorld,fromWorld,fromComp,fromCompToSurface,anchorPoint,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,fn=new Function,fn=eval("[function(){"+val+";if($bm_rt.__shapeObject){this.v=shape_pool.clone($bm_rt.v);}else{this.v=$bm_rt;}}]")[0],bindedFn=fn.bind(this),numKeys=property.kf?data.k.length:0,wiggle=function(t,e){var i,s,r=this.pv.length?this.pv.length:1,n=Array.apply(null,{len:r});for(s=0;s<r;s+=1)n[s]=0;var a=Math.floor(5*time);for(i=0,s=0;i<a;){for(s=0;s<r;s+=1)n[s]+=-e+2*e*BMMath.random();i+=1}var o=5*time,h=o-Math.floor(o),l=Array.apply({length:r});if(r>1){for(s=0;s<r;s+=1)l[s]=this.pv[s]+n[s]+(-e+2*e*BMMath.random())*h;return l}return this.pv+n[0]+(-e+2*e*BMMath.random())*h}.bind(this);thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut);var loopInDuration=function(t,e){return loopIn(t,e,!0)}.bind(this),loopOutDuration=function(t,e){return loopOut(t,e,!0)}.bind(this);this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface),time,velocity,value,textIndex,textTotal,selectorValue;function lookAt(t,e){var i=[e[0]-t[0],e[1]-t[1],e[2]-t[2]],s=Math.atan2(i[0],Math.sqrt(i[1]*i[1]+i[2]*i[2]))/degToRads;return[-Math.atan2(i[1],i[2])/degToRads,s,0]}function easeOut(t,e,i){return-(i-e)*t*(t-2)+e}function nearestKey(t){var e,i,s,r=data.k.length;if(data.k.length&&"number"!=typeof data.k[0])if(i=-1,(t*=elem.comp.globalData.frameRate)<data.k[0].t)i=1,s=data.k[0].t;else{for(e=0;e<r-1;e+=1){if(t===data.k[e].t){i=e+1,s=data.k[e].t;break}if(t>data.k[e].t&&t<data.k[e+1].t){t-data.k[e].t>data.k[e+1].t-t?(i=e+2,s=data.k[e+1].t):(i=e+1,s=data.k[e].t);break}}-1===i&&(i=e+1,s=data.k[e].t)}else i=0,s=0;var n={};return n.index=i,n.time=s/elem.comp.globalData.frameRate,n}function key(t){var e,i,s,r;if(!data.k.length||"number"==typeof data.k[0])throw new Error("The property has no keyframe at index "+t);for(t-=1,e={time:data.k[t].t/elem.comp.globalData.frameRate},s=(r=t!==data.k.length-1||data.k[t].h?data.k[t].s:data.k[t-1].e).length,i=0;i<s;i+=1)e[i]=r[i];return e}function framesToTime(t,e){return e||(e=elem.comp.globalData.frameRate),t/e}function timeToFrames(t,e){return t||0===t||(t=time),e||(e=elem.comp.globalData.frameRate),t*e}function seedRandom(t){BMMath.seedrandom(randSeed+t)}function sourceRectAtTime(){return elem.sourceRectAtTime()}var index=elem.data.ind,hasParent=!(!elem.hierarchy||!elem.hierarchy.length),parent,randSeed=Math.floor(1e6*Math.random());function executeExpression(){if(_needsRandom&&seedRandom(randSeed),this.frameExpressionId!==elem.globalData.frameId||"textSelector"===this.type){if(this.lock)return this.v=duplicatePropertyValue(this.pv,this.mult),!0;var t,e;if("textSelector"===this.type&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),anchorPoint=transform.anchorPoint),4!==elemType||content||(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),(hasParent=!(!elem.hierarchy||!elem.hierarchy.length))&&!parent&&(parent=elem.hierarchy[0].layerInterface),this.lock=!0,this.getPreValue&&this.getPreValue(),value=this.pv,time=this.comp.renderedFrame/this.comp.globalData.frameRate,needsVelocity&&(velocity=velocityAtTime(time)),bindedFn(),this.frameExpressionId=elem.globalData.frameId,this.mult)if("number"==typeof this.v||this.v instanceof Number||this.v instanceof String||"string"==typeof this.v)this.v*=this.mult;else if(1===this.v.length)this.v=this.v[0]*this.mult;else for(e=this.v.length,value===this.v&&(this.v=2===e?[value[0],value[1]]:[value[0],value[1],value[2]]),t=0;t<e;t+=1)this.v[t]*=this.mult;if(1===this.v.length&&(this.v=this.v[0]),"number"==typeof this.v||this.v instanceof Number||this.v instanceof String||"string"==typeof this.v)this.lastValue!==this.v&&(this.lastValue=this.v,this.mdf=!0);else if(this.v._length)shapesEqual(this.v,this.localShapeCollection.shapes[0])||(this.mdf=!0,this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(shape_pool.clone(this.v)));else for(e=this.v.length,t=0;t<e;t+=1)this.v[t]!==this.lastValue[t]&&(this.lastValue[t]=this.v[t],this.mdf=!0);this.lock=!1}}return executeExpression}return ob.initiateExpression=initiateExpression,ob}(),ShapeExpressionInterface=function(){var t={createShapeInterface:function(t,e,s){return i(t,e,s)},createGroupInterface:function(t,e,i){return r(t,e,i)},createTrimInterface:function(t,e,i){return o(t,e,i)},createStrokeInterface:function(t,e,i){return a(t,e,i)},createTransformInterface:function(t,e,i){return h(t,e,i)},createEllipseInterface:function(t,e,i){return l(t,e,i)},createStarInterface:function(t,e,i){return c(t,e,i)},createRectInterface:function(t,e,i){return p(t,e,i)},createRoundedInterface:function(t,e,i){return u(t,e,i)},createRepatearInterface:function(t,e,i){return f(t,e,i)},createPathInterface:function(t,e,i){return d(t,e,i)},createFillInterface:function(t,e,i){return n(t,e,i)}};function e(t,e,i){var s,r=[],n=t?t.length:0;for(s=0;s<n;s+=1)"gr"==t[s].ty?r.push(ShapeExpressionInterface.createGroupInterface(t[s],e[s],i)):"fl"==t[s].ty?r.push(ShapeExpressionInterface.createFillInterface(t[s],e[s],i)):"st"==t[s].ty?r.push(ShapeExpressionInterface.createStrokeInterface(t[s],e[s],i)):"tm"==t[s].ty?r.push(ShapeExpressionInterface.createTrimInterface(t[s],e[s],i)):"tr"==t[s].ty||("el"==t[s].ty?r.push(ShapeExpressionInterface.createEllipseInterface(t[s],e[s],i)):"sr"==t[s].ty?r.push(ShapeExpressionInterface.createStarInterface(t[s],e[s],i)):"sh"==t[s].ty?r.push(ShapeExpressionInterface.createPathInterface(t[s],e[s],i)):"rc"==t[s].ty?r.push(ShapeExpressionInterface.createRectInterface(t[s],e[s],i)):"rd"==t[s].ty?r.push(ShapeExpressionInterface.createRoundedInterface(t[s],e[s],i)):"rp"==t[s].ty&&r.push(ShapeExpressionInterface.createRepatearInterface(t[s],e[s],i)));return r}var i=function(t,i,s){var r;function n(t){if("number"==typeof t)return r[t-1];for(var e=0,i=r.length;e<i;){if(r[e]._name===t)return r[e];e+=1}}return n.propertyGroup=s,r=e(t,i,n),n},s=function(t,i,s){var r,n=function(t){for(var e=0,i=r.length;e<i;){if(r[e]._name===t||r[e].mn===t||r[e].propertyIndex===t||r[e].ix===t||r[e].ind===t)return r[e];e+=1}if("number"==typeof t)return r[t-1]};return n.propertyGroup=function(t){return 1===t?n:s(t-1)},r=e(t.it,i.it,n.propertyGroup),n.numProperties=r.length,n.propertyIndex=t.cix,n},r=function(t,e,i){var r=function(t){switch(t){case"ADBE Vectors Group":case"Contents":case 2:return r.content;case"ADBE Vector Transform Group":case 3:default:return r.transform}};r.propertyGroup=function(t){return 1===t?r:i(t-1)};var n=s(t,e,r.propertyGroup),a=ShapeExpressionInterface.createTransformInterface(t.it[t.it.length-1],e.it[e.it.length-1],r.propertyGroup);return r.content=n,r.transform=a,Object.defineProperty(r,"_name",{get:function(){return t.nm}}),r.numProperties=t.np,r.propertyIndex=t.ix,r.nm=t.nm,r.mn=t.mn,r},n=function(t,e,i){function s(t){return"Color"===t||"color"===t?s.color:"Opacity"===t||"opacity"===t?s.opacity:void 0}return Object.defineProperty(s,"color",{get:function(){return ExpressionValue(e.c,1/e.c.mult,"color")}}),Object.defineProperty(s,"opacity",{get:function(){return ExpressionValue(e.o,100)}}),Object.defineProperty(s,"_name",{value:t.nm}),Object.defineProperty(s,"mn",{value:t.mn}),e.c.setGroupProperty(i),e.o.setGroupProperty(i),s},a=function(e,i,s){function r(e){return 1===e?t:s(e-1)}function n(t){return 1===t?l:r(t-1)}function a(t){Object.defineProperty(l,e.d[t].nm,{get:function(){return ExpressionValue(i.d.dataProps[t].p)}})}var o,h=e.d?e.d.length:0,l={};for(o=0;o<h;o+=1)a(o),i.d.dataProps[o].p.setGroupProperty(n);function c(t){return"Color"===t||"color"===t?c.color:"Opacity"===t||"opacity"===t?c.opacity:"Stroke Width"===t||"stroke width"===t?c.strokeWidth:void 0}return Object.defineProperty(c,"color",{get:function(){return ExpressionValue(i.c,1/i.c.mult,"color")}}),Object.defineProperty(c,"opacity",{get:function(){return ExpressionValue(i.o,100)}}),Object.defineProperty(c,"strokeWidth",{get:function(){return ExpressionValue(i.w)}}),Object.defineProperty(c,"dash",{get:function(){return l}}),Object.defineProperty(c,"_name",{value:e.nm}),Object.defineProperty(c,"mn",{value:e.mn}),i.c.setGroupProperty(r),i.o.setGroupProperty(r),i.w.setGroupProperty(r),c},o=function(t,e,i){function s(t){return 1==t?r:i(--t)}function r(e){return e===t.e.ix||"End"===e||"end"===e?r.end:e===t.s.ix?r.start:e===t.o.ix?r.offset:void 0}return r.propertyIndex=t.ix,e.s.setGroupProperty(s),e.e.setGroupProperty(s),e.o.setGroupProperty(s),r.propertyIndex=t.ix,Object.defineProperty(r,"start",{get:function(){return ExpressionValue(e.s,1/e.s.mult)}}),Object.defineProperty(r,"end",{get:function(){return ExpressionValue(e.e,1/e.e.mult)}}),Object.defineProperty(r,"offset",{get:function(){return ExpressionValue(e.o)}}),Object.defineProperty(r,"_name",{get:function(){return t.nm}}),r.mn=t.mn,r},h=function(t,e,i){function s(t){return 1==t?r:i(--t)}function r(e){return t.a.ix===e?r.anchorPoint:t.o.ix===e?r.opacity:t.p.ix===e?r.position:t.r.ix===e?r.rotation:t.s.ix===e?r.scale:t.sk&&t.sk.ix===e?r.skew:t.sa&&t.sa.ix===e?r.skewAxis:"Opacity"===e?r.opacity:"Position"===e?r.position:"Anchor Point"===e?r.anchorPoint:"Scale"===e?r.scale:"Rotation"===e||"ADBE Vector Rotation"===e?r.rotation:"Skew"===e?r.skew:"Skew Axis"===e?r.skewAxis:void 0}return e.transform.mProps.o.setGroupProperty(s),e.transform.mProps.p.setGroupProperty(s),e.transform.mProps.a.setGroupProperty(s),e.transform.mProps.s.setGroupProperty(s),e.transform.mProps.r.setGroupProperty(s),e.transform.mProps.sk&&(e.transform.mProps.sk.setGroupProperty(s),e.transform.mProps.sa.setGroupProperty(s)),e.transform.op.setGroupProperty(s),Object.defineProperty(r,"opacity",{get:function(){return ExpressionValue(e.transform.mProps.o,1/e.transform.mProps.o.mult)}}),Object.defineProperty(r,"position",{get:function(){return ExpressionValue(e.transform.mProps.p)}}),Object.defineProperty(r,"anchorPoint",{get:function(){return ExpressionValue(e.transform.mProps.a)}}),Object.defineProperty(r,"scale",{get:function(){return ExpressionValue(e.transform.mProps.s,1/e.transform.mProps.s.mult)}}),Object.defineProperty(r,"rotation",{get:function(){return ExpressionValue(e.transform.mProps.r,1/e.transform.mProps.r.mult)}}),Object.defineProperty(r,"skew",{get:function(){return ExpressionValue(e.transform.mProps.sk)}}),Object.defineProperty(r,"skewAxis",{get:function(){return ExpressionValue(e.transform.mProps.sa)}}),Object.defineProperty(r,"_name",{get:function(){return t.nm}}),r.ty="tr",r.mn=t.mn,r},l=function(t,e,i){function s(t){return 1==t?n:i(--t)}n.propertyIndex=t.ix;var r="tm"===e.sh.ty?e.sh.prop:e.sh;function n(e){return t.p.ix===e?n.position:t.s.ix===e?n.size:void 0}return r.s.setGroupProperty(s),r.p.setGroupProperty(s),Object.defineProperty(n,"size",{get:function(){return ExpressionValue(r.s)}}),Object.defineProperty(n,"position",{get:function(){return ExpressionValue(r.p)}}),Object.defineProperty(n,"_name",{get:function(){return t.nm}}),n.mn=t.mn,n},c=function(t,e,i){function s(t){return 1==t?n:i(--t)}var r="tm"===e.sh.ty?e.sh.prop:e.sh;function n(e){return t.p.ix===e?n.position:t.r.ix===e?n.rotation:t.pt.ix===e?n.points:t.or.ix===e||"ADBE Vector Star Outer Radius"===e?n.outerRadius:t.os.ix===e?n.outerRoundness:!t.ir||t.ir.ix!==e&&"ADBE Vector Star Inner Radius"!==e?t.is&&t.is.ix===e?n.innerRoundness:void 0:n.innerRadius}return n.propertyIndex=t.ix,r.or.setGroupProperty(s),r.os.setGroupProperty(s),r.pt.setGroupProperty(s),r.p.setGroupProperty(s),r.r.setGroupProperty(s),t.ir&&(r.ir.setGroupProperty(s),r.is.setGroupProperty(s)),Object.defineProperty(n,"position",{get:function(){return ExpressionValue(r.p)}}),Object.defineProperty(n,"rotation",{get:function(){return ExpressionValue(r.r,1/r.r.mult)}}),Object.defineProperty(n,"points",{get:function(){return ExpressionValue(r.pt)}}),Object.defineProperty(n,"outerRadius",{get:function(){return ExpressionValue(r.or)}}),Object.defineProperty(n,"outerRoundness",{get:function(){return ExpressionValue(r.os)}}),Object.defineProperty(n,"innerRadius",{get:function(){return r.ir?ExpressionValue(r.ir):0}}),Object.defineProperty(n,"innerRoundness",{get:function(){return r.is?ExpressionValue(r.is,1/r.is.mult):0}}),Object.defineProperty(n,"_name",{get:function(){return t.nm}}),n.mn=t.mn,n},p=function(t,e,i){function s(t){return 1==t?n:i(--t)}var r="tm"===e.sh.ty?e.sh.prop:e.sh;function n(e){return t.p.ix===e?n.position:t.r.ix===e?n.roundness:t.s.ix===e||"Size"===e?n.size:void 0}return n.propertyIndex=t.ix,r.p.setGroupProperty(s),r.s.setGroupProperty(s),r.r.setGroupProperty(s),Object.defineProperty(n,"position",{get:function(){return ExpressionValue(r.p)}}),Object.defineProperty(n,"roundness",{get:function(){return ExpressionValue(r.r)}}),Object.defineProperty(n,"size",{get:function(){return ExpressionValue(r.s)}}),Object.defineProperty(n,"_name",{get:function(){return t.nm}}),n.mn=t.mn,n},u=function(t,e,i){var s=e;function r(e){if(t.r.ix===e||"Round Corners 1"===e)return r.radius}return r.propertyIndex=t.ix,s.rd.setGroupProperty(function(t){return 1==t?r:i(--t)}),Object.defineProperty(r,"radius",{get:function(){return ExpressionValue(s.rd)}}),Object.defineProperty(r,"_name",{get:function(){return t.nm}}),r.mn=t.mn,r},f=function(t,e,i){function s(t){return 1==t?n:i(--t)}var r=e;function n(e){return t.c.ix===e||"Copies"===e?n.copies:t.o.ix===e||"Offset"===e?n.offset:void 0}return n.propertyIndex=t.ix,r.c.setGroupProperty(s),r.o.setGroupProperty(s),Object.defineProperty(n,"copies",{get:function(){return ExpressionValue(r.c)}}),Object.defineProperty(n,"offset",{get:function(){return ExpressionValue(r.o)}}),Object.defineProperty(n,"_name",{get:function(){return t.nm}}),n.mn=t.mn,n},d=function(t,e,i){var s=e.sh;function r(t){if("Shape"===t||"shape"===t||"Path"===t||"path"===t||"ADBE Vector Shape"===t||2===t)return r.path}return s.setGroupProperty(function(t){return 1==t?r:i(--t)}),Object.defineProperty(r,"path",{get:function(){return s.k&&s.getValue(),s}}),Object.defineProperty(r,"shape",{get:function(){return s.k&&s.getValue(),s}}),Object.defineProperty(r,"_name",{value:t.nm}),Object.defineProperty(r,"ix",{value:t.ix}),Object.defineProperty(r,"mn",{value:t.mn}),r};return t}(),TextExpressionInterface=function(t){var e;function i(){}return Object.defineProperty(i,"sourceText",{get:function(){var i=t.textProperty.currentData.t;return void 0!==t.textProperty.currentData.t&&(t.textProperty.currentData.t=void 0,(e=new String(i)).value=i||new String(i)),e}}),i},LayerExpressionInterface=function(){function t(t,e){var i=new Matrix;if(i.reset(),this._elem.finalTransform.mProp.applyToMatrix(i),this._elem.hierarchy&&this._elem.hierarchy.length){var s,r=this._elem.hierarchy.length;for(s=0;s<r;s+=1)this._elem.hierarchy[s].finalTransform.mProp.applyToMatrix(i);return i.applyToPointArray(t[0],t[1],t[2]||0)}return i.applyToPointArray(t[0],t[1],t[2]||0)}function e(t,e){var i=new Matrix;if(i.reset(),this._elem.finalTransform.mProp.applyToMatrix(i),this._elem.hierarchy&&this._elem.hierarchy.length){var s,r=this._elem.hierarchy.length;for(s=0;s<r;s+=1)this._elem.hierarchy[s].finalTransform.mProp.applyToMatrix(i);return i.inversePoint(t)}return i.inversePoint(t)}function i(t){var e=new Matrix;if(e.reset(),this._elem.finalTransform.mProp.applyToMatrix(e),this._elem.hierarchy&&this._elem.hierarchy.length){var i,s=this._elem.hierarchy.length;for(i=0;i<s;i+=1)this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(e);return e.inversePoint(t)}return e.inversePoint(t)}return function(s){var r=TransformExpressionInterface(s.transform);function n(t){switch(t){case"ADBE Root Vectors Group":case"Contents":case 2:return n.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return r;case 4:case"ADBE Effect Parade":return n.effect}}return n.toWorld=t,n.fromWorld=e,n.toComp=t,n.fromComp=i,n.sourceRectAtTime=s.sourceRectAtTime.bind(s),n._elem=s,Object.defineProperty(n,"hasParent",{get:function(){return!!s.hierarchy}}),Object.defineProperty(n,"parent",{get:function(){return s.hierarchy[0].layerInterface}}),Object.defineProperty(n,"rotation",{get:function(){return r.rotation}}),Object.defineProperty(n,"scale",{get:function(){return r.scale}}),Object.defineProperty(n,"position",{get:function(){return r.position}}),Object.defineProperty(n,"anchorPoint",{get:function(){return r.anchorPoint}}),Object.defineProperty(n,"transform",{get:function(){return r}}),Object.defineProperty(n,"width",{get:function(){return 0===s.data.ty?s.data.w:100}}),Object.defineProperty(n,"height",{get:function(){return 0===s.data.ty?s.data.h:100}}),Object.defineProperty(n,"source",{get:function(){return s.data.refId}}),Object.defineProperty(n,"index",{get:function(){return s.data.ind}}),Object.defineProperty(n,"_name",{value:s.data.nm}),Object.defineProperty(n,"content",{get:function(){return n.shapeInterface}}),Object.defineProperty(n,"active",{get:function(){return s.isVisible}}),Object.defineProperty(n,"text",{get:function(){return n.textInterface}}),n.registerMaskInterface=function(t){n.mask=new MaskManagerInterface(t,s)},n.registerEffectsInterface=function(t){n.effect=t},n}}(),CompExpressionInterface=function(t){function e(e){for(var i=0,s=t.layers.length;i<s;){if(t.layers[i].nm===e||t.layers[i].ind===e)return t.elements[i].layerInterface;i+=1}return{active:!1}}return Object.defineProperty(e,"_name",{value:t.data.nm}),e.layer=e,e.pixelAspect=1,e.height=t.globalData.compSize.h,e.width=t.globalData.compSize.w,e.pixelAspect=1,e.frameDuration=1/t.globalData.frameRate,e},TransformExpressionInterface=function(t){function e(i){switch(i){case"scale":case"Scale":case"ADBE Scale":case 6:return e.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return e.rotation;case"position":case"Position":case"ADBE Position":case 2:return t.position;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return e.anchorPoint;case"opacity":case"Opacity":case 11:return e.opacity}}return Object.defineProperty(e,"rotation",{get:function(){return t.rotation}}),Object.defineProperty(e,"scale",{get:function(){return t.scale}}),Object.defineProperty(e,"position",{get:function(){return t.position}}),Object.defineProperty(e,"xPosition",{get:function(){return t.xPosition}}),Object.defineProperty(e,"yPosition",{get:function(){return t.yPosition}}),Object.defineProperty(e,"anchorPoint",{get:function(){return t.anchorPoint}}),Object.defineProperty(e,"opacity",{get:function(){return t.opacity}}),Object.defineProperty(e,"skew",{get:function(){return t.skew}}),Object.defineProperty(e,"skewAxis",{get:function(){return t.skewAxis}}),e},ProjectInterface=function(){function t(t){this.compositions.push(t)}return function(){function e(t){for(var e=0,i=this.compositions.length;e<i;){if(this.compositions[e].data&&this.compositions[e].data.nm===t)return this.compositions[e].prepareFrame&&this.compositions[e].prepareFrame(this.currentFrame),this.compositions[e].compInterface;e+=1}}return e.compositions=[],e.currentFrame=0,e.registerComposition=t,e}}(),EffectsExpressionInterface=function(){function t(i,s,r,n){var a,o=[],h=i.ef.length;for(a=0;a<h;a+=1)5===i.ef[a].ty?o.push(t(i.ef[a],s.effectElements[a],s.effectElements[a].propertyGroup,n)):o.push(e(s.effectElements[a],i.ef[a].ty,n,l));function l(t){return 1===t?c:r(t-1)}var c=function(t){for(var e=i.ef,s=0,r=e.length;s<r;){if(t===e[s].nm||t===e[s].mn||t===e[s].ix)return 5===e[s].ty?o[s]:o[s]();s+=1}return o[0]()};return c.propertyGroup=l,"ADBE Color Control"===i.mn&&Object.defineProperty(c,"color",{get:function(){return o[0]()}}),Object.defineProperty(c,"numProperties",{get:function(){return i.np}}),c.active=0!==i.en,c}function e(t,e,i,s){return t.p.setGroupProperty&&t.p.setGroupProperty(s),function(){return 10===e?i.comp.compInterface(t.p.v):ExpressionValue(t.p)}}return{createEffectsInterface:function(e,i){if(e.effects){var s,r=[],n=e.data.ef,a=e.effects.effectElements.length;for(s=0;s<a;s+=1)r.push(t(n[s],e.effects.effectElements[s],i,e));return function(t){for(var i=e.data.ef,s=0,n=i.length;s<n;){if(t===i[s].nm||t===i[s].mn||t===i[s].ix)return r[s];s+=1}}}}}}(),MaskManagerInterface=function(){function t(t,e){this._mask=t,this._data=e}Object.defineProperty(t.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}});return function(e,i){var s,r=Array.apply(null,{length:e.viewData.length}),n=e.viewData.length;for(s=0;s<n;s+=1)r[s]=new t(e.viewData[s],e.masksProperties[s]);return function(t){for(s=0;s<n;){if(e.masksProperties[s].nm===t)return r[s];s+=1}}}}(),ExpressionValue=function(t,e,i){var s,r,n,a;if(t.k&&t.getValue(),i){if("color"===i){for(n=4,s=Array.apply(null,{length:n}),a=Array.apply(null,{length:n}),r=0;r<n;r+=1)s[r]=a[r]=e&&r<3?t.v[r]*e:1;s.value=a}}else if("number"==typeof t.v||t.v instanceof Number)(s=e?new Number(t.v*e):new Number(t.v)).value=e?t.v*e:t.v;else{for(n=t.v.length,s=Array.apply(null,{length:n}),a=Array.apply(null,{length:n}),r=0;r<n;r+=1)s[r]=a[r]=e?t.v[r]*e:t.v[r];s.value=a}return s.numKeys=t.keyframes?t.keyframes.length:0,s.key=function(e){return s.numKeys?t.keyframes[e-1].t:0},s.valueAtTime=t.getValueAtTime,s.propertyGroup=t.propertyGroup,s};function SliderEffect(t,e,i){this.p=PropertyFactory.getProp(e,t.v,0,0,i)}function AngleEffect(t,e,i){this.p=PropertyFactory.getProp(e,t.v,0,0,i)}function ColorEffect(t,e,i){this.p=PropertyFactory.getProp(e,t.v,1,0,i)}function PointEffect(t,e,i){this.p=PropertyFactory.getProp(e,t.v,1,0,i)}function LayerIndexEffect(t,e,i){this.p=PropertyFactory.getProp(e,t.v,0,0,i)}function MaskIndexEffect(t,e,i){this.p=PropertyFactory.getProp(e,t.v,0,0,i)}function CheckboxEffect(t,e,i){this.p=PropertyFactory.getProp(e,t.v,0,0,i)}function NoValueEffect(){this.p={}}function EffectsManager(t,e,i){var s=t.ef;this.effectElements=[];var r,n,a=s.length;for(r=0;r<a;r++)n=new GroupEffect(s[r],e,i),this.effectElements.push(n)}function GroupEffect(t,e,i){this.dynamicProperties=[],this.init(t,e,this.dynamicProperties),this.dynamicProperties.length&&i.push(this)}GroupEffect.prototype.getValue=function(){this.mdf=!1;var t,e=this.dynamicProperties.length;for(t=0;t<e;t+=1)this.dynamicProperties[t].getValue(),this.mdf=!!this.dynamicProperties[t].mdf||this.mdf},GroupEffect.prototype.init=function(t,e,i){this.data=t,this.mdf=!1,this.effectElements=[];var s,r,n=this.data.ef.length,a=this.data.ef;for(s=0;s<n;s+=1)switch(a[s].ty){case 0:r=new SliderEffect(a[s],e,i),this.effectElements.push(r);break;case 1:r=new AngleEffect(a[s],e,i),this.effectElements.push(r);break;case 2:r=new ColorEffect(a[s],e,i),this.effectElements.push(r);break;case 3:r=new PointEffect(a[s],e,i),this.effectElements.push(r);break;case 4:case 7:r=new CheckboxEffect(a[s],e,i),this.effectElements.push(r);break;case 10:r=new LayerIndexEffect(a[s],e,i),this.effectElements.push(r);break;case 11:r=new MaskIndexEffect(a[s],e,i),this.effectElements.push(r);break;case 5:r=new EffectsManager(a[s],e,i),this.effectElements.push(r);break;case 6:r=new NoValueEffect(a[s],e,i),this.effectElements.push(r)}};var bodymovinjs={};function setLocationHref(t){locationHref=t}function play(t){animationManager.play(t)}function pause(t){animationManager.pause(t)}function togglePause(t){animationManager.togglePause(t)}function setSpeed(t,e){animationManager.setSpeed(t,e)}function setDirection(t,e){animationManager.setDirection(t,e)}function stop(t){animationManager.stop(t)}function moveFrame(t){animationManager.moveFrame(t)}function searchAnimations(){!0===standalone?animationManager.searchAnimations(animationData,standalone,renderer):animationManager.searchAnimations()}function registerAnimation(t){return animationManager.registerAnimation(t)}function resize(){animationManager.resize()}function start(){animationManager.start()}function goToAndStop(t,e,i){animationManager.goToAndStop(t,e,i)}function setSubframeRendering(t){subframeEnabled=t}function loadAnimation(t){return!0===standalone&&(t.animationData=JSON.parse(animationData)),animationManager.loadAnimation(t)}function destroy(t){return animationManager.destroy(t)}function setQuality(t){if("string"==typeof t)switch(t){case"high":defaultCurveSegments=200;break;case"medium":defaultCurveSegments=50;break;case"low":defaultCurveSegments=10}else!isNaN(t)&&t>1&&(defaultCurveSegments=t);roundValues(!(defaultCurveSegments>=50))}function inBrowser(){return"undefined"!=typeof navigator}function installPlugin(t,e){"expressions"===t&&(expressionsPlugin=e)}function getFactory(t){switch(t){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix}}function checkReady(){"complete"===document.readyState&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(t){for(var e=queryString.split("&"),i=0;i<e.length;i++){var s=e[i].split("=");if(decodeURIComponent(s[0])==t)return decodeURIComponent(s[1])}}bodymovinjs.play=play,bodymovinjs.pause=pause,bodymovinjs.setLocationHref=setLocationHref,bodymovinjs.togglePause=togglePause,bodymovinjs.setSpeed=setSpeed,bodymovinjs.setDirection=setDirection,bodymovinjs.stop=stop,bodymovinjs.moveFrame=moveFrame,bodymovinjs.searchAnimations=searchAnimations,bodymovinjs.registerAnimation=registerAnimation,bodymovinjs.loadAnimation=loadAnimation,bodymovinjs.setSubframeRendering=setSubframeRendering,bodymovinjs.resize=resize,bodymovinjs.start=start,bodymovinjs.goToAndStop=goToAndStop,bodymovinjs.destroy=destroy,bodymovinjs.setQuality=setQuality,bodymovinjs.inBrowser=inBrowser,bodymovinjs.installPlugin=installPlugin,bodymovinjs.__getFactory=getFactory,bodymovinjs.version="4.13.0";var standalone="__[STANDALONE]__",animationData="__[ANIMATIONDATA]__",renderer="";if(standalone){var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""},queryString=myScript.src.replace(/^[^\?]+\??/,"");renderer=getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);return bodymovinjs},"function"==typeof define&&define.amd?define(function(){return factory(root)}):"object"==typeof module&&module.exports?module.exports=factory(root):root.bodymovin=factory(root)},JNbM:function(t,e,i){"use strict";var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=Object.assign||function(t){for(var e,i=1;i<arguments.length;i++)for(var s in e=arguments[i])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t},n=function(){function t(t,e){for(var i,s=0;s<e.length;s++)(i=e[s]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}();var a,o="\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\nuniform vec2 u_resolution;\nvarying vec2 v_texCoord;\n\nvoid main() {\n\tvec2 zeroToOne = a_position / u_resolution;\n\tvec2 zeroToTwo = zeroToOne * 2.0;\n\tvec2 clipSpace = zeroToTwo - 1.0;\n\tgl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);\n\tv_texCoord = a_texCoord;\n}\n",h=function(){function t(e){var i=this,s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.setUpInteraction=function(){switch(i.options.interaction){case"mouse":i.renderCanvas.addEventListener("mousemove",function(t){i.currentMousePosition=i.getMousePos(t)},!1);break;case"auto":i.setUpAutoMove();break;case"external":i.setUpExternal()}},this.draw2DCanvas=function(){if(i.drawingCanvas=document.createElement("canvas"),i.drawingCanvas.id=i.generateUniqueID(),i.drawingCanvas.width=i.options.width,i.drawingCanvas.height=i.options.height,i.drawingCanvas.style.width=i.options.width+"px",i.drawingCanvas.style.height=i.options.height+"px",i.ctx2D=i.drawingCanvas.getContext("2d"),!i.ctx2D)return Promise.reject("Canvas Drawing is not avaiable in this context");i.ctx2D.fillStyle="rgba(0,0,0,1)",i.ctx2D.fillRect(0,0,i.options.width,i.options.height),i.resizeRatio=(i.options.width-2*i.options.padding)/100,i.verticalPadding=(i.options.height-56.9*i.resizeRatio)/2,i.ctx2D.translate(i.options.padding,i.verticalPadding),i.ctx2D.scale(i.resizeRatio,i.resizeRatio);var t=new Path2D("M22.7,12 39.4,45.4 45.4,45.4 22.7,0 0,45.4 6,45.4 z M100,22.7C100,10.2,89.8,0,77.3,0S54.6,10.2,54.6,22.7c0,12.5,10.2,22.7,22.7,22.7c2.7,0,5.3-0.5,7.7-1.3 l6.3,12.7l5.5-0.9l-7.1-14.2C95.9,37.6,100,30.6,100,22.7z M65.1,34.9c-3.3-3.3-5.1-7.6-5.1-12.3s1.8-9,5.1-12.3 c3.3-3.3,7.6-5.1,12.3-5.1c4.6,0,9,1.8,12.3,5.1s5.1,7.6,5.1,12.3c0,4.6-1.8,9-5.1,12.3S82,40,77.3,40C72.7,40,68.3,38.2,65.1,34.9 z");i.ctx2D.fillStyle=i.options.foregroundColor,i.ctx2D.fill(t)},this.draw3DCanvas=function(){return i.renderCanvas=document.createElement("canvas"),i.renderCanvas.id=i.generateUniqueID(),i.target.append(i.renderCanvas),i.renderCanvas.width=i.options.width,i.renderCanvas.height=i.options.height,i.renderCanvas.style.width=i.options.width/i.options.AA+"px",i.renderCanvas.style.height=i.options.height/i.options.AA+"px",i.renderCanvas.style.backgroundColor=""+i.options.backgroundColor,i.ctx=i.renderCanvas.getContext("experimental-webgl"),!i.ctx&&Promise.reject("WebGL Canvas 3D is not avaiable in this context")},this.createShaderProgram=function(){var t=i.ctx.createShader(i.ctx.VERTEX_SHADER);i.ctx.shaderSource(t,o),i.ctx.compileShader(t);var e=i.ctx.createShader(i.ctx.FRAGMENT_SHADER);i.ctx.shaderSource(e,i.fragment),i.ctx.compileShader(e),i.program=i.ctx.createProgram(),i.ctx.attachShader(i.program,t),i.ctx.attachShader(i.program,e),i.ctx.linkProgram(i.program),i.ctx.useProgram(i.program)},this.createLogoTexture=function(){i.positionLocation=i.ctx.getAttribLocation(i.program,"a_position"),i.texcoordLocation=i.ctx.getAttribLocation(i.program,"a_texCoord"),i.positionBuffer=i.ctx.createBuffer(),i.ctx.bindBuffer(i.ctx.ARRAY_BUFFER,i.positionBuffer),i.setRectangle(i.ctx,0,0,i.options.width,i.options.height),i.texcoordBuffer=i.ctx.createBuffer(),i.ctx.bindBuffer(i.ctx.ARRAY_BUFFER,i.texcoordBuffer),i.ctx.bufferData(i.ctx.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),i.ctx.STATIC_DRAW);var t=i.ctx.createTexture();i.ctx.bindTexture(i.ctx.TEXTURE_2D,t),i.ctx.texParameteri(i.ctx.TEXTURE_2D,i.ctx.TEXTURE_WRAP_S,i.ctx.CLAMP_TO_EDGE),i.ctx.texParameteri(i.ctx.TEXTURE_2D,i.ctx.TEXTURE_WRAP_T,i.ctx.CLAMP_TO_EDGE),i.ctx.texParameteri(i.ctx.TEXTURE_2D,i.ctx.TEXTURE_MIN_FILTER,i.ctx.NEAREST),i.ctx.texParameteri(i.ctx.TEXTURE_2D,i.ctx.TEXTURE_MAG_FILTER,i.ctx.NEAREST),i.ctx.texImage2D(i.ctx.TEXTURE_2D,0,i.ctx.RGBA,i.ctx.RGBA,i.ctx.UNSIGNED_BYTE,i.drawingCanvas)},this.setUpUniforms=function(){i.resolutionLocation=i.ctx.getUniformLocation(i.program,"u_resolution"),i.textureSizeLocation=i.ctx.getUniformLocation(i.program,"u_textureSize"),i.kernelLocation=i.ctx.getUniformLocation(i.program,"u_kernel[0]"),i.kernelWeightLocation=i.ctx.getUniformLocation(i.program,"u_kernelWeight"),i.time=i.ctx.getUniformLocation(i.program,"u_time"),i.mouse=i.ctx.getUniformLocation(i.program,"u_mouse"),i.mouseVel=i.ctx.getUniformLocation(i.program,"u_mouse_vel")},this.drawLogoWebGL=function(){i.ctx.viewport(0,0,i.ctx.canvas.width,i.ctx.canvas.height),i.ctx.clearColor(0,0,0,0),i.ctx.clear(i.ctx.COLOR_BUFFER_BIT),i.ctx.useProgram(i.program),i.ctx.enableVertexAttribArray(i.positionLocation),i.ctx.bindBuffer(i.ctx.ARRAY_BUFFER,i.positionBuffer);var t=i.ctx.FLOAT;i.ctx.vertexAttribPointer(i.positionLocation,2,t,!1,0,0),i.ctx.enableVertexAttribArray(i.texcoordLocation),i.ctx.bindBuffer(i.ctx.ARRAY_BUFFER,i.texcoordBuffer),i.ctx.vertexAttribPointer(i.texcoordLocation,2,t,!1,0,0),i.ctx.uniform2f(i.resolutionLocation,i.options.width,i.options.height),i.ctx.uniform2f(i.textureSizeLocation,i.options.width,i.options.height)},this.drawLogoAnimated=function(){0===i.mouseIsDown&&(i.newVelocity=Math.sqrt((i.oldMousePosition.x-i.currentMousePosition.x)*(i.oldMousePosition.x-i.currentMousePosition.x)+(i.oldMousePosition.y-i.currentMousePosition.y)*(i.oldMousePosition.y-i.currentMousePosition.y))),i.mouseVelocity-=(i.mouseVelocity-i.newVelocity)/22;var t=(new Date).getTime()-i.now;i.ctx.uniform1fv(i.kernelLocation,i.options.kernel),i.ctx.uniform1f(i.kernelWeightLocation,i.computeKernelWeight(i.options.kernel)),i.ctx.uniform1f(i.time,t/1e3),i.mouseLerpDestination.x-=(i.mouseLerpDestination.x-i.currentMousePosition.x)/i.lerpFactor,i.mouseLerpDestination.y-=(i.mouseLerpDestination.y-i.currentMousePosition.y)/i.lerpFactor,i.ctx.uniform2f(i.mouse,i.mouseLerpDestination.x,i.mouseLerpDestination.y),i.ctx.uniform1f(i.mouseVel,i.mouseVelocity);var e=i.ctx.TRIANGLES;i.ctx.drawArrays(e,0,6),i.options.externalRAF||requestAnimationFrame(i.drawLogoAnimated)},this.setRectangle=function(t,e,i,s,r){var n=e,a=e+s,o=i,h=i+r;t.bufferData(t.ARRAY_BUFFER,new Float32Array([n,o,a,o,n,h,n,h,a,o,a,h]),t.STATIC_DRAW)},this.computeKernelWeight=function(t){var e=t.reduce(function(t,e){return t+e});return 0>=e?1:e},this.getMousePos=function(t){clearInterval(i.MRP),i.lerpFactor=4;var e=i.renderCanvas.getBoundingClientRect();return i.MRP=setInterval(i.resetMousePosition,200),{x:(t.clientX-e.left)*i.options.AA,y:(t.clientY-e.top)*i.options.AA}},this.resetMousePosition=function(){i.lerpFactor=80,i.currentMousePosition=i.currentMousePosition.x>i.options.width/2?i.currentMousePosition.y>i.options.height/2?{x:i.options.width+50,y:i.options.height+50}:{x:i.options.width+50,y:-50}:i.currentMousePosition.y>i.options.height/2?{x:-50,y:i.options.height+50}:{x:-50,y:-50}},this.setUpAutoMove=function(){i.looper=0,setInterval(i.updateMousePositionAuto,25)},this.setUpExternal=function(){setInterval(i.updateMousePositionExternal,25)},this.updateMousePositionAuto=function(){i.looper+=1,i.moveArea={x:i.options.width/2-i.options.padding,y:i.options.height/2-i.verticalPadding},i.center={x:i.options.width/2,y:i.options.height/2},i.currentMousePosition={x:Math.sin(i.looper/(1e3/i.options.autoMoveVelocity))*i.moveArea.x+i.center.x,y:Math.cos(i.looper/(1307/i.options.autoMoveVelocity))*i.moveArea.y+i.center.y}},this.updateMousePositionExternal=function(){i.currentMousePosition=i.options.externalSource},this.generateUniqueID=function(){return(new Date).getTime().toString(36)},this.target=e,this.options=r({},{width:640,height:480,padding:100,backgroundColor:"rgba(0, 42, 255, 1)",foregroundColor:"rgba(255, 255, 255, 1)",kernel:[.01,.01,.01,.01,.01,.01,.01,.01,.01],interaction:"mouse",externalSource:null,autoMoveVelocity:10,fract:3,iteration:60,externalRAF:!1,highPerformance:!1,AA:1},s),this.options.width*=this.options.AA,this.options.height*=this.options.AA,this.options.padding*=this.options.AA,1>this.options.width-2*this.options.padding?Promise.reject("Padding too high or width too low, no Logo will be drawed"):(this.now=(new Date).getTime(),this.currentMousePosition={x:0,y:0},this.mouseLerpDestination={x:0,y:0},this.oldMousePosition={x:0,y:0},this.mouseVelocity=0,this.newVelocity=10,this.mouseIsDown=!1,this.lerpFactor=4,this.draw2DCanvas(),this.draw3DCanvas(),this.setUpInteraction(),this.createShaderProgram(),this.createLogoTexture(),this.setUpUniforms(),this.drawLogoWebGL(),void this.drawLogoAnimated())}return n(t,[{key:"fragment",get:function(){var t=this.options.highPerformance,e="";return t||(e="\n\t\t\tfor(int i=0;i<int("+parseInt(this.options.iteration,10)+");i++){\n\t\t\t\tfloat of = (0.2 * float(i) / (dst*30.)) * (u_mouse_vel / 20.);\n\t\t\t\tcolor +=\n\t\t\t\t\ttexture2D(u_image, vec2(v_texCoord.x + (onePixel.x * -1.0 * of) - offset.x, v_texCoord.y + ((1. / dst) * onePixel.y * -1.0 * of) - offset.y)) * u_kernel[0] +\n\t\t\t\t\ttexture2D(u_image, vec2(v_texCoord.x + (onePixel.x *  0.0 * of) - offset.x, v_texCoord.y + ((1. / dst) * onePixel.y * -1.0 * of) - offset.y)) * u_kernel[1] +\n\t\t\t\t\ttexture2D(u_image, vec2(v_texCoord.x + (onePixel.x *  1.0 * of) - offset.x, v_texCoord.y + ((1. / dst) * onePixel.y * -1.0 * of) - offset.y)) * u_kernel[2] +\n\t\t\t\t\ttexture2D(u_image, vec2(v_texCoord.x + (onePixel.x * -1.0 * of) - offset.x, v_texCoord.y + ((1. / dst) * onePixel.y *  0.0 * of) - offset.y)) * u_kernel[3] +\n\t\t\t\t\ttexture2D(u_image, vec2(v_texCoord.x + (onePixel.x *  0.0 * of) - offset.x, v_texCoord.y + ((1. / dst) * onePixel.y *  0.0 * of) - offset.y)) * u_kernel[4] +\n\t\t\t\t\ttexture2D(u_image, vec2(v_texCoord.x + (onePixel.x *  1.0 * of) - offset.x, v_texCoord.y + ((1. / dst) * onePixel.y *  0.0 * of) - offset.y)) * u_kernel[5] +\n\t\t\t\t\ttexture2D(u_image, vec2(v_texCoord.x + (onePixel.x * -1.0 * of) - offset.x, v_texCoord.y + ((1. / dst) * onePixel.y *  1.0 * of) - offset.y)) * u_kernel[6] +\n\t\t\t\t\ttexture2D(u_image, vec2(v_texCoord.x + (onePixel.x *  0.0 * of) - offset.x, v_texCoord.y + ((1. / dst) * onePixel.y *  1.0 * of) - offset.y)) * u_kernel[7] +\n\t\t\t\t\ttexture2D(u_image, vec2(v_texCoord.x + (onePixel.x *  1.0 * of) - offset.x, v_texCoord.y + ((1. / dst) * onePixel.y *  1.0 * of) - offset.y)) * u_kernel[8];\n\t\t\t}\n\t\t\t"),"\n\t\t\t#ifdef GL_FRAGMENT_PRECISION_HIGH\n\t\t\t\tprecision highp float;\n\t\t\t#else\n\t\t\t\tprecision mediump float;\n\t\t\t#endif \n\t\t\t\n\t\t\tuniform sampler2D u_image;\n\t\t\tuniform vec2 u_textureSize;\n\t\t\tuniform float u_kernel[9];\n\t\t\tuniform float u_kernelWeight;\n\t\t\tuniform float u_time;\n\t\t\tuniform vec2 u_mouse;\n\t\t\tuniform float u_mouse_vel;\n\t\t\t\n\t\t\tvarying vec2 v_texCoord;\n\t\t\t\n\t\t\tvoid main() {\n\t\t\t\t\t\n\t\t\t\tvec2 onePixel = vec2(1.0, 1.0) / u_textureSize;\n\t\t\t\tvec2 m = normalize(u_mouse);\n\t\t\t\tvec2 mn = vec2(u_mouse.x, u_textureSize.y - u_mouse.y);\n\t\t\t\n\t\t\t\tvec2 lpos = vec2(gl_FragCoord.x, gl_FragCoord.y);\n\t\t\t\tfloat multiplierX = u_textureSize.x * 2.;\n\t\t\t\tfloat dst = distance(mn, lpos)/multiplierX + 0.000001;\n\t\t\t\tfloat adst = distance(mn, lpos)/multiplierX;\n\t\t\t\n\t\t\t\tvec2 offset = vec2(\n\t\t\t\t\t\t(cos(((u_time/8.)+v_texCoord.y)*8.)/150.)/dst*0.9,\n\t\t\t\t\t -(cos(((u_time/4.)+v_texCoord.x)*8.)/150.)/dst*0.9) * (u_mouse_vel / (multiplierX / 30.));\n\t\t\t\n\t\t\t\tvec2 newCoords = vec2(v_texCoord.x, v_texCoord.y);\n\t\t\t\tvec4 color = texture2D(u_image, vec2(v_texCoord.x + (onePixel.x) - offset.x, v_texCoord.y + (onePixel.y) - offset.y)) * 0.01;\n\t\t\t\t"+e+"\n\t\t\t\tcolor /= "+(t?.01.toFixed(2):parseFloat(this.options.fract).toFixed(2))+";\n\t\t\t\tvec4 mods = vec4(color.r, color.g, color.b, color);\n\t\t\t\tgl_FragColor = mods;\n\t\t\t}\n\t\t\t"}}]),t}();a=h,"object"===s(e)?t.exports=a:"function"==typeof define&&define.amd?define(a):(void 0).AQLogo=a},"JP+z":function(t,e,i){"use strict";t.exports=function(t,e){return function(){for(var i=new Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];return t.apply(e,i)}}},KCLY:function(t,e,i){"use strict";(function(e){var s=i("cGG2"),r=i("5VQ+"),n={"Content-Type":"application/x-www-form-urlencoded"};function a(t,e){!s.isUndefined(t)&&s.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var o,h={adapter:("undefined"!=typeof XMLHttpRequest?o=i("7GwW"):void 0!==e&&(o=i("7GwW")),o),transformRequest:[function(t,e){return r(e,"Content-Type"),s.isFormData(t)||s.isArrayBuffer(t)||s.isBuffer(t)||s.isStream(t)||s.isFile(t)||s.isBlob(t)?t:s.isArrayBufferView(t)?t.buffer:s.isURLSearchParams(t)?(a(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):s.isObject(t)?(a(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};h.headers={common:{Accept:"application/json, text/plain, */*"}},s.forEach(["delete","get","head"],function(t){h.headers[t]={}}),s.forEach(["post","put","patch"],function(t){h.headers[t]=s.merge(n)}),t.exports=h}).call(e,i("W2nU"))},MU5D:function(t,e,i){var s=i("R9M2");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==s(t)?t.split(""):Object(t)}},MmMw:function(t,e,i){var s=i("EqjI");t.exports=function(t,e){if(!s(t))return t;var i,r;if(e&&"function"==typeof(i=t.toString)&&!s(r=i.call(t)))return r;if("function"==typeof(i=t.valueOf)&&!s(r=i.call(t)))return r;if(!e&&"function"==typeof(i=t.toString)&&!s(r=i.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},NYxO:function(t,e,i){"use strict";i.d(e,"b",function(){return _});
/**
 * vuex v3.0.1
 * (c) 2017 Evan You
 * @license MIT
 */
var s=function(t){if(Number(t.version.split(".")[0])>=2)t.mixin({beforeCreate:i});else{var e=t.prototype._init;t.prototype._init=function(t){void 0===t&&(t={}),t.init=t.init?[i].concat(t.init):i,e.call(this,t)}}function i(){var t=this.$options;t.store?this.$store="function"==typeof t.store?t.store():t.store:t.parent&&t.parent.$store&&(this.$store=t.parent.$store)}},r="undefined"!=typeof window&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function n(t,e){Object.keys(t).forEach(function(i){return e(t[i],i)})}var a=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var i=t.state;this.state=("function"==typeof i?i():i)||{}},o={namespaced:{configurable:!0}};o.namespaced.get=function(){return!!this._rawModule.namespaced},a.prototype.addChild=function(t,e){this._children[t]=e},a.prototype.removeChild=function(t){delete this._children[t]},a.prototype.getChild=function(t){return this._children[t]},a.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},a.prototype.forEachChild=function(t){n(this._children,t)},a.prototype.forEachGetter=function(t){this._rawModule.getters&&n(this._rawModule.getters,t)},a.prototype.forEachAction=function(t){this._rawModule.actions&&n(this._rawModule.actions,t)},a.prototype.forEachMutation=function(t){this._rawModule.mutations&&n(this._rawModule.mutations,t)},Object.defineProperties(a.prototype,o);var h=function(t){this.register([],t,!1)};h.prototype.get=function(t){return t.reduce(function(t,e){return t.getChild(e)},this.root)},h.prototype.getNamespace=function(t){var e=this.root;return t.reduce(function(t,i){return t+((e=e.getChild(i)).namespaced?i+"/":"")},"")},h.prototype.update=function(t){!function t(e,i,s){0;i.update(s);if(s.modules)for(var r in s.modules){if(!i.getChild(r))return void 0;t(e.concat(r),i.getChild(r),s.modules[r])}}([],this.root,t)},h.prototype.register=function(t,e,i){var s=this;void 0===i&&(i=!0);var r=new a(e,i);0===t.length?this.root=r:this.get(t.slice(0,-1)).addChild(t[t.length-1],r);e.modules&&n(e.modules,function(e,r){s.register(t.concat(r),e,i)})},h.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),i=t[t.length-1];e.getChild(i).runtime&&e.removeChild(i)};var l;var c=function(t){var e=this;void 0===t&&(t={}),!l&&"undefined"!=typeof window&&window.Vue&&g(window.Vue);var i=t.plugins;void 0===i&&(i=[]);var s=t.strict;void 0===s&&(s=!1);var n=t.state;void 0===n&&(n={}),"function"==typeof n&&(n=n()||{}),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new h(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new l;var a=this,o=this.dispatch,c=this.commit;this.dispatch=function(t,e){return o.call(a,t,e)},this.commit=function(t,e,i){return c.call(a,t,e,i)},this.strict=s,m(this,n,[],this._modules.root),d(this,n),i.forEach(function(t){return t(e)}),l.config.devtools&&function(t){r&&(t._devtoolHook=r,r.emit("vuex:init",t),r.on("vuex:travel-to-state",function(e){t.replaceState(e)}),t.subscribe(function(t,e){r.emit("vuex:mutation",t,e)}))}(this)},p={state:{configurable:!0}};function u(t,e){return e.indexOf(t)<0&&e.push(t),function(){var i=e.indexOf(t);i>-1&&e.splice(i,1)}}function f(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var i=t.state;m(t,i,[],t._modules.root,!0),d(t,i,e)}function d(t,e,i){var s=t._vm;t.getters={};var r={};n(t._wrappedGetters,function(e,i){r[i]=function(){return e(t)},Object.defineProperty(t.getters,i,{get:function(){return t._vm[i]},enumerable:!0})});var a=l.config.silent;l.config.silent=!0,t._vm=new l({data:{$$state:e},computed:r}),l.config.silent=a,t.strict&&function(t){t._vm.$watch(function(){return this._data.$$state},function(){0},{deep:!0,sync:!0})}(t),s&&(i&&t._withCommit(function(){s._data.$$state=null}),l.nextTick(function(){return s.$destroy()}))}function m(t,e,i,s,r){var n=!i.length,a=t._modules.getNamespace(i);if(s.namespaced&&(t._modulesNamespaceMap[a]=s),!n&&!r){var o=y(e,i.slice(0,-1)),h=i[i.length-1];t._withCommit(function(){l.set(o,h,s.state)})}var c=s.context=function(t,e,i){var s=""===e,r={dispatch:s?t.dispatch:function(i,s,r){var n=v(i,s,r),a=n.payload,o=n.options,h=n.type;return o&&o.root||(h=e+h),t.dispatch(h,a)},commit:s?t.commit:function(i,s,r){var n=v(i,s,r),a=n.payload,o=n.options,h=n.type;o&&o.root||(h=e+h),t.commit(h,a,o)}};return Object.defineProperties(r,{getters:{get:s?function(){return t.getters}:function(){return function(t,e){var i={},s=e.length;return Object.keys(t.getters).forEach(function(r){if(r.slice(0,s)===e){var n=r.slice(s);Object.defineProperty(i,n,{get:function(){return t.getters[r]},enumerable:!0})}}),i}(t,e)}},state:{get:function(){return y(t.state,i)}}}),r}(t,a,i);s.forEachMutation(function(e,i){!function(t,e,i,s){(t._mutations[e]||(t._mutations[e]=[])).push(function(e){i.call(t,s.state,e)})}(t,a+i,e,c)}),s.forEachAction(function(e,i){var s=e.root?i:a+i,r=e.handler||e;!function(t,e,i,s){(t._actions[e]||(t._actions[e]=[])).push(function(e,r){var n,a=i.call(t,{dispatch:s.dispatch,commit:s.commit,getters:s.getters,state:s.state,rootGetters:t.getters,rootState:t.state},e,r);return(n=a)&&"function"==typeof n.then||(a=Promise.resolve(a)),t._devtoolHook?a.catch(function(e){throw t._devtoolHook.emit("vuex:error",e),e}):a})}(t,s,r,c)}),s.forEachGetter(function(e,i){!function(t,e,i,s){if(t._wrappedGetters[e])return void 0;t._wrappedGetters[e]=function(t){return i(s.state,s.getters,t.state,t.getters)}}(t,a+i,e,c)}),s.forEachChild(function(s,n){m(t,e,i.concat(n),s,r)})}function y(t,e){return e.length?e.reduce(function(t,e){return t[e]},t):t}function v(t,e,i){var s;return null!==(s=t)&&"object"==typeof s&&t.type&&(i=e,e=t,t=t.type),{type:t,payload:e,options:i}}function g(t){l&&t===l||s(l=t)}p.state.get=function(){return this._vm._data.$$state},p.state.set=function(t){0},c.prototype.commit=function(t,e,i){var s=this,r=v(t,e,i),n=r.type,a=r.payload,o=(r.options,{type:n,payload:a}),h=this._mutations[n];h&&(this._withCommit(function(){h.forEach(function(t){t(a)})}),this._subscribers.forEach(function(t){return t(o,s.state)}))},c.prototype.dispatch=function(t,e){var i=this,s=v(t,e),r=s.type,n=s.payload,a={type:r,payload:n},o=this._actions[r];if(o)return this._actionSubscribers.forEach(function(t){return t(a,i.state)}),o.length>1?Promise.all(o.map(function(t){return t(n)})):o[0](n)},c.prototype.subscribe=function(t){return u(t,this._subscribers)},c.prototype.subscribeAction=function(t){return u(t,this._actionSubscribers)},c.prototype.watch=function(t,e,i){var s=this;return this._watcherVM.$watch(function(){return t(s.state,s.getters)},e,i)},c.prototype.replaceState=function(t){var e=this;this._withCommit(function(){e._vm._data.$$state=t})},c.prototype.registerModule=function(t,e,i){void 0===i&&(i={}),"string"==typeof t&&(t=[t]),this._modules.register(t,e),m(this,this.state,t,this._modules.get(t),i.preserveState),d(this,this.state)},c.prototype.unregisterModule=function(t){var e=this;"string"==typeof t&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var i=y(e.state,t.slice(0,-1));l.delete(i,t[t.length-1])}),f(this)},c.prototype.hotUpdate=function(t){this._modules.update(t),f(this,!0)},c.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(c.prototype,p);var _=P(function(t,e){var i={};return k(e).forEach(function(e){var s=e.key,r=e.val;i[s]=function(){var e=this.$store.state,i=this.$store.getters;if(t){var s=T(this.$store,"mapState",t);if(!s)return;e=s.context.state,i=s.context.getters}return"function"==typeof r?r.call(this,e,i):e[r]},i[s].vuex=!0}),i}),b=P(function(t,e){var i={};return k(e).forEach(function(e){var s=e.key,r=e.val;i[s]=function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];var s=this.$store.commit;if(t){var n=T(this.$store,"mapMutations",t);if(!n)return;s=n.context.commit}return"function"==typeof r?r.apply(this,[s].concat(e)):s.apply(this.$store,[r].concat(e))}}),i}),x=P(function(t,e){var i={};return k(e).forEach(function(e){var s=e.key,r=e.val;r=t+r,i[s]=function(){if(!t||T(this.$store,"mapGetters",t))return this.$store.getters[r]},i[s].vuex=!0}),i}),w=P(function(t,e){var i={};return k(e).forEach(function(e){var s=e.key,r=e.val;i[s]=function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];var s=this.$store.dispatch;if(t){var n=T(this.$store,"mapActions",t);if(!n)return;s=n.context.dispatch}return"function"==typeof r?r.apply(this,[s].concat(e)):s.apply(this.$store,[r].concat(e))}}),i});function k(t){return Array.isArray(t)?t.map(function(t){return{key:t,val:t}}):Object.keys(t).map(function(e){return{key:e,val:t[e]}})}function P(t){return function(e,i){return"string"!=typeof e?(i=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,i)}}function T(t,e,i){return t._modulesNamespaceMap[i]}var E={Store:c,install:g,version:"3.0.1",mapState:_,mapMutations:b,mapGetters:x,mapActions:w,createNamespacedHelpers:function(t){return{mapState:_.bind(null,t),mapGetters:x.bind(null,t),mapMutations:b.bind(null,t),mapActions:w.bind(null,t)}}};e.a=E},NpIQ:function(t,e){e.f={}.propertyIsEnumerable},ON07:function(t,e,i){var s=i("EqjI"),r=i("7KvD").document,n=s(r)&&s(r.createElement);t.exports=function(t){return n?r.createElement(t):{}}},OvRC:function(t,e,i){t.exports={default:i("oM7Q"),__esModule:!0}},Pa2d:function(t,e){var i=function(t){var e={addEvent:function(t,e,i,s){t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent&&(t["e"+e+i]=i,t[e+i]=function(){t["e"+e+i](window.event,s)},t.attachEvent("on"+e,t[e+i]))},removeEvent:function(t,e,i){t.removeEventListener?t.removeEventListener(e,i):t.attachEvent&&t.detachEvent(e)},input:"",pattern:"38384040373937396665",keydownHandler:function(t,i){if(console.log(this),i&&(e=i),e.input+=t?t.keyCode:event.keyCode,e.input.length>e.pattern.length&&(e.input=e.input.substr(e.input.length-e.pattern.length)),e.input===e.pattern)return e.code(e._currentLink),e.input="",t.preventDefault(),!1},load:function(t){this._currentLink=t,this.addEvent(document,"keydown",this.keydownHandler,this),this.iphone.load(t)},unload:function(){this.removeEvent(document,"keydown",this.keydownHandler),this.iphone.unload()},code:function(t){window.location=t},iphone:{start_x:0,start_y:0,stop_x:0,stop_y:0,tap:!1,capture:!1,orig_keys:"",keys:["UP","UP","DOWN","DOWN","LEFT","RIGHT","LEFT","RIGHT","TAP","TAP"],input:[],code:function(t){e.code(t)},touchmoveHandler:function(t){if(1===t.touches.length&&!0===e.iphone.capture){var i=t.touches[0];e.iphone.stop_x=i.pageX,e.iphone.stop_y=i.pageY,e.iphone.tap=!1,e.iphone.capture=!1,e.iphone.check_direction()}},touchendHandler:function(){if(e.iphone.input.push(e.iphone.check_direction()),e.iphone.input.length>e.iphone.keys.length&&e.iphone.input.shift(),e.iphone.input.length===e.iphone.keys.length){for(var t=!0,i=0;i<e.iphone.keys.length;i++)e.iphone.input[i]!==e.iphone.keys[i]&&(t=!1);t&&e.iphone.code(e._currentLink)}},touchstartHandler:function(t){e.iphone.start_x=t.changedTouches[0].pageX,e.iphone.start_y=t.changedTouches[0].pageY,e.iphone.tap=!0,e.iphone.capture=!0},load:function(t){this.orig_keys=this.keys,e.addEvent(document,"touchmove",this.touchmoveHandler),e.addEvent(document,"touchend",this.touchendHandler,!1),e.addEvent(document,"touchstart",this.touchstartHandler)},unload:function(){e.removeEvent(document,"touchmove",this.touchmoveHandler),e.removeEvent(document,"touchend",this.touchendHandler),e.removeEvent(document,"touchstart",this.touchstartHandler)},check_direction:function(){return x_magnitude=Math.abs(this.start_x-this.stop_x),y_magnitude=Math.abs(this.start_y-this.stop_y),x=this.start_x-this.stop_x<0?"RIGHT":"LEFT",y=this.start_y-this.stop_y<0?"DOWN":"UP",result=x_magnitude>y_magnitude?x:y,result=!0===this.tap?"TAP":result,result}}};return"string"==typeof t&&e.load(t),"function"==typeof t&&(e.code=t,e.load()),e};void 0!==t&&void 0!==t.exports?t.exports=i:"function"==typeof define&&define.amd?define([],function(){return i}):window.Konami=i},QRG4:function(t,e,i){var s=i("UuGF"),r=Math.min;t.exports=function(t){return t>0?r(s(t),9007199254740991):0}},R4wc:function(t,e,i){var s=i("kM2E");s(s.S+s.F,"Object",{assign:i("To3L")})},R9M2:function(t,e){var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},RPLV:function(t,e,i){var s=i("7KvD").document;t.exports=s&&s.documentElement},Re3r:function(t,e){function i(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&(i(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&i(t.slice(0,0))}(t)||!!t._isBuffer)}},S82l:function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},SfB7:function(t,e,i){t.exports=!i("+E39")&&!i("S82l")(function(){return 7!=Object.defineProperty(i("ON07")("div"),"a",{get:function(){return 7}}).a})},TNV1:function(t,e,i){"use strict";var s=i("cGG2");t.exports=function(t,e,i){return s.forEach(i,function(i){t=i(t,e)}),t}},TcQ7:function(t,e,i){var s=i("MU5D"),r=i("52gC");t.exports=function(t){return s(r(t))}},To3L:function(t,e,i){"use strict";var s=i("lktj"),r=i("1kS7"),n=i("NpIQ"),a=i("sB3e"),o=i("MU5D"),h=Object.assign;t.exports=!h||i("S82l")(function(){var t={},e={},i=Symbol(),s="abcdefghijklmnopqrst";return t[i]=7,s.split("").forEach(function(t){e[t]=t}),7!=h({},t)[i]||Object.keys(h({},e)).join("")!=s})?function(t,e){for(var i=a(t),h=arguments.length,l=1,c=r.f,p=n.f;h>l;)for(var u,f=o(arguments[l++]),d=c?s(f).concat(c(f)):s(f),m=d.length,y=0;m>y;)p.call(f,u=d[y++])&&(i[u]=f[u]);return i}:h},"UB0+":function(t,e,s){"use strict";s.d(e,"e",function(){return N}),s.d(e,"b",function(){return L}),s.d(e,"d",function(){return H}),s.d(e,"c",function(){return pt}),s.d(e,"f",function(){return zt}),s.d(e,"a",function(){return d}),void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Math.sign&&(Math.sign=function(t){return t<0?-1:t>0?1:+t}),void 0===Function.prototype.name&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&(Object.assign=function(t){if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var s=arguments[i];if(void 0!==s&&null!==s)for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e});var r,n,a,o,h="1.0.9",l=0,c=1,p=2,u=3,f=0,d=1,m=0,y=1,v=2,g=3,_=4,b=5,x=0,w=1,k=2,P=3,T=4,E=5,S=6,A={sqrt:Math.sqrt,abs:Math.abs,floor:Math.floor,cos:Math.cos,sin:Math.sin,acos:Math.acos,asin:Math.asin,atan2:Math.atan2,round:Math.round,pow:Math.pow,max:Math.max,min:Math.min,random:Math.random,degtorad:.017453292519943295,radtodeg:57.29577951308232,PI:3.141592653589793,TwoPI:6.283185307179586,PI90:1.570796326794896,PI270:4.712388980384689,INF:1/0,EPZ:1e-5,EPZ2:1e-6,lerp:function(t,e,i){return(1-i)*t+i*e},randInt:function(t,e){return t+A.floor(A.random()*(e-t+1))},rand:function(t,e){return t+A.random()*(e-t)},generateUUID:(n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),a=new Array(36),o=0,function(){for(var t=0;t<36;t++)8===t||13===t||18===t||23===t?a[t]="-":14===t?a[t]="4":(o<=2&&(o=33554432+16777216*Math.random()|0),r=15&o,o>>=4,a[t]=n[19===t?3&r|8:r]);return a.join("")}),int:function(t){return A.floor(t)},fix:function(t,e){return t.toFixed(e||3,10)},clamp:function(t,e,i){return A.max(e,A.min(i,t))},distance:function(t,e){var i=e[0]-t[0],s=e[1]-t[1],r=e[2]-t[2];return A.sqrt(i*i+s*s+r*r)},acosClamp:function(t){return t>1?0:t<-1?A.PI:A.acos(t)},distanceVector:function(t,e){var i=t.x-e.x,s=t.y-e.y,r=t.z-e.z;return i*i+s*s+r*r},dotVectors:function(t,e){return t.x*e.x+t.y*e.y+t.z*e.z}};function C(t,e){console.error("[OIMO] "+t+": "+e)}function M(t){this.parent=t,this.infos=new Float32Array(13),this.f=[0,0,0],this.times=[0,0,0,0],this.broadPhase=this.parent.broadPhaseType,this.version=h,this.fps=0,this.tt=0,this.broadPhaseTime=0,this.narrowPhaseTime=0,this.solvingTime=0,this.totalTime=0,this.updateTime=0,this.MaxBroadPhaseTime=0,this.MaxNarrowPhaseTime=0,this.MaxSolvingTime=0,this.MaxTotalTime=0,this.MaxUpdateTime=0}function N(t,e,i){this.x=t||0,this.y=e||0,this.z=i||0}function I(t,e,i,s){this.x=t||0,this.y=e||0,this.z=i||0,this.w=void 0!==s?s:1}function D(t,e,i,s,r,n,a,o,h){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("OIMO.Mat33: the constructor no longer reads arguments. use .set() instead.")}function z(t,e,i,s,r,n){this.elements=new Float32Array(6);var a=this.elements;a[0]=t||0,a[1]=i||0,a[2]=r||0,a[3]=e||0,a[4]=s||0,a[5]=n||0}Object.assign(M.prototype,{setTime:function(t){this.times[t||0]=performance.now()},resetMax:function(){this.MaxBroadPhaseTime=0,this.MaxNarrowPhaseTime=0,this.MaxSolvingTime=0,this.MaxTotalTime=0,this.MaxUpdateTime=0},calcBroadPhase:function(){this.setTime(2),this.broadPhaseTime=this.times[2]-this.times[1]},calcNarrowPhase:function(){this.setTime(3),this.narrowPhaseTime=this.times[3]-this.times[2]},calcEnd:function(){this.setTime(2),this.solvingTime=this.times[2]-this.times[1],this.totalTime=this.times[2]-this.times[0],this.updateTime=this.totalTime-(this.broadPhaseTime+this.narrowPhaseTime+this.solvingTime),100===this.tt&&this.resetMax(),this.tt>100&&(this.broadPhaseTime>this.MaxBroadPhaseTime&&(this.MaxBroadPhaseTime=this.broadPhaseTime),this.narrowPhaseTime>this.MaxNarrowPhaseTime&&(this.MaxNarrowPhaseTime=this.narrowPhaseTime),this.solvingTime>this.MaxSolvingTime&&(this.MaxSolvingTime=this.solvingTime),this.totalTime>this.MaxTotalTime&&(this.MaxTotalTime=this.totalTime),this.updateTime>this.MaxUpdateTime&&(this.MaxUpdateTime=this.updateTime)),this.upfps(),this.tt++,this.tt>500&&(this.tt=0)},upfps:function(){this.f[1]=Date.now(),this.f[1]-1e3>this.f[0]&&(this.f[0]=this.f[1],this.fps=this.f[2],this.f[2]=0),this.f[2]++},show:function(){return["Oimo.js "+this.version+"<br>",this.broadPhase+"<br><br>","FPS: "+this.fps+" fps<br><br>","rigidbody "+this.parent.numRigidBodies+"<br>","contact &nbsp;&nbsp;"+this.parent.numContacts+"<br>","ct-point &nbsp;"+this.parent.numContactPoints+"<br>","paircheck "+this.parent.broadPhase.numPairChecks+"<br>","island &nbsp;&nbsp;&nbsp;"+this.parent.numIslands+"<br><br>","Time in milliseconds<br><br>","broadphase &nbsp;"+A.fix(this.broadPhaseTime)+" | "+A.fix(this.MaxBroadPhaseTime)+"<br>","narrowphase "+A.fix(this.narrowPhaseTime)+" | "+A.fix(this.MaxNarrowPhaseTime)+"<br>","solving &nbsp;&nbsp;&nbsp;&nbsp;"+A.fix(this.solvingTime)+" | "+A.fix(this.MaxSolvingTime)+"<br>","total &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"+A.fix(this.totalTime)+" | "+A.fix(this.MaxTotalTime)+"<br>","updating &nbsp;&nbsp;&nbsp;"+A.fix(this.updateTime)+" | "+A.fix(this.MaxUpdateTime)+"<br>"].join("\n")},toArray:function(){return this.infos[0]=this.parent.broadPhase.types,this.infos[1]=this.parent.numRigidBodies,this.infos[2]=this.parent.numContacts,this.infos[3]=this.parent.broadPhase.numPairChecks,this.infos[4]=this.parent.numContactPoints,this.infos[5]=this.parent.numIslands,this.infos[6]=this.broadPhaseTime,this.infos[7]=this.narrowPhaseTime,this.infos[8]=this.solvingTime,this.infos[9]=this.updateTime,this.infos[10]=this.totalTime,this.infos[11]=this.fps,this.infos}}),Object.assign(N.prototype,{Vec3:!0,set:function(t,e,i){return this.x=t,this.y=e,this.z=i,this},add:function(t,e){return void 0!==e?this.addVectors(t,e):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this},addEqual:function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this},sub:function(t,e){return void 0!==e?this.subVectors(t,e):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this},subEqual:function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this},scale:function(t,e){return this.x=t.x*e,this.y=t.y*e,this.z=t.z*e,this},scaleEqual:function(t){return this.x*=t,this.y*=t,this.z*=t,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this},subScaledVector:function(t,e){return this.x-=t.x*e,this.y-=t.y*e,this.z-=t.z*e,this},cross:function(t,e){if(void 0!==e)return this.crossVectors(t,e);var i=this.x,s=this.y,r=this.z;return this.x=s*t.z-r*t.y,this.y=r*t.x-i*t.z,this.z=i*t.y-s*t.x,this},crossVectors:function(t,e){var i=t.x,s=t.y,r=t.z,n=e.x,a=e.y,o=e.z;return this.x=s*o-r*a,this.y=r*n-i*o,this.z=i*a-s*n,this},tangent:function(t){var e=t.x,i=t.y,s=t.z;return this.x=i*e-s*s,this.y=-s*i-e*e,this.z=e*s+i*i,this},invert:function(t){return this.x=-t.x,this.y=-t.y,this.z=-t.z,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},addition:function(){return this.x+this.y+this.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return A.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},applyMatrix3:function(t,e){var i=this.x,s=this.y,r=this.z,n=t.elements;return e?(this.x=n[0]*i+n[1]*s+n[2]*r,this.y=n[3]*i+n[4]*s+n[5]*r,this.z=n[6]*i+n[7]*s+n[8]*r):(this.x=n[0]*i+n[3]*s+n[6]*r,this.y=n[1]*i+n[4]*s+n[7]*r,this.z=n[2]*i+n[5]*s+n[8]*r),this},applyQuaternion:function(t){var e=this.x,i=this.y,s=this.z,r=t.x,n=t.y,a=t.z,o=t.w,h=o*e+n*s-a*i,l=o*i+a*e-r*s,c=o*s+r*i-n*e,p=-r*e-n*i-a*s;return this.x=h*o+p*-r+l*-a-c*-n,this.y=l*o+p*-n+c*-r-h*-a,this.z=c*o+p*-a+h*-n-l*-r,this},testZero:function(){return 0!==this.x||0!==this.y||0!==this.z},testDiff:function(t){return!this.equals(t)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},clone:function(){return new this.constructor(this.x,this.y,this.z)},toString:function(){return"Vec3["+this.x.toFixed(4)+", "+this.y.toFixed(4)+", "+this.z.toFixed(4)+"]"},multiplyScalar:function(t){return isFinite(t)?(this.x*=t,this.y*=t,this.z*=t):(this.x=0,this.y=0,this.z=0),this},divideScalar:function(t){return this.multiplyScalar(1/t)},normalize:function(){return this.divideScalar(this.length())},toArray:function(t,e){void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}}),Object.assign(I.prototype,{Quat:!0,set:function(t,e,i,s){return this.x=t,this.y=e,this.z=i,this.w=s,this},addTime:function(t,e){var i=t.x,s=t.y,r=t.z,n=this.w,a=this.x,o=this.y,h=this.z;return e*=.5,this.x+=e*(i*n+s*h-r*o),this.y+=e*(s*n+r*a-i*h),this.z+=e*(r*n+i*o-s*a),this.w+=e*(-i*a-s*o-r*h),this.normalize(),this},multiply:function(t,e){return void 0!==e?this.multiplyQuaternions(t,e):this.multiplyQuaternions(this,t)},multiplyQuaternions:function(t,e){var i=t.x,s=t.y,r=t.z,n=t.w,a=e.x,o=e.y,h=e.z,l=e.w;return this.x=i*l+n*a+s*h-r*o,this.y=s*l+n*o+r*a-i*h,this.z=r*l+n*h+i*o-s*a,this.w=n*l-i*a-s*o-r*h,this},setFromUnitVectors:function(t,e){var i=new N,s=t.dot(e)+1;return s<A.EPS2?(s=0,A.abs(t.x)>A.abs(t.z)?i.set(-t.y,t.x,0):i.set(0,-t.z,t.y)):i.crossVectors(t,e),this._x=i.x,this._y=i.y,this._z=i.z,this._w=s,this.normalize()},arc:function(t,e){var i=t.x,s=t.y,r=t.z,n=e.x,a=e.y,o=e.z,h=i*n+s*a+r*o;if(-1==h)return n=s*i-r*r,a=-r*s-i*i,o=i*r+s*s,h=1/A.sqrt(n*n+a*a+o*o),this.w=0,this.x=n*h,this.y=a*h,this.z=o*h,this;var l=s*o-r*a,c=r*n-i*o,p=i*a-s*n;return this.w=A.sqrt(.5*(1+h)),h=.5/this.w,this.x=l*h,this.y=c*h,this.z=p*h,this},normalize:function(){var t=this.length();return 0===t?this.set(0,0,0,1):(t=1/t,this.x=this.x*t,this.y=this.y*t,this.z=this.z*t,this.w=this.w*t),this},inverse:function(){return this.conjugate().normalize()},invert:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w,this.conjugate().normalize(),this},conjugate:function(){return this.x*=-1,this.y*=-1,this.z*=-1,this},length:function(){return A.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w,this},clone:function(t){return new I(this.x,this.y,this.z,this.w)},testDiff:function(t){return!this.equals(t)},equals:function(t){return this.x===t.x&&this.y===t.y&&this.z===t.z&&this.w===t.w},toString:function(){return"Quat["+this.x.toFixed(4)+", ("+this.y.toFixed(4)+", "+this.z.toFixed(4)+", "+this.w.toFixed(4)+")]"},setFromEuler:function(t,e,i){var s=Math.cos(.5*t),r=Math.cos(.5*e),n=Math.cos(.5*i),a=Math.sin(.5*t),o=Math.sin(.5*e),h=Math.sin(.5*i);return this.x=a*r*n+s*o*h,this.y=s*o*n-a*r*h,this.z=s*r*h+a*o*n,this.w=s*r*n-a*o*h,this},setFromAxis:function(t,e){t.normalize(),e*=.5;var i=A.sin(e);return this.x=i*t.x,this.y=i*t.y,this.z=i*t.z,this.w=A.cos(e),this},setFromMat33:function(t){var e,i=t[0]+t[4]+t[8];if(i>0)e=A.sqrt(i+1),this.w=.5/e,e=.5/e,this.x=(t[5]-t[7])*e,this.y=(t[6]-t[2])*e,this.z=(t[1]-t[3])*e;else{var s=[],r=0;t[4]>t[0]&&(r=1),t[8]>t[3*r+r]&&(r=2);var n=(r+1)%3,a=(r+2)%3;e=A.sqrt(t[3*r+r]-t[3*n+n]-t[3*a+a]+1),s[r]=.5*fRoot,e=.5/fRoot,this.w=(t[3*n+a]-t[3*a+n])*e,s[n]=(t[3*n+r]+t[3*r+n])*e,s[a]=(t[3*a+r]+t[3*r+a])*e,this.x=s[1],this.y=s[2],this.z=s[3]}return this},toArray:function(t,e){t[e=e||0]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w},fromArray:function(t,e){return e=e||0,this.set(t[e],t[e+1],t[e+2],t[e+3]),this}}),Object.assign(D.prototype,{Mat33:!0,set:function(t,e,i,s,r,n,a,o,h){var l=this.elements;return l[0]=t,l[1]=e,l[2]=i,l[3]=s,l[4]=r,l[5]=n,l[6]=a,l[7]=o,l[8]=h,this},add:function(t,e){if(void 0!==e)return this.addMatrixs(t,e);var i=this.elements,s=t.elements;return i[0]+=s[0],i[1]+=s[1],i[2]+=s[2],i[3]+=s[3],i[4]+=s[4],i[5]+=s[5],i[6]+=s[6],i[7]+=s[7],i[8]+=s[8],this},addMatrixs:function(t,e){var i=this.elements,s=t.elements,r=e.elements;return i[0]=s[0]+r[0],i[1]=s[1]+r[1],i[2]=s[2]+r[2],i[3]=s[3]+r[3],i[4]=s[4]+r[4],i[5]=s[5]+r[5],i[6]=s[6]+r[6],i[7]=s[7]+r[7],i[8]=s[8]+r[8],this},addEqual:function(t){var e=this.elements,i=t.elements;return e[0]+=i[0],e[1]+=i[1],e[2]+=i[2],e[3]+=i[3],e[4]+=i[4],e[5]+=i[5],e[6]+=i[6],e[7]+=i[7],e[8]+=i[8],this},sub:function(t,e){if(void 0!==e)return this.subMatrixs(t,e);var i=this.elements,s=t.elements;return i[0]-=s[0],i[1]-=s[1],i[2]-=s[2],i[3]-=s[3],i[4]-=s[4],i[5]-=s[5],i[6]-=s[6],i[7]-=s[7],i[8]-=s[8],this},subMatrixs:function(t,e){var i=this.elements,s=t.elements,r=e.elements;return i[0]=s[0]-r[0],i[1]=s[1]-r[1],i[2]=s[2]-r[2],i[3]=s[3]-r[3],i[4]=s[4]-r[4],i[5]=s[5]-r[5],i[6]=s[6]-r[6],i[7]=s[7]-r[7],i[8]=s[8]-r[8],this},subEqual:function(t){var e=this.elements,i=t.elements;return e[0]-=i[0],e[1]-=i[1],e[2]-=i[2],e[3]-=i[3],e[4]-=i[4],e[5]-=i[5],e[6]-=i[6],e[7]-=i[7],e[8]-=i[8],this},scale:function(t,e){var i=this.elements,s=t.elements;return i[0]=s[0]*e,i[1]=s[1]*e,i[2]=s[2]*e,i[3]=s[3]*e,i[4]=s[4]*e,i[5]=s[5]*e,i[6]=s[6]*e,i[7]=s[7]*e,i[8]=s[8]*e,this},scaleEqual:function(t){var e=this.elements;return e[0]*=t,e[1]*=t,e[2]*=t,e[3]*=t,e[4]*=t,e[5]*=t,e[6]*=t,e[7]*=t,e[8]*=t,this},multiplyMatrices:function(t,e,i){i&&(e=e.clone().transpose());var s=this.elements,r=t.elements,n=e.elements,a=r[0],o=r[3],h=r[6],l=r[1],c=r[4],p=r[7],u=r[2],f=r[5],d=r[8],m=n[0],y=n[3],v=n[6],g=n[1],_=n[4],b=n[7],x=n[2],w=n[5],k=n[8];return s[0]=a*m+l*y+u*v,s[1]=a*g+l*_+u*b,s[2]=a*x+l*w+u*k,s[3]=o*m+c*y+f*v,s[4]=o*g+c*_+f*b,s[5]=o*x+c*w+f*k,s[6]=h*m+p*y+d*v,s[7]=h*g+p*_+d*b,s[8]=h*x+p*w+d*k,this},transpose:function(t){if(void 0!==t){var e=t.elements;return this.set(e[0],e[3],e[6],e[1],e[4],e[7],e[2],e[5],e[8]),this}var i=this.elements,s=i[1],r=i[2],n=i[5];return i[1]=i[3],i[2]=i[6],i[3]=s,i[5]=i[7],i[6]=r,i[7]=n,this},setQuat:function(t){var e=this.elements,i=t.x,s=t.y,r=t.z,n=t.w,a=i+i,o=s+s,h=r+r,l=i*a,c=i*o,p=i*h,u=s*o,f=s*h,d=r*h,m=n*a,y=n*o,v=n*h;return e[0]=1-(u+d),e[1]=c-v,e[2]=p+y,e[3]=c+v,e[4]=1-(l+d),e[5]=f-m,e[6]=p-y,e[7]=f+m,e[8]=1-(l+u),this},invert:function(t){var e=this.elements,i=t.elements,s=i[0],r=i[3],n=i[6],a=i[1],o=i[4],h=i[7],l=i[2],c=i[5],p=i[8],u=p*o-c*h,f=-p*r+c*n,d=h*r-o*n,m=s*u+a*f+l*d;return 0===m?(console.log("can't invert matrix, determinant is 0"),this.identity()):(m=1/m,e[0]=u*m,e[1]=(-p*a+l*h)*m,e[2]=(c*a-l*o)*m,e[3]=f*m,e[4]=(p*s-l*n)*m,e[5]=(-c*s+l*r)*m,e[6]=d*m,e[7]=(-h*s+a*n)*m,e[8]=(o*s-a*r)*m,this)},addOffset:function(t,e){var i=e.x,s=e.y,r=e.z,n=this.elements;n[0]+=t*(s*s+r*r),n[4]+=t*(i*i+r*r),n[8]+=t*(i*i+s*s);var a=t*i*s,o=t*s*r,h=t*r*i;return n[1]-=a,n[3]-=a,n[2]-=o,n[6]-=o,n[5]-=h,n[7]-=h,this},subOffset:function(t,e){var i=e.x,s=e.y,r=e.z,n=this.elements;n[0]-=t*(s*s+r*r),n[4]-=t*(i*i+r*r),n[8]-=t*(i*i+s*s);var a=t*i*s,o=t*s*r,h=t*r*i;return n[1]+=a,n[3]+=a,n[2]+=o,n[6]+=o,n[5]+=h,n[7]+=h,this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new D).fromArray(this.elements)},copy:function(t){for(var e=0;e<9;e++)this.elements[e]=t.elements[e];return this},determinant:function(){var t=this.elements,e=t[0],i=t[1],s=t[2],r=t[3],n=t[4],a=t[5],o=t[6],h=t[7],l=t[8];return e*n*l-e*a*h-i*r*l+i*a*o+s*r*h-s*n*o},fromArray:function(t,e){void 0===e&&(e=0);for(var i=0;i<9;i++)this.elements[i]=t[i+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t}}),Object.assign(z.prototype,{AABB:!0,set:function(t,e,i,s,r,n){var a=this.elements;return a[0]=t,a[3]=e,a[1]=i,a[4]=s,a[2]=r,a[5]=n,this},intersectTest:function(t){var e=this.elements,i=t.elements;return e[0]>i[3]||e[1]>i[4]||e[2]>i[5]||e[3]<i[0]||e[4]<i[1]||e[5]<i[2]},intersectTestTwo:function(t){var e=this.elements,i=t.elements;return e[0]<i[0]||e[1]<i[1]||e[2]<i[2]||e[3]>i[3]||e[4]>i[4]||e[5]>i[5]},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(t,e){var i=e||0,s=t.elements;return this.set(s[0]-i,s[3]+i,s[1]-i,s[4]+i,s[2]-i,s[5]+i),this},fromArray:function(t){return this.elements.set(t),this},combine:function(t,e){var i=t.elements,s=e.elements,r=this.elements;return r[0]=i[0]<s[0]?i[0]:s[0],r[1]=i[1]<s[1]?i[1]:s[1],r[2]=i[2]<s[2]?i[2]:s[2],r[3]=i[3]>s[3]?i[3]:s[3],r[4]=i[4]>s[4]?i[4]:s[4],r[5]=i[5]>s[5]?i[5]:s[5],this},surfaceArea:function(){var t=this.elements,e=t[3]-t[0],i=t[4]-t[1],s=t[5]-t[2];return 2*(e*(i+s)+i*s)},intersectsWithPoint:function(t,e,i){var s=this.elements;return t>=s[0]&&t<=s[3]&&e>=s[1]&&e<=s[4]&&i>=s[2]&&i<=s[5]},setFromPoints:function(t){this.makeEmpty();for(var e=0;e<t.length;e++)this.expandByPoint(t[e])},makeEmpty:function(){this.set(-1/0,-1/0,-1/0,1/0,1/0,1/0)},expandByPoint:function(t){var e=this.elements;this.set(A.min(e[0],t.x),A.min(e[1],t.y),A.min(e[2],t.z),A.max(e[3],t.x),A.max(e[4],t.y),A.max(e[5],t.z))},expandByScalar:function(t){var e=this.elements;e[0]+=-t,e[1]+=-t,e[2]+=-t,e[3]+=t,e[4]+=t,e[5]+=t}});var O=0;function F(t){this.type=m,this.id=O++,this.prev=null,this.next=null,this.proxy=null,this.parent=null,this.contactLink=null,this.numContacts=0,this.position=new N,this.rotation=new D,this.relativePosition=(new N).copy(t.relativePosition),this.relativeRotation=(new D).copy(t.relativeRotation),this.aabb=new z,this.density=t.density,this.friction=t.friction,this.restitution=t.restitution,this.belongsTo=t.belongsTo,this.collidesWith=t.collidesWith}function L(t,e,i,s){F.call(this,t),this.type=v,this.width=e,this.height=i,this.depth=s,this.halfWidth=.5*e,this.halfHeight=.5*i,this.halfDepth=.5*s,this.dimentions=new Float32Array(18),this.elements=new Float32Array(24)}function V(t,e){F.call(this,t),this.type=y,this.radius=e}function R(t,e,i){F.call(this,t),this.type=g,this.radius=e,this.height=i,this.halfHeight=.5*i,this.normalDirection=new N,this.halfDirection=new N}function j(t,e){F.call(this,t),this.type=_,this.normal=new N(0,1,0)}function B(t,e){F.call(this,t),this.type=b}function H(){this.relativePosition=new N,this.relativeRotation=new D,this.friction=.2,this.restitution=.2,this.density=1,this.belongsTo=1,this.collidesWith=4294967295}function $(t,e){e=e||!1,this.axis=t,this.angle=0,this.lowerLimit=e?0:1,this.upperLimit=0,this.motorSpeed=0,this.maxMotorForce=0,this.frequency=0,this.dampingRatio=0}function G(){this.parent=null,this.body1=null,this.body2=null,this.addedToIsland=!1}function U(t){this.prev=null,this.next=null,this.body=null,this.joint=t}function q(t){G.call(this),this.scale=1,this.invScale=1,this.name="",this.id=NaN,this.type=x,this.prev=null,this.next=null,this.body1=t.body1,this.body2=t.body2,this.localAnchorPoint1=(new N).copy(t.localAnchorPoint1),this.localAnchorPoint2=(new N).copy(t.localAnchorPoint2),this.relativeAnchorPoint1=new N,this.relativeAnchorPoint2=new N,this.anchorPoint1=new N,this.anchorPoint2=new N,this.allowCollision=t.allowCollision,this.b1Link=new U(this),this.b2Link=new U(this)}function X(t){this.m1=NaN,this.m2=NaN,this.ii1=null,this.ii2=null,this.dd=null,this.r1x=NaN,this.r1y=NaN,this.r1z=NaN,this.r2x=NaN,this.r2y=NaN,this.r2z=NaN,this.ax1x=NaN,this.ax1y=NaN,this.ax1z=NaN,this.ay1x=NaN,this.ay1y=NaN,this.ay1z=NaN,this.az1x=NaN,this.az1y=NaN,this.az1z=NaN,this.ax2x=NaN,this.ax2y=NaN,this.ax2z=NaN,this.ay2x=NaN,this.ay2y=NaN,this.ay2z=NaN,this.az2x=NaN,this.az2y=NaN,this.az2z=NaN,this.vel=NaN,this.velx=NaN,this.vely=NaN,this.velz=NaN,this.joint=t,this.r1=t.relativeAnchorPoint1,this.r2=t.relativeAnchorPoint2,this.p1=t.anchorPoint1,this.p2=t.anchorPoint2,this.b1=t.body1,this.b2=t.body2,this.l1=this.b1.linearVelocity,this.l2=this.b2.linearVelocity,this.a1=this.b1.angularVelocity,this.a2=this.b2.angularVelocity,this.i1=this.b1.inverseInertia,this.i2=this.b2.inverseInertia,this.impx=0,this.impy=0,this.impz=0}function W(t,e,i,s){this.cfm1=NaN,this.cfm2=NaN,this.cfm3=NaN,this.i1e00=NaN,this.i1e01=NaN,this.i1e02=NaN,this.i1e10=NaN,this.i1e11=NaN,this.i1e12=NaN,this.i1e20=NaN,this.i1e21=NaN,this.i1e22=NaN,this.i2e00=NaN,this.i2e01=NaN,this.i2e02=NaN,this.i2e10=NaN,this.i2e11=NaN,this.i2e12=NaN,this.i2e20=NaN,this.i2e21=NaN,this.i2e22=NaN,this.ax1=NaN,this.ay1=NaN,this.az1=NaN,this.ax2=NaN,this.ay2=NaN,this.az2=NaN,this.ax3=NaN,this.ay3=NaN,this.az3=NaN,this.a1x1=NaN,this.a1y1=NaN,this.a1z1=NaN,this.a2x1=NaN,this.a2y1=NaN,this.a2z1=NaN,this.a1x2=NaN,this.a1y2=NaN,this.a1z2=NaN,this.a2x2=NaN,this.a2y2=NaN,this.a2z2=NaN,this.a1x3=NaN,this.a1y3=NaN,this.a1z3=NaN,this.a2x3=NaN,this.a2y3=NaN,this.a2z3=NaN,this.lowerLimit1=NaN,this.upperLimit1=NaN,this.limitVelocity1=NaN,this.limitState1=0,this.enableMotor1=!1,this.motorSpeed1=NaN,this.maxMotorForce1=NaN,this.maxMotorImpulse1=NaN,this.lowerLimit2=NaN,this.upperLimit2=NaN,this.limitVelocity2=NaN,this.limitState2=0,this.enableMotor2=!1,this.motorSpeed2=NaN,this.maxMotorForce2=NaN,this.maxMotorImpulse2=NaN,this.lowerLimit3=NaN,this.upperLimit3=NaN,this.limitVelocity3=NaN,this.limitState3=0,this.enableMotor3=!1,this.motorSpeed3=NaN,this.maxMotorForce3=NaN,this.maxMotorImpulse3=NaN,this.k00=NaN,this.k01=NaN,this.k02=NaN,this.k10=NaN,this.k11=NaN,this.k12=NaN,this.k20=NaN,this.k21=NaN,this.k22=NaN,this.kv00=NaN,this.kv11=NaN,this.kv22=NaN,this.dv00=NaN,this.dv11=NaN,this.dv22=NaN,this.d00=NaN,this.d01=NaN,this.d02=NaN,this.d10=NaN,this.d11=NaN,this.d12=NaN,this.d20=NaN,this.d21=NaN,this.d22=NaN,this.limitMotor1=e,this.limitMotor2=i,this.limitMotor3=s,this.b1=t.body1,this.b2=t.body2,this.a1=this.b1.angularVelocity,this.a2=this.b2.angularVelocity,this.i1=this.b1.inverseInertia,this.i2=this.b2.inverseInertia,this.limitImpulse1=0,this.motorImpulse1=0,this.limitImpulse2=0,this.motorImpulse2=0,this.limitImpulse3=0,this.motorImpulse3=0}function Y(t,e,i){q.call(this,t),this.type=P,this.localAxis1=t.localAxis1.clone().normalize(),this.localAxis2=t.localAxis2.clone().normalize();var s=(new D).setQuat((new I).setFromUnitVectors(this.localAxis1,this.localAxis2));this.localAngle1=(new N).tangent(this.localAxis1).normalize(),this.localAngle2=this.localAngle1.clone().applyMatrix3(s,!0),this.ax1=new N,this.ax2=new N,this.an1=new N,this.an2=new N,this.tmp=new N,this.nor=new N,this.tan=new N,this.bin=new N,this.limitMotor=new $(this.nor,!1),this.limitMotor.lowerLimit=e,this.limitMotor.upperLimit=i,this.lc=new X(this),this.r3=new W(this,this.limitMotor,new $(this.tan,!0),new $(this.bin,!0))}function Z(t){q.call(this,t),this.type=k,this.lc=new X(this)}function J(t,e){this.cfm=NaN,this.m1=NaN,this.m2=NaN,this.i1e00=NaN,this.i1e01=NaN,this.i1e02=NaN,this.i1e10=NaN,this.i1e11=NaN,this.i1e12=NaN,this.i1e20=NaN,this.i1e21=NaN,this.i1e22=NaN,this.i2e00=NaN,this.i2e01=NaN,this.i2e02=NaN,this.i2e10=NaN,this.i2e11=NaN,this.i2e12=NaN,this.i2e20=NaN,this.i2e21=NaN,this.i2e22=NaN,this.motorDenom=NaN,this.invMotorDenom=NaN,this.invDenom=NaN,this.ax=NaN,this.ay=NaN,this.az=NaN,this.r1x=NaN,this.r1y=NaN,this.r1z=NaN,this.r2x=NaN,this.r2y=NaN,this.r2z=NaN,this.t1x=NaN,this.t1y=NaN,this.t1z=NaN,this.t2x=NaN,this.t2y=NaN,this.t2z=NaN,this.l1x=NaN,this.l1y=NaN,this.l1z=NaN,this.l2x=NaN,this.l2y=NaN,this.l2z=NaN,this.a1x=NaN,this.a1y=NaN,this.a1z=NaN,this.a2x=NaN,this.a2y=NaN,this.a2z=NaN,this.lowerLimit=NaN,this.upperLimit=NaN,this.limitVelocity=NaN,this.limitState=0,this.enableMotor=!1,this.motorSpeed=NaN,this.maxMotorForce=NaN,this.maxMotorImpulse=NaN,this.limitMotor=e,this.b1=t.body1,this.b2=t.body2,this.p1=t.anchorPoint1,this.p2=t.anchorPoint2,this.r1=t.relativeAnchorPoint1,this.r2=t.relativeAnchorPoint2,this.l1=this.b1.linearVelocity,this.l2=this.b2.linearVelocity,this.a1=this.b1.angularVelocity,this.a2=this.b2.angularVelocity,this.i1=this.b1.inverseInertia,this.i2=this.b2.inverseInertia,this.limitImpulse=0,this.motorImpulse=0}function K(t,e,i){q.call(this,t),this.type=w,this.nor=new N,this.limitMotor=new $(this.nor,!0),this.limitMotor.lowerLimit=e,this.limitMotor.upperLimit=i,this.t=new J(this,this.limitMotor)}function Q(t,e){this.joint=t,this.targetOrientation=(new I).invert(e),this.relativeOrientation=new I,this.ii1=null,this.ii2=null,this.dd=null,this.vel=new N,this.imp=new N,this.rn0=new N,this.rn1=new N,this.rn2=new N,this.b1=t.body1,this.b2=t.body2,this.a1=this.b1.angularVelocity,this.a2=this.b2.angularVelocity,this.i1=this.b1.inverseInertia,this.i2=this.b2.inverseInertia}function tt(t,e,i,s){this.m1=NaN,this.m2=NaN,this.i1e00=NaN,this.i1e01=NaN,this.i1e02=NaN,this.i1e10=NaN,this.i1e11=NaN,this.i1e12=NaN,this.i1e20=NaN,this.i1e21=NaN,this.i1e22=NaN,this.i2e00=NaN,this.i2e01=NaN,this.i2e02=NaN,this.i2e10=NaN,this.i2e11=NaN,this.i2e12=NaN,this.i2e20=NaN,this.i2e21=NaN,this.i2e22=NaN,this.ax1=NaN,this.ay1=NaN,this.az1=NaN,this.ax2=NaN,this.ay2=NaN,this.az2=NaN,this.ax3=NaN,this.ay3=NaN,this.az3=NaN,this.r1x=NaN,this.r1y=NaN,this.r1z=NaN,this.r2x=NaN,this.r2y=NaN,this.r2z=NaN,this.t1x1=NaN,this.t1y1=NaN,this.t1z1=NaN,this.t2x1=NaN,this.t2y1=NaN,this.t2z1=NaN,this.l1x1=NaN,this.l1y1=NaN,this.l1z1=NaN,this.l2x1=NaN,this.l2y1=NaN,this.l2z1=NaN,this.a1x1=NaN,this.a1y1=NaN,this.a1z1=NaN,this.a2x1=NaN,this.a2y1=NaN,this.a2z1=NaN,this.t1x2=NaN,this.t1y2=NaN,this.t1z2=NaN,this.t2x2=NaN,this.t2y2=NaN,this.t2z2=NaN,this.l1x2=NaN,this.l1y2=NaN,this.l1z2=NaN,this.l2x2=NaN,this.l2y2=NaN,this.l2z2=NaN,this.a1x2=NaN,this.a1y2=NaN,this.a1z2=NaN,this.a2x2=NaN,this.a2y2=NaN,this.a2z2=NaN,this.t1x3=NaN,this.t1y3=NaN,this.t1z3=NaN,this.t2x3=NaN,this.t2y3=NaN,this.t2z3=NaN,this.l1x3=NaN,this.l1y3=NaN,this.l1z3=NaN,this.l2x3=NaN,this.l2y3=NaN,this.l2z3=NaN,this.a1x3=NaN,this.a1y3=NaN,this.a1z3=NaN,this.a2x3=NaN,this.a2y3=NaN,this.a2z3=NaN,this.lowerLimit1=NaN,this.upperLimit1=NaN,this.limitVelocity1=NaN,this.limitState1=0,this.enableMotor1=!1,this.motorSpeed1=NaN,this.maxMotorForce1=NaN,this.maxMotorImpulse1=NaN,this.lowerLimit2=NaN,this.upperLimit2=NaN,this.limitVelocity2=NaN,this.limitState2=0,this.enableMotor2=!1,this.motorSpeed2=NaN,this.maxMotorForce2=NaN,this.maxMotorImpulse2=NaN,this.lowerLimit3=NaN,this.upperLimit3=NaN,this.limitVelocity3=NaN,this.limitState3=0,this.enableMotor3=!1,this.motorSpeed3=NaN,this.maxMotorForce3=NaN,this.maxMotorImpulse3=NaN,this.k00=NaN,this.k01=NaN,this.k02=NaN,this.k10=NaN,this.k11=NaN,this.k12=NaN,this.k20=NaN,this.k21=NaN,this.k22=NaN,this.kv00=NaN,this.kv11=NaN,this.kv22=NaN,this.dv00=NaN,this.dv11=NaN,this.dv22=NaN,this.d00=NaN,this.d01=NaN,this.d02=NaN,this.d10=NaN,this.d11=NaN,this.d12=NaN,this.d20=NaN,this.d21=NaN,this.d22=NaN,this.limitMotor1=e,this.limitMotor2=i,this.limitMotor3=s,this.b1=t.body1,this.b2=t.body2,this.p1=t.anchorPoint1,this.p2=t.anchorPoint2,this.r1=t.relativeAnchorPoint1,this.r2=t.relativeAnchorPoint2,this.l1=this.b1.linearVelocity,this.l2=this.b2.linearVelocity,this.a1=this.b1.angularVelocity,this.a2=this.b2.angularVelocity,this.i1=this.b1.inverseInertia,this.i2=this.b2.inverseInertia,this.limitImpulse1=0,this.motorImpulse1=0,this.limitImpulse2=0,this.motorImpulse2=0,this.limitImpulse3=0,this.motorImpulse3=0,this.cfm1=0,this.cfm2=0,this.cfm3=0,this.weight=-1}function et(t,e,i){q.call(this,t),this.type=S,this.localAxis1=t.localAxis1.clone().normalize(),this.localAxis2=t.localAxis2.clone().normalize(),this.ax1=new N,this.ax2=new N,this.nor=new N,this.tan=new N,this.bin=new N,this.ac=new Q(this,(new I).setFromUnitVectors(this.localAxis1,this.localAxis2)),this.limitMotor=new $(this.nor,!0),this.limitMotor.lowerLimit=e,this.limitMotor.upperLimit=i,this.t3=new tt(this,this.limitMotor,new $(this.tan,!0),new $(this.bin,!0))}function it(t,e,i){q.call(this,t),this.type=E,this.localAxis1=t.localAxis1.clone().normalize(),this.localAxis2=t.localAxis2.clone().normalize();var s=(new D).setQuat((new I).setFromUnitVectors(this.localAxis1,this.localAxis2));this.localAngle1=(new N).tangent(this.localAxis1).normalize(),this.localAngle2=this.localAngle1.clone().applyMatrix3(s,!0),this.ax1=new N,this.ax2=new N,this.an1=new N,this.an2=new N,this.tmp=new N,this.nor=new N,this.tan=new N,this.bin=new N,this.rotationalLimitMotor=new $(this.nor,!1),this.r3=new W(this,this.rotationalLimitMotor,new $(this.tan,!0),new $(this.bin,!0)),this.translationalLimitMotor=new $(this.nor,!0),this.translationalLimitMotor.lowerLimit=e,this.translationalLimitMotor.upperLimit=i,this.t3=new tt(this,this.translationalLimitMotor,new $(this.tan,!0),new $(this.bin,!0))}function st(t){q.call(this,t),this.type=T,this.localAxis1=t.localAxis1.clone().normalize(),this.localAxis2=t.localAxis2.clone().normalize(),this.localAngle1=new N,this.localAngle2=new N;var e=A.dotVectors(this.localAxis1,this.localAxis2);if(e>-1&&e<1)this.localAngle1.set(this.localAxis2.x-e*this.localAxis1.x,this.localAxis2.y-e*this.localAxis1.y,this.localAxis2.z-e*this.localAxis1.z).normalize(),this.localAngle2.set(this.localAxis1.x-e*this.localAxis2.x,this.localAxis1.y-e*this.localAxis2.y,this.localAxis1.z-e*this.localAxis2.z).normalize();else{var i=(new D).setQuat((new I).setFromUnitVectors(this.localAxis1,this.localAxis2));this.localAngle1.tangent(this.localAxis1).normalize(),this.localAngle2=this.localAngle1.clone().applyMatrix3(i,!0)}this.ax1=new N,this.ax2=new N,this.an1=new N,this.an2=new N,this.tmp=new N,this.nor=new N,this.tan=new N,this.bin=new N,this.translationalLimitMotor=new $(this.tan,!0),this.translationalLimitMotor.frequency=8,this.translationalLimitMotor.dampingRatio=1,this.rotationalLimitMotor1=new $(this.tan,!1),this.rotationalLimitMotor2=new $(this.bin,!1),this.t3=new tt(this,new $(this.nor,!0),this.translationalLimitMotor,new $(this.bin,!0)),this.t3.weight=1,this.r3=new W(this,new $(this.nor,!0),this.rotationalLimitMotor1,this.rotationalLimitMotor2)}function rt(t){this.prev=null,this.next=null,this.shape=null,this.body=null,this.contact=t}function nt(){this.lp1X=NaN,this.lp1Y=NaN,this.lp1Z=NaN,this.lp2X=NaN,this.lp2Y=NaN,this.lp2Z=NaN,this.impulse=NaN}function at(){this.warmStarted=!1,this.position=new N,this.localPoint1=new N,this.localPoint2=new N,this.normal=new N,this.tangent=new N,this.binormal=new N,this.normalImpulse=0,this.tangentImpulse=0,this.binormalImpulse=0,this.normalDenominator=0,this.tangentDenominator=0,this.binormalDenominator=0,this.penetration=0}function ot(){this.body1=null,this.body2=null,this.numPoints=0,this.points=[new at,new at,new at,new at]}function ht(){this.nor=new N,this.tan=new N,this.bin=new N,this.norU1=new N,this.tanU1=new N,this.binU1=new N,this.norU2=new N,this.tanU2=new N,this.binU2=new N,this.norT1=new N,this.tanT1=new N,this.binT1=new N,this.norT2=new N,this.tanT2=new N,this.binT2=new N,this.norTU1=new N,this.tanTU1=new N,this.binTU1=new N,this.norTU2=new N,this.tanTU2=new N,this.binTU2=new N,this.norImp=0,this.tanImp=0,this.binImp=0,this.norDen=0,this.tanDen=0,this.binDen=0,this.norTar=0,this.next=null,this.last=!1}function lt(t){G.call(this),this.manifold=t,this.restitution=NaN,this.friction=NaN,this.p1=null,this.p2=null,this.lv1=null,this.lv2=null,this.av1=null,this.av2=null,this.i1=null,this.i2=null,this.tmp=new N,this.tmpC1=new N,this.tmpC2=new N,this.tmpP1=new N,this.tmpP2=new N,this.tmplv1=new N,this.tmplv2=new N,this.tmpav1=new N,this.tmpav2=new N,this.m1=NaN,this.m2=NaN,this.num=0,this.ps=t.points,this.cs=new ht,this.cs.next=new ht,this.cs.next.next=new ht,this.cs.next.next.next=new ht}function ct(){this.shape1=null,this.shape2=null,this.body1=null,this.body2=null,this.prev=null,this.next=null,this.persisting=!1,this.sleeping=!1,this.detector=null,this.constraint=null,this.touching=!1,this.close=!1,this.dist=A.INF,this.b1Link=new rt(this),this.b2Link=new rt(this),this.s1Link=new rt(this),this.s2Link=new rt(this),this.manifold=new ot,this.buffer=[new nt,new nt,new nt,new nt],this.points=this.manifold.points,this.constraint=new lt(this.manifold)}function pt(t,e){this.position=t||new N,this.orientation=e||new I,this.scale=1,this.invScale=1,this.mesh=null,this.id=NaN,this.name="",this.prev=null,this.next=null,this.type=f,this.massInfo=new function(){this.mass=0,this.inertia=new D},this.newPosition=new N,this.controlPos=!1,this.newOrientation=new I,this.newRotation=new N,this.currentRotation=new N,this.controlRot=!1,this.controlRotInTime=!1,this.quaternion=new I,this.pos=new N,this.linearVelocity=new N,this.angularVelocity=new N,this.parent=null,this.contactLink=null,this.numContacts=0,this.shapes=null,this.numShapes=0,this.jointLink=null,this.numJoints=0,this.sleepPosition=new N,this.sleepOrientation=new I,this.isStatic=!1,this.isDynamic=!1,this.isKinematic=!1,this.rotation=new D,this.mass=0,this.inverseMass=0,this.inverseInertia=new D,this.localInertia=new D,this.inverseLocalInertia=new D,this.tmpInertia=new D,this.addedToIsland=!1,this.allowSleep=!0,this.sleepTime=0,this.sleeping=!1}function ut(){this.types=l,this.numPairChecks=0,this.numPairs=0,this.pairs=[]}Object.assign(F.prototype,{Shape:!0,calculateMassInfo:function(t){C("Shape","Inheritance error.")},updateProxy:function(){C("Shape","Inheritance error.")}}),L.prototype=Object.assign(Object.create(F.prototype),{constructor:L,calculateMassInfo:function(t){var e=this.width*this.height*this.depth*this.density;t.mass=e,t.inertia.set(e*(this.height*this.height+this.depth*this.depth)*(1/12),0,0,0,e*(this.width*this.width+this.depth*this.depth)*(1/12),0,0,0,e*(this.width*this.width+this.height*this.height)*(1/12))},updateProxy:function(){var t=this.rotation.elements,e=this.dimentions;e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],e[9]=t[0]*this.halfWidth,e[10]=t[3]*this.halfWidth,e[11]=t[6]*this.halfWidth,e[12]=t[1]*this.halfHeight,e[13]=t[4]*this.halfHeight,e[14]=t[7]*this.halfHeight,e[15]=t[2]*this.halfDepth,e[16]=t[5]*this.halfDepth,e[17]=t[8]*this.halfDepth;var i=e[9],s=e[10],r=e[11],n=e[12],a=e[13],o=e[14],h=e[15],l=e[16],c=e[17],p=this.position.x,u=this.position.y,f=this.position.z,d=this.elements;d[0]=p+i+n+h,d[1]=u+s+a+l,d[2]=f+r+o+c,d[3]=p+i+n-h,d[4]=u+s+a-l,d[5]=f+r+o-c,d[6]=p+i-n+h,d[7]=u+s-a+l,d[8]=f+r-o+c,d[9]=p+i-n-h,d[10]=u+s-a-l,d[11]=f+r-o-c,d[12]=p-i+n+h,d[13]=u-s+a+l,d[14]=f-r+o+c,d[15]=p-i+n-h,d[16]=u-s+a-l,d[17]=f-r+o-c,d[18]=p-i-n+h,d[19]=u-s-a+l,d[20]=f-r-o+c,d[21]=p-i-n-h,d[22]=u-s-a-l,d[23]=f-r-o-c;var m=e[9]<0?-e[9]:e[9],y=e[10]<0?-e[10]:e[10],v=e[11]<0?-e[11]:e[11];m=e[12]<0?m-e[12]:m+e[12],y=e[13]<0?y-e[13]:y+e[13],v=e[14]<0?v-e[14]:v+e[14],m=e[15]<0?m-e[15]:m+e[15],y=e[16]<0?y-e[16]:y+e[16],v=e[17]<0?v-e[17]:v+e[17];var g=.005;this.aabb.set(this.position.x-m-g,this.position.x+m+g,this.position.y-y-g,this.position.y+y+g,this.position.z-v-g,this.position.z+v+g),null!=this.proxy&&this.proxy.update()}}),V.prototype=Object.assign(Object.create(F.prototype),{constructor:V,volume:function(){return A.PI*this.radius*1.333333},calculateMassInfo:function(t){var e=this.volume()*this.radius*this.radius*this.density;t.mass=e;var i=e*this.radius*this.radius*.4;t.inertia.set(i,0,0,0,i,0,0,0,i)},updateProxy:function(){var t=.005;this.aabb.set(this.position.x-this.radius-t,this.position.x+this.radius+t,this.position.y-this.radius-t,this.position.y+this.radius+t,this.position.z-this.radius-t,this.position.z+this.radius+t),null!=this.proxy&&this.proxy.update()}}),R.prototype=Object.assign(Object.create(F.prototype),{constructor:R,calculateMassInfo:function(t){var e=this.radius*this.radius,i=A.PI*e*this.height*this.density,s=(.25*e+.0833*this.height*this.height)*i,r=.5*e;t.mass=i,t.inertia.set(s,0,0,0,r,0,0,0,s)},updateProxy:function(){var t,e,i,s,r,n,a,o,h,l,c,p=this.rotation.elements;r=p[1]*p[1],n=p[4]*p[4],a=p[7]*p[7],this.normalDirection.set(p[1],p[4],p[7]),this.halfDirection.scale(this.normalDirection,this.halfHeight),e=1-r,(t=A.sqrt(e*e+r*n+r*a))>0&&(t=this.radius/t),e*=t,i=1-n,(t=A.sqrt(n*r+i*i+n*a))>0&&(t=this.radius/t),i*=t,s=1-a,(t=A.sqrt(a*r+a*n+s*s))>0&&(t=this.radius/t),s*=t,o=this.halfDirection.x<0?-this.halfDirection.x:this.halfDirection.x,h=this.halfDirection.y<0?-this.halfDirection.y:this.halfDirection.y,l=this.halfDirection.z<0?-this.halfDirection.z:this.halfDirection.z,o=e<0?o-e:o+e,h=i<0?h-i:h+i,l=s<0?l-s:l+s,c=.005,this.aabb.set(this.position.x-o-c,this.position.x+o+c,this.position.y-h-c,this.position.y+h+c,this.position.z-l-c,this.position.z+l+c),null!=this.proxy&&this.proxy.update()}}),j.prototype=Object.assign(Object.create(F.prototype),{constructor:j,volume:function(){return Number.MAX_VALUE},calculateMassInfo:function(t){t.mass=this.density;t.inertia.set(1,0,0,0,1,0,0,0,1)},updateProxy:function(){var t=.005,e=-A.INF,i=A.INF,s=this.normal;this.aabb.set(-1===s.x?this.position.x-t:e,1===s.x?this.position.x+t:i,-1===s.y?this.position.y-t:e,1===s.y?this.position.y+t:i,-1===s.z?this.position.z-t:e,1===s.z?this.position.z+t:i),null!=this.proxy&&this.proxy.update()}}),B.prototype=Object.assign(Object.create(F.prototype),{constructor:B,volume:function(){return Number.MAX_VALUE},calculateMassInfo:function(t){t.inertia.set(0,0,0,0,0,0,0,0,0)},updateProxy:function(){this.aabb.set(this.position.x-0,this.position.x+0,this.position.y-0,this.position.y+0,this.position.z-0,this.position.z+0),null!=this.proxy&&this.proxy.update()}}),Object.assign($.prototype,{LimitMotor:!0,setLimit:function(t,e){this.lowerLimit=t,this.upperLimit=e},setMotor:function(t,e){this.motorSpeed=t,this.maxMotorForce=e},setSpring:function(t,e){this.frequency=t,this.dampingRatio=e}}),Object.assign(G.prototype,{Constraint:!0,preSolve:function(t,e){C("Constraint","Inheritance error.")},solve:function(){C("Constraint","Inheritance error.")},postSolve:function(){C("Constraint","Inheritance error.")}}),q.prototype=Object.assign(Object.create(G.prototype),{constructor:q,setId:function(t){this.id=i},setParent:function(t){this.parent=t,this.scale=this.parent.scale,this.invScale=this.parent.invScale,this.id=this.parent.numJoints,this.name||(this.name="J"+this.id)},updateAnchorPoints:function(){this.relativeAnchorPoint1.copy(this.localAnchorPoint1).applyMatrix3(this.body1.rotation,!0),this.relativeAnchorPoint2.copy(this.localAnchorPoint2).applyMatrix3(this.body2.rotation,!0),this.anchorPoint1.add(this.relativeAnchorPoint1,this.body1.position),this.anchorPoint2.add(this.relativeAnchorPoint2,this.body2.position)},attach:function(t){this.b1Link.body=this.body2,this.b2Link.body=this.body1,t?(this.body1.jointLink.push(this.b1Link),this.body2.jointLink.push(this.b2Link)):(null!=this.body1.jointLink?(this.b1Link.next=this.body1.jointLink).prev=this.b1Link:this.b1Link.next=null,this.body1.jointLink=this.b1Link,this.body1.numJoints++,null!=this.body2.jointLink?(this.b2Link.next=this.body2.jointLink).prev=this.b2Link:this.b2Link.next=null,this.body2.jointLink=this.b2Link,this.body2.numJoints++)},detach:function(t){if(t)this.body1.jointLink.splice(this.body1.jointLink.indexOf(this.b1Link),1),this.body2.jointLink.splice(this.body2.jointLink.indexOf(this.b2Link),1);else{var e=this.b1Link.prev,i=this.b1Link.next;null!=e&&(e.next=i),null!=i&&(i.prev=e),this.body1.jointLink==this.b1Link&&(this.body1.jointLink=i),this.b1Link.prev=null,this.b1Link.next=null,this.b1Link.body=null,this.body1.numJoints--,e=this.b2Link.prev,i=this.b2Link.next,null!=e&&(e.next=i),null!=i&&(i.prev=e),this.body2.jointLink==this.b2Link&&(this.body2.jointLink=i),this.b2Link.prev=null,this.b2Link.next=null,this.b2Link.body=null,this.body2.numJoints--}this.b1Link.body=null,this.b2Link.body=null},awake:function(){this.body1.awake(),this.body2.awake()},preSolve:function(t,e){},solve:function(){},postSolve:function(){},remove:function(){this.dispose()},dispose:function(){this.parent.removeJoint(this)},getPosition:function(){return[(new N).scale(this.anchorPoint1,this.scale),(new N).scale(this.anchorPoint2,this.scale)]}}),Object.assign(X.prototype,{LinearConstraint:!0,preSolve:function(t,e){this.r1x=this.r1.x,this.r1y=this.r1.y,this.r1z=this.r1.z,this.r2x=this.r2.x,this.r2y=this.r2.y,this.r2z=this.r2.z,this.m1=this.b1.inverseMass,this.m2=this.b2.inverseMass,this.ii1=this.i1.clone(),this.ii2=this.i2.clone();var i=this.ii1.elements,s=this.ii2.elements;this.ax1x=this.r1z*i[1]+-this.r1y*i[2],this.ax1y=this.r1z*i[4]+-this.r1y*i[5],this.ax1z=this.r1z*i[7]+-this.r1y*i[8],this.ay1x=-this.r1z*i[0]+this.r1x*i[2],this.ay1y=-this.r1z*i[3]+this.r1x*i[5],this.ay1z=-this.r1z*i[6]+this.r1x*i[8],this.az1x=this.r1y*i[0]+-this.r1x*i[1],this.az1y=this.r1y*i[3]+-this.r1x*i[4],this.az1z=this.r1y*i[6]+-this.r1x*i[7],this.ax2x=this.r2z*s[1]+-this.r2y*s[2],this.ax2y=this.r2z*s[4]+-this.r2y*s[5],this.ax2z=this.r2z*s[7]+-this.r2y*s[8],this.ay2x=-this.r2z*s[0]+this.r2x*s[2],this.ay2y=-this.r2z*s[3]+this.r2x*s[5],this.ay2z=-this.r2z*s[6]+this.r2x*s[8],this.az2x=this.r2y*s[0]+-this.r2x*s[1],this.az2y=this.r2y*s[3]+-this.r2x*s[4],this.az2z=this.r2y*s[6]+-this.r2x*s[7];var r=this.m1+this.m2,n=(new D).set(r,0,0,0,r,0,0,0,r).elements;n[0]+=i[4]*this.r1z*this.r1z-(i[7]+i[5])*this.r1y*this.r1z+i[8]*this.r1y*this.r1y,n[1]+=(i[6]*this.r1y+i[5]*this.r1x)*this.r1z-i[3]*this.r1z*this.r1z-i[8]*this.r1x*this.r1y,n[2]+=(i[3]*this.r1y-i[4]*this.r1x)*this.r1z-i[6]*this.r1y*this.r1y+i[7]*this.r1x*this.r1y,n[3]+=(i[2]*this.r1y+i[7]*this.r1x)*this.r1z-i[1]*this.r1z*this.r1z-i[8]*this.r1x*this.r1y,n[4]+=i[0]*this.r1z*this.r1z-(i[6]+i[2])*this.r1x*this.r1z+i[8]*this.r1x*this.r1x,n[5]+=(i[1]*this.r1x-i[0]*this.r1y)*this.r1z-i[7]*this.r1x*this.r1x+i[6]*this.r1x*this.r1y,n[6]+=(i[1]*this.r1y-i[4]*this.r1x)*this.r1z-i[2]*this.r1y*this.r1y+i[5]*this.r1x*this.r1y,n[7]+=(i[3]*this.r1x-i[0]*this.r1y)*this.r1z-i[5]*this.r1x*this.r1x+i[2]*this.r1x*this.r1y,n[8]+=i[0]*this.r1y*this.r1y-(i[3]+i[1])*this.r1x*this.r1y+i[4]*this.r1x*this.r1x,n[0]+=s[4]*this.r2z*this.r2z-(s[7]+s[5])*this.r2y*this.r2z+s[8]*this.r2y*this.r2y,n[1]+=(s[6]*this.r2y+s[5]*this.r2x)*this.r2z-s[3]*this.r2z*this.r2z-s[8]*this.r2x*this.r2y,n[2]+=(s[3]*this.r2y-s[4]*this.r2x)*this.r2z-s[6]*this.r2y*this.r2y+s[7]*this.r2x*this.r2y,n[3]+=(s[2]*this.r2y+s[7]*this.r2x)*this.r2z-s[1]*this.r2z*this.r2z-s[8]*this.r2x*this.r2y,n[4]+=s[0]*this.r2z*this.r2z-(s[6]+s[2])*this.r2x*this.r2z+s[8]*this.r2x*this.r2x,n[5]+=(s[1]*this.r2x-s[0]*this.r2y)*this.r2z-s[7]*this.r2x*this.r2x+s[6]*this.r2x*this.r2y,n[6]+=(s[1]*this.r2y-s[4]*this.r2x)*this.r2z-s[2]*this.r2y*this.r2y+s[5]*this.r2x*this.r2y,n[7]+=(s[3]*this.r2x-s[0]*this.r2y)*this.r2z-s[5]*this.r2x*this.r2x+s[2]*this.r2x*this.r2y,n[8]+=s[0]*this.r2y*this.r2y-(s[3]+s[1])*this.r2x*this.r2y+s[4]*this.r2x*this.r2x;var a=1/(n[0]*(n[4]*n[8]-n[7]*n[5])+n[3]*(n[7]*n[2]-n[1]*n[8])+n[6]*(n[1]*n[5]-n[4]*n[2]));this.dd=(new D).set(n[4]*n[8]-n[5]*n[7],n[2]*n[7]-n[1]*n[8],n[1]*n[5]-n[2]*n[4],n[5]*n[6]-n[3]*n[8],n[0]*n[8]-n[2]*n[6],n[2]*n[3]-n[0]*n[5],n[3]*n[7]-n[4]*n[6],n[1]*n[6]-n[0]*n[7],n[0]*n[4]-n[1]*n[3]).scaleEqual(a),this.velx=this.p2.x-this.p1.x,this.vely=this.p2.y-this.p1.y,this.velz=this.p2.z-this.p1.z;var o=A.sqrt(this.velx*this.velx+this.vely*this.vely+this.velz*this.velz);o>.005?(o=(.005-o)/o*e*.05,this.velx*=o,this.vely*=o,this.velz*=o):(this.velx=0,this.vely=0,this.velz=0),this.impx*=.95,this.impy*=.95,this.impz*=.95,this.l1.x+=this.impx*this.m1,this.l1.y+=this.impy*this.m1,this.l1.z+=this.impz*this.m1,this.a1.x+=this.impx*this.ax1x+this.impy*this.ay1x+this.impz*this.az1x,this.a1.y+=this.impx*this.ax1y+this.impy*this.ay1y+this.impz*this.az1y,this.a1.z+=this.impx*this.ax1z+this.impy*this.ay1z+this.impz*this.az1z,this.l2.x-=this.impx*this.m2,this.l2.y-=this.impy*this.m2,this.l2.z-=this.impz*this.m2,this.a2.x-=this.impx*this.ax2x+this.impy*this.ay2x+this.impz*this.az2x,this.a2.y-=this.impx*this.ax2y+this.impy*this.ay2y+this.impz*this.az2y,this.a2.z-=this.impx*this.ax2z+this.impy*this.ay2z+this.impz*this.az2z},solve:function(){var t=this.dd.elements,e=this.l2.x-this.l1.x+this.a2.y*this.r2z-this.a2.z*this.r2y-this.a1.y*this.r1z+this.a1.z*this.r1y-this.velx,i=this.l2.y-this.l1.y+this.a2.z*this.r2x-this.a2.x*this.r2z-this.a1.z*this.r1x+this.a1.x*this.r1z-this.vely,s=this.l2.z-this.l1.z+this.a2.x*this.r2y-this.a2.y*this.r2x-this.a1.x*this.r1y+this.a1.y*this.r1x-this.velz,r=e*t[0]+i*t[1]+s*t[2],n=e*t[3]+i*t[4]+s*t[5],a=e*t[6]+i*t[7]+s*t[8];this.impx+=r,this.impy+=n,this.impz+=a,this.l1.x+=r*this.m1,this.l1.y+=n*this.m1,this.l1.z+=a*this.m1,this.a1.x+=r*this.ax1x+n*this.ay1x+a*this.az1x,this.a1.y+=r*this.ax1y+n*this.ay1y+a*this.az1y,this.a1.z+=r*this.ax1z+n*this.ay1z+a*this.az1z,this.l2.x-=r*this.m2,this.l2.y-=n*this.m2,this.l2.z-=a*this.m2,this.a2.x-=r*this.ax2x+n*this.ay2x+a*this.az2x,this.a2.y-=r*this.ax2y+n*this.ay2y+a*this.az2y,this.a2.z-=r*this.ax2z+n*this.ay2z+a*this.az2z}}),Object.assign(W.prototype,{Rotational3Constraint:!0,preSolve:function(t,e){this.ax1=this.limitMotor1.axis.x,this.ay1=this.limitMotor1.axis.y,this.az1=this.limitMotor1.axis.z,this.ax2=this.limitMotor2.axis.x,this.ay2=this.limitMotor2.axis.y,this.az2=this.limitMotor2.axis.z,this.ax3=this.limitMotor3.axis.x,this.ay3=this.limitMotor3.axis.y,this.az3=this.limitMotor3.axis.z,this.lowerLimit1=this.limitMotor1.lowerLimit,this.upperLimit1=this.limitMotor1.upperLimit,this.motorSpeed1=this.limitMotor1.motorSpeed,this.maxMotorForce1=this.limitMotor1.maxMotorForce,this.enableMotor1=this.maxMotorForce1>0,this.lowerLimit2=this.limitMotor2.lowerLimit,this.upperLimit2=this.limitMotor2.upperLimit,this.motorSpeed2=this.limitMotor2.motorSpeed,this.maxMotorForce2=this.limitMotor2.maxMotorForce,this.enableMotor2=this.maxMotorForce2>0,this.lowerLimit3=this.limitMotor3.lowerLimit,this.upperLimit3=this.limitMotor3.upperLimit,this.motorSpeed3=this.limitMotor3.motorSpeed,this.maxMotorForce3=this.limitMotor3.maxMotorForce,this.enableMotor3=this.maxMotorForce3>0;var i=this.i1.elements,s=this.i2.elements;this.i1e00=i[0],this.i1e01=i[1],this.i1e02=i[2],this.i1e10=i[3],this.i1e11=i[4],this.i1e12=i[5],this.i1e20=i[6],this.i1e21=i[7],this.i1e22=i[8],this.i2e00=s[0],this.i2e01=s[1],this.i2e02=s[2],this.i2e10=s[3],this.i2e11=s[4],this.i2e12=s[5],this.i2e20=s[6],this.i2e21=s[7],this.i2e22=s[8];var r=this.limitMotor1.frequency,n=this.limitMotor2.frequency,a=this.limitMotor3.frequency,o=r>0,h=n>0,l=a>0,c=this.lowerLimit1<=this.upperLimit1,p=this.lowerLimit2<=this.upperLimit2,u=this.lowerLimit3<=this.upperLimit3,f=this.limitMotor1.angle;c?(this.lowerLimit1==this.upperLimit1?(0!=this.limitState1&&(this.limitState1=0,this.limitImpulse1=0),this.limitVelocity1=this.lowerLimit1-f):f<this.lowerLimit1?(-1!=this.limitState1&&(this.limitState1=-1,this.limitImpulse1=0),this.limitVelocity1=this.lowerLimit1-f):f>this.upperLimit1?(1!=this.limitState1&&(this.limitState1=1,this.limitImpulse1=0),this.limitVelocity1=this.upperLimit1-f):(this.limitState1=2,this.limitImpulse1=0,this.limitVelocity1=0),o||(this.limitVelocity1>.02?this.limitVelocity1-=.02:this.limitVelocity1<-.02?this.limitVelocity1+=.02:this.limitVelocity1=0)):(this.limitState1=2,this.limitImpulse1=0);var d=this.limitMotor2.angle;p?(this.lowerLimit2==this.upperLimit2?(0!=this.limitState2&&(this.limitState2=0,this.limitImpulse2=0),this.limitVelocity2=this.lowerLimit2-d):d<this.lowerLimit2?(-1!=this.limitState2&&(this.limitState2=-1,this.limitImpulse2=0),this.limitVelocity2=this.lowerLimit2-d):d>this.upperLimit2?(1!=this.limitState2&&(this.limitState2=1,this.limitImpulse2=0),this.limitVelocity2=this.upperLimit2-d):(this.limitState2=2,this.limitImpulse2=0,this.limitVelocity2=0),h||(this.limitVelocity2>.02?this.limitVelocity2-=.02:this.limitVelocity2<-.02?this.limitVelocity2+=.02:this.limitVelocity2=0)):(this.limitState2=2,this.limitImpulse2=0);var m=this.limitMotor3.angle;if(u?(this.lowerLimit3==this.upperLimit3?(0!=this.limitState3&&(this.limitState3=0,this.limitImpulse3=0),this.limitVelocity3=this.lowerLimit3-m):m<this.lowerLimit3?(-1!=this.limitState3&&(this.limitState3=-1,this.limitImpulse3=0),this.limitVelocity3=this.lowerLimit3-m):m>this.upperLimit3?(1!=this.limitState3&&(this.limitState3=1,this.limitImpulse3=0),this.limitVelocity3=this.upperLimit3-m):(this.limitState3=2,this.limitImpulse3=0,this.limitVelocity3=0),l||(this.limitVelocity3>.02?this.limitVelocity3-=.02:this.limitVelocity3<-.02?this.limitVelocity3+=.02:this.limitVelocity3=0)):(this.limitState3=2,this.limitImpulse3=0),this.enableMotor1&&(0!=this.limitState1||o)?this.maxMotorImpulse1=this.maxMotorForce1*t:(this.motorImpulse1=0,this.maxMotorImpulse1=0),this.enableMotor2&&(0!=this.limitState2||h)?this.maxMotorImpulse2=this.maxMotorForce2*t:(this.motorImpulse2=0,this.maxMotorImpulse2=0),this.enableMotor3&&(0!=this.limitState3||l)?this.maxMotorImpulse3=this.maxMotorForce3*t:(this.motorImpulse3=0,this.maxMotorImpulse3=0),this.a1x1=this.ax1*this.i1e00+this.ay1*this.i1e01+this.az1*this.i1e02,this.a1y1=this.ax1*this.i1e10+this.ay1*this.i1e11+this.az1*this.i1e12,this.a1z1=this.ax1*this.i1e20+this.ay1*this.i1e21+this.az1*this.i1e22,this.a2x1=this.ax1*this.i2e00+this.ay1*this.i2e01+this.az1*this.i2e02,this.a2y1=this.ax1*this.i2e10+this.ay1*this.i2e11+this.az1*this.i2e12,this.a2z1=this.ax1*this.i2e20+this.ay1*this.i2e21+this.az1*this.i2e22,this.a1x2=this.ax2*this.i1e00+this.ay2*this.i1e01+this.az2*this.i1e02,this.a1y2=this.ax2*this.i1e10+this.ay2*this.i1e11+this.az2*this.i1e12,this.a1z2=this.ax2*this.i1e20+this.ay2*this.i1e21+this.az2*this.i1e22,this.a2x2=this.ax2*this.i2e00+this.ay2*this.i2e01+this.az2*this.i2e02,this.a2y2=this.ax2*this.i2e10+this.ay2*this.i2e11+this.az2*this.i2e12,this.a2z2=this.ax2*this.i2e20+this.ay2*this.i2e21+this.az2*this.i2e22,this.a1x3=this.ax3*this.i1e00+this.ay3*this.i1e01+this.az3*this.i1e02,this.a1y3=this.ax3*this.i1e10+this.ay3*this.i1e11+this.az3*this.i1e12,this.a1z3=this.ax3*this.i1e20+this.ay3*this.i1e21+this.az3*this.i1e22,this.a2x3=this.ax3*this.i2e00+this.ay3*this.i2e01+this.az3*this.i2e02,this.a2y3=this.ax3*this.i2e10+this.ay3*this.i2e11+this.az3*this.i2e12,this.a2z3=this.ax3*this.i2e20+this.ay3*this.i2e21+this.az3*this.i2e22,this.k00=this.ax1*(this.a1x1+this.a2x1)+this.ay1*(this.a1y1+this.a2y1)+this.az1*(this.a1z1+this.a2z1),this.k01=this.ax1*(this.a1x2+this.a2x2)+this.ay1*(this.a1y2+this.a2y2)+this.az1*(this.a1z2+this.a2z2),this.k02=this.ax1*(this.a1x3+this.a2x3)+this.ay1*(this.a1y3+this.a2y3)+this.az1*(this.a1z3+this.a2z3),this.k10=this.ax2*(this.a1x1+this.a2x1)+this.ay2*(this.a1y1+this.a2y1)+this.az2*(this.a1z1+this.a2z1),this.k11=this.ax2*(this.a1x2+this.a2x2)+this.ay2*(this.a1y2+this.a2y2)+this.az2*(this.a1z2+this.a2z2),this.k12=this.ax2*(this.a1x3+this.a2x3)+this.ay2*(this.a1y3+this.a2y3)+this.az2*(this.a1z3+this.a2z3),this.k20=this.ax3*(this.a1x1+this.a2x1)+this.ay3*(this.a1y1+this.a2y1)+this.az3*(this.a1z1+this.a2z1),this.k21=this.ax3*(this.a1x2+this.a2x2)+this.ay3*(this.a1y2+this.a2y2)+this.az3*(this.a1z2+this.a2z2),this.k22=this.ax3*(this.a1x3+this.a2x3)+this.ay3*(this.a1y3+this.a2y3)+this.az3*(this.a1z3+this.a2z3),this.kv00=this.k00,this.kv11=this.k11,this.kv22=this.k22,this.dv00=1/this.kv00,this.dv11=1/this.kv11,this.dv22=1/this.kv22,o&&2!=this.limitState1){var y=6.2831853*r,v=y*y*t,g=e/(v+2*this.limitMotor1.dampingRatio*y);this.cfm1=this.kv00*g,this.limitVelocity1*=v*g}else this.cfm1=0,this.limitVelocity1*=.05*e;h&&2!=this.limitState2?(g=e/((v=(y=6.2831853*n)*y*t)+2*this.limitMotor2.dampingRatio*y),this.cfm2=this.kv11*g,this.limitVelocity2*=v*g):(this.cfm2=0,this.limitVelocity2*=.05*e),l&&2!=this.limitState3?(g=e/((v=(y=6.2831853*a)*y*t)+2*this.limitMotor3.dampingRatio*y),this.cfm3=this.kv22*g,this.limitVelocity3*=v*g):(this.cfm3=0,this.limitVelocity3*=.05*e),this.k00+=this.cfm1,this.k11+=this.cfm2,this.k22+=this.cfm3;var _=1/(this.k00*(this.k11*this.k22-this.k21*this.k12)+this.k10*(this.k21*this.k02-this.k01*this.k22)+this.k20*(this.k01*this.k12-this.k11*this.k02));this.d00=(this.k11*this.k22-this.k12*this.k21)*_,this.d01=(this.k02*this.k21-this.k01*this.k22)*_,this.d02=(this.k01*this.k12-this.k02*this.k11)*_,this.d10=(this.k12*this.k20-this.k10*this.k22)*_,this.d11=(this.k00*this.k22-this.k02*this.k20)*_,this.d12=(this.k02*this.k10-this.k00*this.k12)*_,this.d20=(this.k10*this.k21-this.k11*this.k20)*_,this.d21=(this.k01*this.k20-this.k00*this.k21)*_,this.d22=(this.k00*this.k11-this.k01*this.k10)*_,this.limitImpulse1*=.95,this.motorImpulse1*=.95,this.limitImpulse2*=.95,this.motorImpulse2*=.95,this.limitImpulse3*=.95,this.motorImpulse3*=.95;var b=this.limitImpulse1+this.motorImpulse1,x=this.limitImpulse2+this.motorImpulse2,w=this.limitImpulse3+this.motorImpulse3;this.a1.x+=b*this.a1x1+x*this.a1x2+w*this.a1x3,this.a1.y+=b*this.a1y1+x*this.a1y2+w*this.a1y3,this.a1.z+=b*this.a1z1+x*this.a1z2+w*this.a1z3,this.a2.x-=b*this.a2x1+x*this.a2x2+w*this.a2x3,this.a2.y-=b*this.a2y1+x*this.a2y2+w*this.a2y3,this.a2.z-=b*this.a2z1+x*this.a2z2+w*this.a2z3},solve_:function(){var t=this.a2.x-this.a1.x,e=this.a2.y-this.a1.y,i=this.a2.z-this.a1.z;this.limitVelocity3=30;var s=t*this.ax1+e*this.ay1+i*this.az1-this.limitVelocity1,r=t*this.ax2+e*this.ay2+i*this.az2-this.limitVelocity2,n=t*this.ax3+e*this.ay3+i*this.az3-this.limitVelocity3,a=s*this.d00+r*this.d01+n*this.d02,o=s*this.d10+r*this.d11+n*this.d12,h=s*this.d20+r*this.d21+n*this.d22;this.limitImpulse1+=a,this.limitImpulse2+=o,this.limitImpulse3+=h,this.a1.x+=a*this.a1x1+o*this.a1x2+h*this.a1x3,this.a1.y+=a*this.a1y1+o*this.a1y2+h*this.a1y3,this.a1.z+=a*this.a1z1+o*this.a1z2+h*this.a1z3,this.a2.x-=a*this.a2x1+o*this.a2x2+h*this.a2x3,this.a2.y-=a*this.a2y1+o*this.a2y2+h*this.a2y3,this.a2.z-=a*this.a2z1+o*this.a2z2+h*this.a2z3},solve:function(){var t=this.a2.x-this.a1.x,e=this.a2.y-this.a1.y,i=this.a2.z-this.a1.z,s=t*this.ax1+e*this.ay1+i*this.az1,r=t*this.ax2+e*this.ay2+i*this.az2,n=t*this.ax3+e*this.ay3+i*this.az3,a=this.motorImpulse1,o=this.motorImpulse2,h=this.motorImpulse3,l=0,c=0,p=0;this.enableMotor1&&(l=(s-this.motorSpeed1)*this.dv00,this.motorImpulse1+=l,this.motorImpulse1>this.maxMotorImpulse1?this.motorImpulse1=this.maxMotorImpulse1:this.motorImpulse1<-this.maxMotorImpulse1&&(this.motorImpulse1=-this.maxMotorImpulse1),l=this.motorImpulse1-a),this.enableMotor2&&(c=(r-this.motorSpeed2)*this.dv11,this.motorImpulse2+=c,this.motorImpulse2>this.maxMotorImpulse2?this.motorImpulse2=this.maxMotorImpulse2:this.motorImpulse2<-this.maxMotorImpulse2&&(this.motorImpulse2=-this.maxMotorImpulse2),c=this.motorImpulse2-o),this.enableMotor3&&(p=(n-this.motorSpeed3)*this.dv22,this.motorImpulse3+=p,this.motorImpulse3>this.maxMotorImpulse3?this.motorImpulse3=this.maxMotorImpulse3:this.motorImpulse3<-this.maxMotorImpulse3&&(this.motorImpulse3=-this.maxMotorImpulse3),p=this.motorImpulse3-h),s+=l*this.kv00+c*this.k01+p*this.k02,r+=l*this.k10+c*this.kv11+p*this.k12,n+=l*this.k20+c*this.k21+p*this.kv22,s-=this.limitVelocity1+this.limitImpulse1*this.cfm1,r-=this.limitVelocity2+this.limitImpulse2*this.cfm2,n-=this.limitVelocity3+this.limitImpulse3*this.cfm3;var u=this.limitImpulse1,f=this.limitImpulse2,d=this.limitImpulse3,m=s*this.d00+r*this.d01+n*this.d02,y=s*this.d10+r*this.d11+n*this.d12,v=s*this.d20+r*this.d21+n*this.d22;this.limitImpulse1+=m,this.limitImpulse2+=y,this.limitImpulse3+=v;var g,_=0;switch((2==this.limitState1||this.limitImpulse1*this.limitState1<0)&&(r+=(m=-u)*this.k10,n+=m*this.k20,_|=1),(2==this.limitState2||this.limitImpulse2*this.limitState2<0)&&(s+=(y=-f)*this.k01,n+=y*this.k21,_|=2),(2==this.limitState3||this.limitImpulse3*this.limitState3<0)&&(s+=(v=-d)*this.k02,r+=v*this.k12,_|=4),_){case 1:g=1/(this.k11*this.k22-this.k12*this.k21),y=(this.k22*r+-this.k12*n)*g,v=(-this.k21*r+this.k11*n)*g;break;case 2:g=1/(this.k00*this.k22-this.k02*this.k20),m=(this.k22*s+-this.k02*n)*g,v=(-this.k20*s+this.k00*n)*g;break;case 3:v=n/this.k22;break;case 4:g=1/(this.k00*this.k11-this.k01*this.k10),m=(this.k11*s+-this.k01*r)*g,y=(-this.k10*s+this.k00*r)*g;break;case 5:y=r/this.k11;break;case 6:m=s/this.k00}this.limitImpulse1=m+u,this.limitImpulse2=y+f,this.limitImpulse3=v+d;var b=l+m,x=c+y,w=p+v;this.a1.x+=b*this.a1x1+x*this.a1x2+w*this.a1x3,this.a1.y+=b*this.a1y1+x*this.a1y2+w*this.a1y3,this.a1.z+=b*this.a1z1+x*this.a1z2+w*this.a1z3,this.a2.x-=b*this.a2x1+x*this.a2x2+w*this.a2x3,this.a2.y-=b*this.a2y1+x*this.a2y2+w*this.a2y3,this.a2.z-=b*this.a2z1+x*this.a2z2+w*this.a2z3,t=this.a2.x-this.a1.x,e=this.a2.y-this.a1.y,i=this.a2.z-this.a1.z,r=t*this.ax2+e*this.ay2+i*this.az2}}),Y.prototype=Object.assign(Object.create(q.prototype),{constructor:Y,preSolve:function(t,e){this.updateAnchorPoints(),this.ax1.copy(this.localAxis1).applyMatrix3(this.body1.rotation,!0),this.ax2.copy(this.localAxis2).applyMatrix3(this.body2.rotation,!0),this.an1.copy(this.localAngle1).applyMatrix3(this.body1.rotation,!0),this.an2.copy(this.localAngle2).applyMatrix3(this.body2.rotation,!0),this.nor.set(this.ax1.x*this.body2.inverseMass+this.ax2.x*this.body1.inverseMass,this.ax1.y*this.body2.inverseMass+this.ax2.y*this.body1.inverseMass,this.ax1.z*this.body2.inverseMass+this.ax2.z*this.body1.inverseMass).normalize(),this.tan.tangent(this.nor).normalize(),this.bin.crossVectors(this.nor,this.tan);var i=A.acosClamp(A.dotVectors(this.an1,this.an2));this.tmp.crossVectors(this.an1,this.an2),A.dotVectors(this.nor,this.tmp)<0?this.limitMotor.angle=-i:this.limitMotor.angle=i,this.tmp.crossVectors(this.ax1,this.ax2),this.r3.limitMotor2.angle=A.dotVectors(this.tan,this.tmp),this.r3.limitMotor3.angle=A.dotVectors(this.bin,this.tmp),this.r3.preSolve(t,e),this.lc.preSolve(t,e)},solve:function(){this.r3.solve(),this.lc.solve()},postSolve:function(){}}),Z.prototype=Object.assign(Object.create(q.prototype),{constructor:Z,preSolve:function(t,e){this.updateAnchorPoints(),this.lc.preSolve(t,e)},solve:function(){this.lc.solve()},postSolve:function(){}}),Object.assign(J.prototype,{TranslationalConstraint:!0,preSolve:function(t,e){this.ax=this.limitMotor.axis.x,this.ay=this.limitMotor.axis.y,this.az=this.limitMotor.axis.z,this.lowerLimit=this.limitMotor.lowerLimit,this.upperLimit=this.limitMotor.upperLimit,this.motorSpeed=this.limitMotor.motorSpeed,this.maxMotorForce=this.limitMotor.maxMotorForce,this.enableMotor=this.maxMotorForce>0,this.m1=this.b1.inverseMass,this.m2=this.b2.inverseMass;var i=this.i1.elements,s=this.i2.elements;this.i1e00=i[0],this.i1e01=i[1],this.i1e02=i[2],this.i1e10=i[3],this.i1e11=i[4],this.i1e12=i[5],this.i1e20=i[6],this.i1e21=i[7],this.i1e22=i[8],this.i2e00=s[0],this.i2e01=s[1],this.i2e02=s[2],this.i2e10=s[3],this.i2e11=s[4],this.i2e12=s[5],this.i2e20=s[6],this.i2e21=s[7],this.i2e22=s[8];var r=this.p2.x-this.p1.x,n=this.p2.y-this.p1.y,a=this.p2.z-this.p1.z,o=r*this.ax+n*this.ay+a*this.az,h=this.limitMotor.frequency,l=h>0,c=this.lowerLimit<=this.upperLimit;(l&&o>20||o<-20)&&(l=!1),c?(this.lowerLimit==this.upperLimit?(0!=this.limitState&&(this.limitState=0,this.limitImpulse=0),this.limitVelocity=this.lowerLimit-o,l||(o=this.lowerLimit)):o<this.lowerLimit?(-1!=this.limitState&&(this.limitState=-1,this.limitImpulse=0),this.limitVelocity=this.lowerLimit-o,l||(o=this.lowerLimit)):o>this.upperLimit?(1!=this.limitState&&(this.limitState=1,this.limitImpulse=0),this.limitVelocity=this.upperLimit-o,l||(o=this.upperLimit)):(this.limitState=2,this.limitImpulse=0,this.limitVelocity=0),l||(this.limitVelocity>.005?this.limitVelocity-=.005:this.limitVelocity<-.005?this.limitVelocity+=.005:this.limitVelocity=0)):(this.limitState=2,this.limitImpulse=0),this.enableMotor&&(0!=this.limitState||l)?this.maxMotorImpulse=this.maxMotorForce*t:(this.motorImpulse=0,this.maxMotorImpulse=0);var p=o*this.ax,u=o*this.ay,f=o*this.az,d=this.m1/(this.m1+this.m2),m=1-d;if(this.r1x=this.r1.x+p*d,this.r1y=this.r1.y+u*d,this.r1z=this.r1.z+f*d,this.r2x=this.r2.x-p*m,this.r2y=this.r2.y-u*m,this.r2z=this.r2.z-f*m,this.t1x=this.r1y*this.az-this.r1z*this.ay,this.t1y=this.r1z*this.ax-this.r1x*this.az,this.t1z=this.r1x*this.ay-this.r1y*this.ax,this.t2x=this.r2y*this.az-this.r2z*this.ay,this.t2y=this.r2z*this.ax-this.r2x*this.az,this.t2z=this.r2x*this.ay-this.r2y*this.ax,this.l1x=this.ax*this.m1,this.l1y=this.ay*this.m1,this.l1z=this.az*this.m1,this.l2x=this.ax*this.m2,this.l2y=this.ay*this.m2,this.l2z=this.az*this.m2,this.a1x=this.t1x*this.i1e00+this.t1y*this.i1e01+this.t1z*this.i1e02,this.a1y=this.t1x*this.i1e10+this.t1y*this.i1e11+this.t1z*this.i1e12,this.a1z=this.t1x*this.i1e20+this.t1y*this.i1e21+this.t1z*this.i1e22,this.a2x=this.t2x*this.i2e00+this.t2y*this.i2e01+this.t2z*this.i2e02,this.a2y=this.t2x*this.i2e10+this.t2y*this.i2e11+this.t2z*this.i2e12,this.a2z=this.t2x*this.i2e20+this.t2y*this.i2e21+this.t2z*this.i2e22,this.motorDenom=this.m1+this.m2+this.ax*(this.a1y*this.r1z-this.a1z*this.r1y+this.a2y*this.r2z-this.a2z*this.r2y)+this.ay*(this.a1z*this.r1x-this.a1x*this.r1z+this.a2z*this.r2x-this.a2x*this.r2z)+this.az*(this.a1x*this.r1y-this.a1y*this.r1x+this.a2x*this.r2y-this.a2y*this.r2x),this.invMotorDenom=1/this.motorDenom,l&&2!=this.limitState){var y=6.2831853*h,v=y*y*t,g=e/(v+2*this.limitMotor.dampingRatio*y);this.cfm=this.motorDenom*g,this.limitVelocity*=v*g}else this.cfm=0,this.limitVelocity*=.05*e;this.invDenom=1/(this.motorDenom+this.cfm);var _=this.limitImpulse+this.motorImpulse;this.l1.x+=_*this.l1x,this.l1.y+=_*this.l1y,this.l1.z+=_*this.l1z,this.a1.x+=_*this.a1x,this.a1.y+=_*this.a1y,this.a1.z+=_*this.a1z,this.l2.x-=_*this.l2x,this.l2.y-=_*this.l2y,this.l2.z-=_*this.l2z,this.a2.x-=_*this.a2x,this.a2.y-=_*this.a2y,this.a2.z-=_*this.a2z},solve:function(){var t,e,i=this.ax*(this.l2.x-this.l1.x)+this.ay*(this.l2.y-this.l1.y)+this.az*(this.l2.z-this.l1.z)+this.t2x*this.a2.x-this.t1x*this.a1.x+this.t2y*this.a2.y-this.t1y*this.a1.y+this.t2z*this.a2.z-this.t1z*this.a1.z;if(this.enableMotor){t=(i-this.motorSpeed)*this.invMotorDenom;var s=this.motorImpulse;this.motorImpulse+=t,this.motorImpulse>this.maxMotorImpulse?this.motorImpulse=this.maxMotorImpulse:this.motorImpulse<-this.maxMotorImpulse&&(this.motorImpulse=-this.maxMotorImpulse),i-=(t=this.motorImpulse-s)*this.motorDenom}else t=0;if(2!=this.limitState){e=(i-this.limitVelocity-this.limitImpulse*this.cfm)*this.invDenom;var r=this.limitImpulse;this.limitImpulse+=e,this.limitImpulse*this.limitState<0&&(this.limitImpulse=0),e=this.limitImpulse-r}else e=0;var n=e+t;this.l1.x+=n*this.l1x,this.l1.y+=n*this.l1y,this.l1.z+=n*this.l1z,this.a1.x+=n*this.a1x,this.a1.y+=n*this.a1y,this.a1.z+=n*this.a1z,this.l2.x-=n*this.l2x,this.l2.y-=n*this.l2y,this.l2.z-=n*this.l2z,this.a2.x-=n*this.a2x,this.a2.y-=n*this.a2y,this.a2.z-=n*this.a2z}}),K.prototype=Object.assign(Object.create(q.prototype),{constructor:K,preSolve:function(t,e){this.updateAnchorPoints(),this.nor.sub(this.anchorPoint2,this.anchorPoint1).normalize(),this.t.preSolve(t,e)},solve:function(){this.t.solve()},postSolve:function(){}}),Object.assign(Q.prototype,{AngularConstraint:!0,preSolve:function(t,e){var i,s,r;this.ii1=this.i1.clone(),this.ii2=this.i2.clone(),i=1/((r=(new D).add(this.ii1,this.ii2).elements)[0]*(r[4]*r[8]-r[7]*r[5])+r[3]*(r[7]*r[2]-r[1]*r[8])+r[6]*(r[1]*r[5]-r[4]*r[2])),this.dd=(new D).set(r[4]*r[8]-r[5]*r[7],r[2]*r[7]-r[1]*r[8],r[1]*r[5]-r[2]*r[4],r[5]*r[6]-r[3]*r[8],r[0]*r[8]-r[2]*r[6],r[2]*r[3]-r[0]*r[5],r[3]*r[7]-r[4]*r[6],r[1]*r[6]-r[0]*r[7],r[0]*r[4]-r[1]*r[3]).multiplyScalar(i),this.relativeOrientation.invert(this.b1.orientation).multiply(this.targetOrientation).multiply(this.b2.orientation),i=2*this.relativeOrientation.w,this.vel.copy(this.relativeOrientation).multiplyScalar(i),(s=this.vel.length())>.02?(s=(.02-s)/s*e*.05,this.vel.multiplyScalar(s)):this.vel.set(0,0,0),this.rn1.copy(this.imp).applyMatrix3(this.ii1,!0),this.rn2.copy(this.imp).applyMatrix3(this.ii2,!0),this.a1.add(this.rn1),this.a2.sub(this.rn2)},solve:function(){var t=this.a2.clone().sub(this.a1).sub(this.vel);this.rn0.copy(t).applyMatrix3(this.dd,!0),this.rn1.copy(this.rn0).applyMatrix3(this.ii1,!0),this.rn2.copy(this.rn0).applyMatrix3(this.ii2,!0),this.imp.add(this.rn0),this.a1.add(this.rn1),this.a2.sub(this.rn2)}}),Object.assign(tt.prototype,{Translational3Constraint:!0,preSolve:function(t,e){this.ax1=this.limitMotor1.axis.x,this.ay1=this.limitMotor1.axis.y,this.az1=this.limitMotor1.axis.z,this.ax2=this.limitMotor2.axis.x,this.ay2=this.limitMotor2.axis.y,this.az2=this.limitMotor2.axis.z,this.ax3=this.limitMotor3.axis.x,this.ay3=this.limitMotor3.axis.y,this.az3=this.limitMotor3.axis.z,this.lowerLimit1=this.limitMotor1.lowerLimit,this.upperLimit1=this.limitMotor1.upperLimit,this.motorSpeed1=this.limitMotor1.motorSpeed,this.maxMotorForce1=this.limitMotor1.maxMotorForce,this.enableMotor1=this.maxMotorForce1>0,this.lowerLimit2=this.limitMotor2.lowerLimit,this.upperLimit2=this.limitMotor2.upperLimit,this.motorSpeed2=this.limitMotor2.motorSpeed,this.maxMotorForce2=this.limitMotor2.maxMotorForce,this.enableMotor2=this.maxMotorForce2>0,this.lowerLimit3=this.limitMotor3.lowerLimit,this.upperLimit3=this.limitMotor3.upperLimit,this.motorSpeed3=this.limitMotor3.motorSpeed,this.maxMotorForce3=this.limitMotor3.maxMotorForce,this.enableMotor3=this.maxMotorForce3>0,this.m1=this.b1.inverseMass,this.m2=this.b2.inverseMass;var i=this.i1.elements,s=this.i2.elements;this.i1e00=i[0],this.i1e01=i[1],this.i1e02=i[2],this.i1e10=i[3],this.i1e11=i[4],this.i1e12=i[5],this.i1e20=i[6],this.i1e21=i[7],this.i1e22=i[8],this.i2e00=s[0],this.i2e01=s[1],this.i2e02=s[2],this.i2e10=s[3],this.i2e11=s[4],this.i2e12=s[5],this.i2e20=s[6],this.i2e21=s[7],this.i2e22=s[8];var r=this.p2.x-this.p1.x,n=this.p2.y-this.p1.y,a=this.p2.z-this.p1.z,o=r*this.ax1+n*this.ay1+a*this.az1,h=r*this.ax2+n*this.ay2+a*this.az2,l=r*this.ax3+n*this.ay3+a*this.az3,c=this.limitMotor1.frequency,p=this.limitMotor2.frequency,u=this.limitMotor3.frequency,f=c>0,d=p>0,m=u>0,y=this.lowerLimit1<=this.upperLimit1,v=this.lowerLimit2<=this.upperLimit2,g=this.lowerLimit3<=this.upperLimit3;(f&&o>20||o<-20)&&(f=!1),(d&&h>20||h<-20)&&(d=!1),(m&&l>20||l<-20)&&(m=!1),y?(this.lowerLimit1==this.upperLimit1?(0!=this.limitState1&&(this.limitState1=0,this.limitImpulse1=0),this.limitVelocity1=this.lowerLimit1-o,f||(o=this.lowerLimit1)):o<this.lowerLimit1?(-1!=this.limitState1&&(this.limitState1=-1,this.limitImpulse1=0),this.limitVelocity1=this.lowerLimit1-o,f||(o=this.lowerLimit1)):o>this.upperLimit1?(1!=this.limitState1&&(this.limitState1=1,this.limitImpulse1=0),this.limitVelocity1=this.upperLimit1-o,f||(o=this.upperLimit1)):(this.limitState1=2,this.limitImpulse1=0,this.limitVelocity1=0),f||(this.limitVelocity1>.005?this.limitVelocity1-=.005:this.limitVelocity1<-.005?this.limitVelocity1+=.005:this.limitVelocity1=0)):(this.limitState1=2,this.limitImpulse1=0),v?(this.lowerLimit2==this.upperLimit2?(0!=this.limitState2&&(this.limitState2=0,this.limitImpulse2=0),this.limitVelocity2=this.lowerLimit2-h,d||(h=this.lowerLimit2)):h<this.lowerLimit2?(-1!=this.limitState2&&(this.limitState2=-1,this.limitImpulse2=0),this.limitVelocity2=this.lowerLimit2-h,d||(h=this.lowerLimit2)):h>this.upperLimit2?(1!=this.limitState2&&(this.limitState2=1,this.limitImpulse2=0),this.limitVelocity2=this.upperLimit2-h,d||(h=this.upperLimit2)):(this.limitState2=2,this.limitImpulse2=0,this.limitVelocity2=0),d||(this.limitVelocity2>.005?this.limitVelocity2-=.005:this.limitVelocity2<-.005?this.limitVelocity2+=.005:this.limitVelocity2=0)):(this.limitState2=2,this.limitImpulse2=0),g?(this.lowerLimit3==this.upperLimit3?(0!=this.limitState3&&(this.limitState3=0,this.limitImpulse3=0),this.limitVelocity3=this.lowerLimit3-l,m||(l=this.lowerLimit3)):l<this.lowerLimit3?(-1!=this.limitState3&&(this.limitState3=-1,this.limitImpulse3=0),this.limitVelocity3=this.lowerLimit3-l,m||(l=this.lowerLimit3)):l>this.upperLimit3?(1!=this.limitState3&&(this.limitState3=1,this.limitImpulse3=0),this.limitVelocity3=this.upperLimit3-l,m||(l=this.upperLimit3)):(this.limitState3=2,this.limitImpulse3=0,this.limitVelocity3=0),m||(this.limitVelocity3>.005?this.limitVelocity3-=.005:this.limitVelocity3<-.005?this.limitVelocity3+=.005:this.limitVelocity3=0)):(this.limitState3=2,this.limitImpulse3=0),this.enableMotor1&&(0!=this.limitState1||f)?this.maxMotorImpulse1=this.maxMotorForce1*t:(this.motorImpulse1=0,this.maxMotorImpulse1=0),this.enableMotor2&&(0!=this.limitState2||d)?this.maxMotorImpulse2=this.maxMotorForce2*t:(this.motorImpulse2=0,this.maxMotorImpulse2=0),this.enableMotor3&&(0!=this.limitState3||m)?this.maxMotorImpulse3=this.maxMotorForce3*t:(this.motorImpulse3=0,this.maxMotorImpulse3=0);var _=o*this.ax1+h*this.ax2+l*this.ax2,b=o*this.ay1+h*this.ay2+l*this.ay2,x=o*this.az1+h*this.az2+l*this.az2,w=this.m2/(this.m1+this.m2);this.weight>=0&&(w=this.weight);var k=1-w;this.r1x=this.r1.x+_*w,this.r1y=this.r1.y+b*w,this.r1z=this.r1.z+x*w,this.r2x=this.r2.x-_*k,this.r2y=this.r2.y-b*k,this.r2z=this.r2.z-x*k,this.t1x1=this.r1y*this.az1-this.r1z*this.ay1,this.t1y1=this.r1z*this.ax1-this.r1x*this.az1,this.t1z1=this.r1x*this.ay1-this.r1y*this.ax1,this.t2x1=this.r2y*this.az1-this.r2z*this.ay1,this.t2y1=this.r2z*this.ax1-this.r2x*this.az1,this.t2z1=this.r2x*this.ay1-this.r2y*this.ax1,this.l1x1=this.ax1*this.m1,this.l1y1=this.ay1*this.m1,this.l1z1=this.az1*this.m1,this.l2x1=this.ax1*this.m2,this.l2y1=this.ay1*this.m2,this.l2z1=this.az1*this.m2,this.a1x1=this.t1x1*this.i1e00+this.t1y1*this.i1e01+this.t1z1*this.i1e02,this.a1y1=this.t1x1*this.i1e10+this.t1y1*this.i1e11+this.t1z1*this.i1e12,this.a1z1=this.t1x1*this.i1e20+this.t1y1*this.i1e21+this.t1z1*this.i1e22,this.a2x1=this.t2x1*this.i2e00+this.t2y1*this.i2e01+this.t2z1*this.i2e02,this.a2y1=this.t2x1*this.i2e10+this.t2y1*this.i2e11+this.t2z1*this.i2e12,this.a2z1=this.t2x1*this.i2e20+this.t2y1*this.i2e21+this.t2z1*this.i2e22,this.t1x2=this.r1y*this.az2-this.r1z*this.ay2,this.t1y2=this.r1z*this.ax2-this.r1x*this.az2,this.t1z2=this.r1x*this.ay2-this.r1y*this.ax2,this.t2x2=this.r2y*this.az2-this.r2z*this.ay2,this.t2y2=this.r2z*this.ax2-this.r2x*this.az2,this.t2z2=this.r2x*this.ay2-this.r2y*this.ax2,this.l1x2=this.ax2*this.m1,this.l1y2=this.ay2*this.m1,this.l1z2=this.az2*this.m1,this.l2x2=this.ax2*this.m2,this.l2y2=this.ay2*this.m2,this.l2z2=this.az2*this.m2,this.a1x2=this.t1x2*this.i1e00+this.t1y2*this.i1e01+this.t1z2*this.i1e02,this.a1y2=this.t1x2*this.i1e10+this.t1y2*this.i1e11+this.t1z2*this.i1e12,this.a1z2=this.t1x2*this.i1e20+this.t1y2*this.i1e21+this.t1z2*this.i1e22,this.a2x2=this.t2x2*this.i2e00+this.t2y2*this.i2e01+this.t2z2*this.i2e02,this.a2y2=this.t2x2*this.i2e10+this.t2y2*this.i2e11+this.t2z2*this.i2e12,this.a2z2=this.t2x2*this.i2e20+this.t2y2*this.i2e21+this.t2z2*this.i2e22,this.t1x3=this.r1y*this.az3-this.r1z*this.ay3,this.t1y3=this.r1z*this.ax3-this.r1x*this.az3,this.t1z3=this.r1x*this.ay3-this.r1y*this.ax3,this.t2x3=this.r2y*this.az3-this.r2z*this.ay3,this.t2y3=this.r2z*this.ax3-this.r2x*this.az3,this.t2z3=this.r2x*this.ay3-this.r2y*this.ax3,this.l1x3=this.ax3*this.m1,this.l1y3=this.ay3*this.m1,this.l1z3=this.az3*this.m1,this.l2x3=this.ax3*this.m2,this.l2y3=this.ay3*this.m2,this.l2z3=this.az3*this.m2,this.a1x3=this.t1x3*this.i1e00+this.t1y3*this.i1e01+this.t1z3*this.i1e02,this.a1y3=this.t1x3*this.i1e10+this.t1y3*this.i1e11+this.t1z3*this.i1e12,this.a1z3=this.t1x3*this.i1e20+this.t1y3*this.i1e21+this.t1z3*this.i1e22,this.a2x3=this.t2x3*this.i2e00+this.t2y3*this.i2e01+this.t2z3*this.i2e02,this.a2y3=this.t2x3*this.i2e10+this.t2y3*this.i2e11+this.t2z3*this.i2e12,this.a2z3=this.t2x3*this.i2e20+this.t2y3*this.i2e21+this.t2z3*this.i2e22;var P=this.m1+this.m2;if(this.k00=(this.ax1*this.ax1+this.ay1*this.ay1+this.az1*this.az1)*P,this.k01=(this.ax1*this.ax2+this.ay1*this.ay2+this.az1*this.az2)*P,this.k02=(this.ax1*this.ax3+this.ay1*this.ay3+this.az1*this.az3)*P,this.k10=(this.ax2*this.ax1+this.ay2*this.ay1+this.az2*this.az1)*P,this.k11=(this.ax2*this.ax2+this.ay2*this.ay2+this.az2*this.az2)*P,this.k12=(this.ax2*this.ax3+this.ay2*this.ay3+this.az2*this.az3)*P,this.k20=(this.ax3*this.ax1+this.ay3*this.ay1+this.az3*this.az1)*P,this.k21=(this.ax3*this.ax2+this.ay3*this.ay2+this.az3*this.az2)*P,this.k22=(this.ax3*this.ax3+this.ay3*this.ay3+this.az3*this.az3)*P,this.k00+=this.t1x1*this.a1x1+this.t1y1*this.a1y1+this.t1z1*this.a1z1,this.k01+=this.t1x1*this.a1x2+this.t1y1*this.a1y2+this.t1z1*this.a1z2,this.k02+=this.t1x1*this.a1x3+this.t1y1*this.a1y3+this.t1z1*this.a1z3,this.k10+=this.t1x2*this.a1x1+this.t1y2*this.a1y1+this.t1z2*this.a1z1,this.k11+=this.t1x2*this.a1x2+this.t1y2*this.a1y2+this.t1z2*this.a1z2,this.k12+=this.t1x2*this.a1x3+this.t1y2*this.a1y3+this.t1z2*this.a1z3,this.k20+=this.t1x3*this.a1x1+this.t1y3*this.a1y1+this.t1z3*this.a1z1,this.k21+=this.t1x3*this.a1x2+this.t1y3*this.a1y2+this.t1z3*this.a1z2,this.k22+=this.t1x3*this.a1x3+this.t1y3*this.a1y3+this.t1z3*this.a1z3,this.k00+=this.t2x1*this.a2x1+this.t2y1*this.a2y1+this.t2z1*this.a2z1,this.k01+=this.t2x1*this.a2x2+this.t2y1*this.a2y2+this.t2z1*this.a2z2,this.k02+=this.t2x1*this.a2x3+this.t2y1*this.a2y3+this.t2z1*this.a2z3,this.k10+=this.t2x2*this.a2x1+this.t2y2*this.a2y1+this.t2z2*this.a2z1,this.k11+=this.t2x2*this.a2x2+this.t2y2*this.a2y2+this.t2z2*this.a2z2,this.k12+=this.t2x2*this.a2x3+this.t2y2*this.a2y3+this.t2z2*this.a2z3,this.k20+=this.t2x3*this.a2x1+this.t2y3*this.a2y1+this.t2z3*this.a2z1,this.k21+=this.t2x3*this.a2x2+this.t2y3*this.a2y2+this.t2z3*this.a2z2,this.k22+=this.t2x3*this.a2x3+this.t2y3*this.a2y3+this.t2z3*this.a2z3,this.kv00=this.k00,this.kv11=this.k11,this.kv22=this.k22,this.dv00=1/this.kv00,this.dv11=1/this.kv11,this.dv22=1/this.kv22,f&&2!=this.limitState1){var T=6.2831853*c,E=T*T*t,S=e/(E+2*this.limitMotor1.dampingRatio*T);this.cfm1=this.kv00*S,this.limitVelocity1*=E*S}else this.cfm1=0,this.limitVelocity1*=.05*e;d&&2!=this.limitState2?(S=e/((E=(T=6.2831853*p)*T*t)+2*this.limitMotor2.dampingRatio*T),this.cfm2=this.kv11*S,this.limitVelocity2*=E*S):(this.cfm2=0,this.limitVelocity2*=.05*e),m&&2!=this.limitState3?(S=e/((E=(T=6.2831853*u)*T*t)+2*this.limitMotor3.dampingRatio*T),this.cfm3=this.kv22*S,this.limitVelocity3*=E*S):(this.cfm3=0,this.limitVelocity3*=.05*e),this.k00+=this.cfm1,this.k11+=this.cfm2,this.k22+=this.cfm3;var A=1/(this.k00*(this.k11*this.k22-this.k21*this.k12)+this.k10*(this.k21*this.k02-this.k01*this.k22)+this.k20*(this.k01*this.k12-this.k11*this.k02));this.d00=(this.k11*this.k22-this.k12*this.k21)*A,this.d01=(this.k02*this.k21-this.k01*this.k22)*A,this.d02=(this.k01*this.k12-this.k02*this.k11)*A,this.d10=(this.k12*this.k20-this.k10*this.k22)*A,this.d11=(this.k00*this.k22-this.k02*this.k20)*A,this.d12=(this.k02*this.k10-this.k00*this.k12)*A,this.d20=(this.k10*this.k21-this.k11*this.k20)*A,this.d21=(this.k01*this.k20-this.k00*this.k21)*A,this.d22=(this.k00*this.k11-this.k01*this.k10)*A;var C=this.limitImpulse1+this.motorImpulse1,M=this.limitImpulse2+this.motorImpulse2,N=this.limitImpulse3+this.motorImpulse3;this.l1.x+=C*this.l1x1+M*this.l1x2+N*this.l1x3,this.l1.y+=C*this.l1y1+M*this.l1y2+N*this.l1y3,this.l1.z+=C*this.l1z1+M*this.l1z2+N*this.l1z3,this.a1.x+=C*this.a1x1+M*this.a1x2+N*this.a1x3,this.a1.y+=C*this.a1y1+M*this.a1y2+N*this.a1y3,this.a1.z+=C*this.a1z1+M*this.a1z2+N*this.a1z3,this.l2.x-=C*this.l2x1+M*this.l2x2+N*this.l2x3,this.l2.y-=C*this.l2y1+M*this.l2y2+N*this.l2y3,this.l2.z-=C*this.l2z1+M*this.l2z2+N*this.l2z3,this.a2.x-=C*this.a2x1+M*this.a2x2+N*this.a2x3,this.a2.y-=C*this.a2y1+M*this.a2y2+N*this.a2y3,this.a2.z-=C*this.a2z1+M*this.a2z2+N*this.a2z3},solve:function(){var t=this.l2.x-this.l1.x+this.a2.y*this.r2z-this.a2.z*this.r2y-this.a1.y*this.r1z+this.a1.z*this.r1y,e=this.l2.y-this.l1.y+this.a2.z*this.r2x-this.a2.x*this.r2z-this.a1.z*this.r1x+this.a1.x*this.r1z,i=this.l2.z-this.l1.z+this.a2.x*this.r2y-this.a2.y*this.r2x-this.a1.x*this.r1y+this.a1.y*this.r1x,s=t*this.ax1+e*this.ay1+i*this.az1,r=t*this.ax2+e*this.ay2+i*this.az2,n=t*this.ax3+e*this.ay3+i*this.az3,a=this.motorImpulse1,o=this.motorImpulse2,h=this.motorImpulse3,l=0,c=0,p=0;this.enableMotor1&&(l=(s-this.motorSpeed1)*this.dv00,this.motorImpulse1+=l,this.motorImpulse1>this.maxMotorImpulse1?this.motorImpulse1=this.maxMotorImpulse1:this.motorImpulse1<-this.maxMotorImpulse1&&(this.motorImpulse1=-this.maxMotorImpulse1),l=this.motorImpulse1-a),this.enableMotor2&&(c=(r-this.motorSpeed2)*this.dv11,this.motorImpulse2+=c,this.motorImpulse2>this.maxMotorImpulse2?this.motorImpulse2=this.maxMotorImpulse2:this.motorImpulse2<-this.maxMotorImpulse2&&(this.motorImpulse2=-this.maxMotorImpulse2),c=this.motorImpulse2-o),this.enableMotor3&&(p=(n-this.motorSpeed3)*this.dv22,this.motorImpulse3+=p,this.motorImpulse3>this.maxMotorImpulse3?this.motorImpulse3=this.maxMotorImpulse3:this.motorImpulse3<-this.maxMotorImpulse3&&(this.motorImpulse3=-this.maxMotorImpulse3),p=this.motorImpulse3-h),s+=l*this.kv00+c*this.k01+p*this.k02,r+=l*this.k10+c*this.kv11+p*this.k12,n+=l*this.k20+c*this.k21+p*this.kv22,s-=this.limitVelocity1+this.limitImpulse1*this.cfm1,r-=this.limitVelocity2+this.limitImpulse2*this.cfm2,n-=this.limitVelocity3+this.limitImpulse3*this.cfm3;var u=this.limitImpulse1,f=this.limitImpulse2,d=this.limitImpulse3,m=s*this.d00+r*this.d01+n*this.d02,y=s*this.d10+r*this.d11+n*this.d12,v=s*this.d20+r*this.d21+n*this.d22;this.limitImpulse1+=m,this.limitImpulse2+=y,this.limitImpulse3+=v;var g,_=0;switch((2==this.limitState1||this.limitImpulse1*this.limitState1<0)&&(r+=(m=-u)*this.k10,n+=m*this.k20,_|=1),(2==this.limitState2||this.limitImpulse2*this.limitState2<0)&&(s+=(y=-f)*this.k01,n+=y*this.k21,_|=2),(2==this.limitState3||this.limitImpulse3*this.limitState3<0)&&(s+=(v=-d)*this.k02,r+=v*this.k12,_|=4),_){case 1:g=1/(this.k11*this.k22-this.k12*this.k21),y=(this.k22*r+-this.k12*n)*g,v=(-this.k21*r+this.k11*n)*g;break;case 2:g=1/(this.k00*this.k22-this.k02*this.k20),m=(this.k22*s+-this.k02*n)*g,v=(-this.k20*s+this.k00*n)*g;break;case 3:v=n/this.k22;break;case 4:g=1/(this.k00*this.k11-this.k01*this.k10),m=(this.k11*s+-this.k01*r)*g,y=(-this.k10*s+this.k00*r)*g;break;case 5:y=r/this.k11;break;case 6:m=s/this.k00}this.limitImpulse1=u+m,this.limitImpulse2=f+y,this.limitImpulse3=d+v;var b=l+m,x=c+y,w=p+v;this.l1.x+=b*this.l1x1+x*this.l1x2+w*this.l1x3,this.l1.y+=b*this.l1y1+x*this.l1y2+w*this.l1y3,this.l1.z+=b*this.l1z1+x*this.l1z2+w*this.l1z3,this.a1.x+=b*this.a1x1+x*this.a1x2+w*this.a1x3,this.a1.y+=b*this.a1y1+x*this.a1y2+w*this.a1y3,this.a1.z+=b*this.a1z1+x*this.a1z2+w*this.a1z3,this.l2.x-=b*this.l2x1+x*this.l2x2+w*this.l2x3,this.l2.y-=b*this.l2y1+x*this.l2y2+w*this.l2y3,this.l2.z-=b*this.l2z1+x*this.l2z2+w*this.l2z3,this.a2.x-=b*this.a2x1+x*this.a2x2+w*this.a2x3,this.a2.y-=b*this.a2y1+x*this.a2y2+w*this.a2y3,this.a2.z-=b*this.a2z1+x*this.a2z2+w*this.a2z3}}),et.prototype=Object.assign(Object.create(q.prototype),{constructor:et,preSolve:function(t,e){this.updateAnchorPoints(),this.ax1.copy(this.localAxis1).applyMatrix3(this.body1.rotation,!0),this.ax2.copy(this.localAxis2).applyMatrix3(this.body2.rotation,!0),this.nor.set(this.ax1.x*this.body2.inverseMass+this.ax2.x*this.body1.inverseMass,this.ax1.y*this.body2.inverseMass+this.ax2.y*this.body1.inverseMass,this.ax1.z*this.body2.inverseMass+this.ax2.z*this.body1.inverseMass).normalize(),this.tan.tangent(this.nor).normalize(),this.bin.crossVectors(this.nor,this.tan),this.ac.preSolve(t,e),this.t3.preSolve(t,e)},solve:function(){this.ac.solve(),this.t3.solve()},postSolve:function(){}}),it.prototype=Object.assign(Object.create(q.prototype),{constructor:it,preSolve:function(t,e){this.updateAnchorPoints(),this.ax1.copy(this.localAxis1).applyMatrix3(this.body1.rotation,!0),this.an1.copy(this.localAngle1).applyMatrix3(this.body1.rotation,!0),this.ax2.copy(this.localAxis2).applyMatrix3(this.body2.rotation,!0),this.an2.copy(this.localAngle2).applyMatrix3(this.body2.rotation,!0),this.nor.set(this.ax1.x*this.body2.inverseMass+this.ax2.x*this.body1.inverseMass,this.ax1.y*this.body2.inverseMass+this.ax2.y*this.body1.inverseMass,this.ax1.z*this.body2.inverseMass+this.ax2.z*this.body1.inverseMass).normalize(),this.tan.tangent(this.nor).normalize(),this.bin.crossVectors(this.nor,this.tan),this.tmp.crossVectors(this.an1,this.an2);var i=A.acosClamp(A.dotVectors(this.an1,this.an2));A.dotVectors(this.nor,this.tmp)<0?this.rotationalLimitMotor.angle=-i:this.rotationalLimitMotor.angle=i,this.tmp.crossVectors(this.ax1,this.ax2),this.r3.limitMotor2.angle=A.dotVectors(this.tan,this.tmp),this.r3.limitMotor3.angle=A.dotVectors(this.bin,this.tmp),this.r3.preSolve(t,e),this.t3.preSolve(t,e)},solve:function(){this.r3.solve(),this.t3.solve()},postSolve:function(){}}),st.prototype=Object.assign(Object.create(q.prototype),{constructor:st,preSolve:function(t,e){this.updateAnchorPoints(),this.ax1.copy(this.localAxis1).applyMatrix3(this.body1.rotation,!0),this.an1.copy(this.localAngle1).applyMatrix3(this.body1.rotation,!0),this.ax2.copy(this.localAxis2).applyMatrix3(this.body2.rotation,!0),this.an2.copy(this.localAngle2).applyMatrix3(this.body2.rotation,!0),this.r3.limitMotor1.angle=A.dotVectors(this.ax1,this.ax2);var i=A.dotVectors(this.an1,this.ax2);A.dotVectors(this.ax1,this.tmp.crossVectors(this.an1,this.ax2))<0?this.rotationalLimitMotor1.angle=-i:this.rotationalLimitMotor1.angle=i,i=A.dotVectors(this.an2,this.ax1),A.dotVectors(this.ax2,this.tmp.crossVectors(this.an2,this.ax1))<0?this.rotationalLimitMotor2.angle=-i:this.rotationalLimitMotor2.angle=i,this.nor.crossVectors(this.ax1,this.ax2).normalize(),this.tan.crossVectors(this.nor,this.ax2).normalize(),this.bin.crossVectors(this.nor,this.ax1).normalize(),this.r3.preSolve(t,e),this.t3.preSolve(t,e)},solve:function(){this.r3.solve(),this.t3.solve()},postSolve:function(){}}),ot.prototype={constructor:ot,reset:function(t,e){this.body1=t.parent,this.body2=e.parent,this.numPoints=0},addPointVec:function(t,e,i,s){var r=this.points[this.numPoints++];r.position.copy(t),r.localPoint1.sub(t,this.body1.position).applyMatrix3(this.body1.rotation),r.localPoint2.sub(t,this.body2.position).applyMatrix3(this.body2.rotation),r.normal.copy(e),s&&r.normal.negate(),r.normalImpulse=0,r.penetration=i,r.warmStarted=!1},addPoint:function(t,e,i,s,r,n,a,o){var h=this.points[this.numPoints++];h.position.set(t,e,i),h.localPoint1.sub(h.position,this.body1.position).applyMatrix3(this.body1.rotation),h.localPoint2.sub(h.position,this.body2.position).applyMatrix3(this.body2.rotation),h.normalImpulse=0,h.normal.set(s,r,n),o&&h.normal.negate(),h.penetration=a,h.warmStarted=!1}},lt.prototype=Object.assign(Object.create(G.prototype),{constructor:lt,attach:function(){this.p1=this.body1.position,this.p2=this.body2.position,this.lv1=this.body1.linearVelocity,this.av1=this.body1.angularVelocity,this.lv2=this.body2.linearVelocity,this.av2=this.body2.angularVelocity,this.i1=this.body1.inverseInertia,this.i2=this.body2.inverseInertia},detach:function(){this.p1=null,this.p2=null,this.lv1=null,this.lv2=null,this.av1=null,this.av2=null,this.i1=null,this.i2=null},preSolve:function(t,e){this.m1=this.body1.inverseMass,this.m2=this.body2.inverseMass;var i=this.m1+this.m2;this.num=this.manifold.numPoints;for(var s,r,n,a,o,h,l,c=this.cs,p=0;p<this.num;p++)s=this.ps[p],this.tmpP1.sub(s.position,this.p1),this.tmpP2.sub(s.position,this.p2),this.tmpC1.crossVectors(this.av1,this.tmpP1),this.tmpC2.crossVectors(this.av2,this.tmpP2),c.norImp=s.normalImpulse,c.tanImp=s.tangentImpulse,c.binImp=s.binormalImpulse,c.nor.copy(s.normal),this.tmp.set(this.lv2.x+this.tmpC2.x-(this.lv1.x+this.tmpC1.x),this.lv2.y+this.tmpC2.y-(this.lv1.y+this.tmpC1.y),this.lv2.z+this.tmpC2.z-(this.lv1.z+this.tmpC1.z)),r=A.dotVectors(c.nor,this.tmp),c.tan.set(this.tmp.x-r*c.nor.x,this.tmp.y-r*c.nor.y,this.tmp.z-r*c.nor.z),A.dotVectors(c.tan,c.tan)<=.04&&c.tan.tangent(c.nor),c.tan.normalize(),c.bin.crossVectors(c.nor,c.tan),c.norU1.scale(c.nor,this.m1),c.norU2.scale(c.nor,this.m2),c.tanU1.scale(c.tan,this.m1),c.tanU2.scale(c.tan,this.m2),c.binU1.scale(c.bin,this.m1),c.binU2.scale(c.bin,this.m2),c.norT1.crossVectors(this.tmpP1,c.nor),c.tanT1.crossVectors(this.tmpP1,c.tan),c.binT1.crossVectors(this.tmpP1,c.bin),c.norT2.crossVectors(this.tmpP2,c.nor),c.tanT2.crossVectors(this.tmpP2,c.tan),c.binT2.crossVectors(this.tmpP2,c.bin),h=this.i1,l=this.i2,c.norTU1.copy(c.norT1).applyMatrix3(h,!0),c.tanTU1.copy(c.tanT1).applyMatrix3(h,!0),c.binTU1.copy(c.binT1).applyMatrix3(h,!0),c.norTU2.copy(c.norT2).applyMatrix3(l,!0),c.tanTU2.copy(c.tanT2).applyMatrix3(l,!0),c.binTU2.copy(c.binT2).applyMatrix3(l,!0),this.tmpC1.crossVectors(c.norTU1,this.tmpP1),this.tmpC2.crossVectors(c.norTU2,this.tmpP2),this.tmp.add(this.tmpC1,this.tmpC2),c.norDen=1/(i+A.dotVectors(c.nor,this.tmp)),this.tmpC1.crossVectors(c.tanTU1,this.tmpP1),this.tmpC2.crossVectors(c.tanTU2,this.tmpP2),this.tmp.add(this.tmpC1,this.tmpC2),c.tanDen=1/(i+A.dotVectors(c.tan,this.tmp)),this.tmpC1.crossVectors(c.binTU1,this.tmpP1),this.tmpC2.crossVectors(c.binTU2,this.tmpP2),this.tmp.add(this.tmpC1,this.tmpC2),c.binDen=1/(i+A.dotVectors(c.bin,this.tmp)),s.warmStarted?(n=s.normalImpulse,this.lv1.addScaledVector(c.norU1,n),this.av1.addScaledVector(c.norTU1,n),this.lv2.subScaledVector(c.norU2,n),this.av2.subScaledVector(c.norTU2,n),c.norImp=n,c.tanImp=0,c.binImp=0,r=0):(c.norImp=0,c.tanImp=0,c.binImp=0),r>-1&&(r=0),(a=this.restitution*-r)<(o=-(s.penetration+.005)*e*.05)&&(a=o),c.norTar=a,c.last=p==this.num-1,c=c.next},solve:function(){var t,e,i,s,r,n,a,o,h;this.tmplv1.copy(this.lv1),this.tmplv2.copy(this.lv2),this.tmpav1.copy(this.av1),this.tmpav2.copy(this.av2);for(var l=this.cs;r=l.norImp,n=l.tanImp,a=l.binImp,o=-r*this.friction,this.tmp.sub(this.tmplv2,this.tmplv1),t=n,i=a,(h=(n+=e=(A.dotVectors(this.tmp,l.tan)+A.dotVectors(this.tmpav2,l.tanT2)-A.dotVectors(this.tmpav1,l.tanT1))*l.tanDen)*n+(a+=s=(A.dotVectors(this.tmp,l.bin)+A.dotVectors(this.tmpav2,l.binT2)-A.dotVectors(this.tmpav1,l.binT1))*l.binDen)*a)>o*o&&(n*=h=o/A.sqrt(h),a*=h),e=n-t,s=a-i,this.tmp.set(l.tanU1.x*e+l.binU1.x*s,l.tanU1.y*e+l.binU1.y*s,l.tanU1.z*e+l.binU1.z*s),this.tmplv1.addEqual(this.tmp),this.tmp.set(l.tanTU1.x*e+l.binTU1.x*s,l.tanTU1.y*e+l.binTU1.y*s,l.tanTU1.z*e+l.binTU1.z*s),this.tmpav1.addEqual(this.tmp),this.tmp.set(l.tanU2.x*e+l.binU2.x*s,l.tanU2.y*e+l.binU2.y*s,l.tanU2.z*e+l.binU2.z*s),this.tmplv2.subEqual(this.tmp),this.tmp.set(l.tanTU2.x*e+l.binTU2.x*s,l.tanTU2.y*e+l.binTU2.y*s,l.tanTU2.z*e+l.binTU2.z*s),this.tmpav2.subEqual(this.tmp),this.tmp.sub(this.tmplv2,this.tmplv1),t=r,(r+=e=(A.dotVectors(this.tmp,l.nor)+A.dotVectors(this.tmpav2,l.norT2)-A.dotVectors(this.tmpav1,l.norT1)-l.norTar)*l.norDen)>0&&(r=0),e=r-t,this.tmplv1.addScaledVector(l.norU1,e),this.tmpav1.addScaledVector(l.norTU1,e),this.tmplv2.subScaledVector(l.norU2,e),this.tmpav2.subScaledVector(l.norTU2,e),l.norImp=r,l.tanImp=n,l.binImp=a,!l.last;)l=l.next;this.lv1.copy(this.tmplv1),this.lv2.copy(this.tmplv2),this.av1.copy(this.tmpav1),this.av2.copy(this.tmpav2)},postSolve:function(){for(var t,e=this.cs,i=this.num;i--;)(t=this.ps[i]).normal.copy(e.nor),t.tangent.copy(e.tan),t.binormal.copy(e.bin),t.normalImpulse=e.norImp,t.tangentImpulse=e.tanImp,t.binormalImpulse=e.binImp,t.normalDenominator=e.norDen,t.tangentDenominator=e.tanDen,t.binormalDenominator=e.binDen,e=e.next}}),Object.assign(ct.prototype,{Contact:!0,mixRestitution:function(t,e){return A.sqrt(t*e)},mixFriction:function(t,e){return A.sqrt(t*e)},updateManifold:function(){this.constraint.restitution=this.mixRestitution(this.shape1.restitution,this.shape2.restitution),this.constraint.friction=this.mixFriction(this.shape1.friction,this.shape2.friction);for(var t=this.manifold.numPoints,e=t;e--;){var i=this.buffer[e],s=this.points[e];i.lp1X=s.localPoint1.x,i.lp1Y=s.localPoint1.y,i.lp1Z=s.localPoint1.z,i.lp2X=s.localPoint2.x,i.lp2Y=s.localPoint2.y,i.lp2Z=s.localPoint2.z,i.impulse=s.normalImpulse}this.manifold.numPoints=0,this.detector.detectCollision(this.shape1,this.shape2,this.manifold);var r=this.manifold.numPoints;if(0==r)return this.touching=!1,this.close=!1,void(this.dist=A.INF);for((this.touching||this.dist<.001)&&(this.close=!0),this.touching=!0,e=r;e--;){for(var n=(s=this.points[e]).localPoint1.x,a=s.localPoint1.y,o=s.localPoint1.z,h=s.localPoint2.x,l=s.localPoint2.y,c=s.localPoint2.z,p=-1,u=4e-4,f=t;f--;){var d=(i=this.buffer[f]).lp1X-n,m=i.lp1Y-a,y=i.lp1Z-o,v=d*d+m*m+y*y,g=(d=i.lp2X-h)*d+(m=i.lp2Y-l)*m+(y=i.lp2Z-c)*y;v<g?v<u&&(u=v,p=f):g<u&&(u=g,p=f),u<this.dist&&(this.dist=u)}if(-1!=p){var _=this.buffer[p];this.buffer[p]=this.buffer[--t],this.buffer[t]=_,s.normalImpulse=_.impulse,s.warmStarted=!0}else s.normalImpulse=0,s.warmStarted=!1}},attach:function(t,e){this.shape1=t,this.shape2=e,this.body1=t.parent,this.body2=e.parent,this.manifold.body1=this.body1,this.manifold.body2=this.body2,this.constraint.body1=this.body1,this.constraint.body2=this.body2,this.constraint.attach(),this.s1Link.shape=e,this.s1Link.body=this.body2,this.s2Link.shape=t,this.s2Link.body=this.body1,null!=t.contactLink?(this.s1Link.next=t.contactLink).prev=this.s1Link:this.s1Link.next=null,t.contactLink=this.s1Link,t.numContacts++,null!=e.contactLink?(this.s2Link.next=e.contactLink).prev=this.s2Link:this.s2Link.next=null,e.contactLink=this.s2Link,e.numContacts++,this.b1Link.shape=e,this.b1Link.body=this.body2,this.b2Link.shape=t,this.b2Link.body=this.body1,null!=this.body1.contactLink?(this.b1Link.next=this.body1.contactLink).prev=this.b1Link:this.b1Link.next=null,this.body1.contactLink=this.b1Link,this.body1.numContacts++,null!=this.body2.contactLink?(this.b2Link.next=this.body2.contactLink).prev=this.b2Link:this.b2Link.next=null,this.body2.contactLink=this.b2Link,this.body2.numContacts++,this.prev=null,this.next=null,this.persisting=!0,this.sleeping=this.body1.sleeping&&this.body2.sleeping,this.manifold.numPoints=0},detach:function(){var t=this.s1Link.prev,e=this.s1Link.next;null!==t&&(t.next=e),null!==e&&(e.prev=t),this.shape1.contactLink==this.s1Link&&(this.shape1.contactLink=e),this.s1Link.prev=null,this.s1Link.next=null,this.s1Link.shape=null,this.s1Link.body=null,this.shape1.numContacts--,t=this.s2Link.prev,e=this.s2Link.next,null!==t&&(t.next=e),null!==e&&(e.prev=t),this.shape2.contactLink==this.s2Link&&(this.shape2.contactLink=e),this.s2Link.prev=null,this.s2Link.next=null,this.s2Link.shape=null,this.s2Link.body=null,this.shape2.numContacts--,t=this.b1Link.prev,e=this.b1Link.next,null!==t&&(t.next=e),null!==e&&(e.prev=t),this.body1.contactLink==this.b1Link&&(this.body1.contactLink=e),this.b1Link.prev=null,this.b1Link.next=null,this.b1Link.shape=null,this.b1Link.body=null,this.body1.numContacts--,t=this.b2Link.prev,e=this.b2Link.next,null!==t&&(t.next=e),null!==e&&(e.prev=t),this.body2.contactLink==this.b2Link&&(this.body2.contactLink=e),this.b2Link.prev=null,this.b2Link.next=null,this.b2Link.shape=null,this.b2Link.body=null,this.body2.numContacts--,this.manifold.body1=null,this.manifold.body2=null,this.constraint.body1=null,this.constraint.body2=null,this.constraint.detach(),this.shape1=null,this.shape2=null,this.body1=null,this.body2=null}}),Object.assign(pt.prototype,{setParent:function(t){this.parent=t,this.scale=this.parent.scale,this.invScale=this.parent.invScale,this.id=this.parent.numRigidBodies,this.name||(this.name=this.id),this.updateMesh()},addShape:function(t){t.parent&&C("RigidBody","It is not possible that you add a shape which already has an associated body."),null!=this.shapes&&((this.shapes.prev=t).next=this.shapes),this.shapes=t,t.parent=this,this.parent&&this.parent.addShape(t),this.numShapes++},removeShape:function(t){var e=t;if(e.parent==this){var i=e.prev,s=e.next;null!=i&&(i.next=s),null!=s&&(s.prev=i),this.shapes==e&&(this.shapes=s),e.prev=null,e.next=null,e.parent=null,this.parent&&this.parent.removeShape(e),this.numShapes--}},remove:function(){this.dispose()},dispose:function(){this.parent.removeRigidBody(this)},checkContact:function(t){this.parent.checkContact(this.name,t)},setupMass:function(t,e){var i=void 0===e||e;this.type=t||2,this.isDynamic=this.type===d,this.isStatic=2===this.type,this.mass=0,this.localInertia.set(0,0,0,0,0,0,0,0,0);for(var s=new D,r=new N,n=this.shapes;null!==n;n=n.next){n.calculateMassInfo(this.massInfo);var a=this.massInfo.mass;r.addScaledVector(n.relativePosition,a),this.mass+=a,this.rotateInertia(n.relativeRotation,this.massInfo.inertia,s),this.localInertia.add(s),this.localInertia.addOffset(a,n.relativePosition)}if(this.inverseMass=1/this.mass,r.scaleEqual(this.inverseMass),i){for(this.position.add(r),n=this.shapes;null!==n;n=n.next)n.relativePosition.subEqual(r);this.localInertia.subOffset(this.mass,r)}this.inverseLocalInertia.invert(this.localInertia),2===this.type&&(this.inverseMass=0,this.inverseLocalInertia.set(0,0,0,0,0,0,0,0,0)),this.syncShapes(),this.awake()},awake:function(){if(this.allowSleep&&this.sleeping){this.sleeping=!1,this.sleepTime=0;for(var t=this.contactLink;null!=t;)t.body.sleepTime=0,t.body.sleeping=!1,t=t.next;for(var e=this.jointLink;null!=e;)e.body.sleepTime=0,e.body.sleeping=!1,e=e.next;for(var i=this.shapes;null!=i;i=i.next)i.updateProxy()}},sleep:function(){if(this.allowSleep&&!this.sleeping){this.linearVelocity.set(0,0,0),this.angularVelocity.set(0,0,0),this.sleepPosition.copy(this.position),this.sleepOrientation.copy(this.orientation),this.sleepTime=0,this.sleeping=!0;for(var t=this.shapes;null!=t;t=t.next)t.updateProxy()}},testWakeUp:function(){(this.linearVelocity.testZero()||this.angularVelocity.testZero()||this.position.testDiff(this.sleepPosition)||this.orientation.testDiff(this.sleepOrientation))&&this.awake()},isLonely:function(){return 0==this.numJoints&&0==this.numContacts},updatePosition:function(t){switch(this.type){case 2:this.linearVelocity.set(0,0,0),this.angularVelocity.set(0,0,0),this.controlPos&&(this.position.copy(this.newPosition),this.controlPos=!1),this.controlRot&&(this.orientation.copy(this.newOrientation),this.controlRot=!1);break;case d:this.isKinematic&&(this.linearVelocity.set(0,0,0),this.angularVelocity.set(0,0,0)),this.controlPos&&(this.linearVelocity.subVectors(this.newPosition,this.position).multiplyScalar(1/t),this.controlPos=!1),this.controlRot&&(this.angularVelocity.copy(this.getAxis()),this.orientation.copy(this.newOrientation),this.controlRot=!1),this.position.addScaledVector(this.linearVelocity,t),this.orientation.addTime(this.angularVelocity,t),this.updateMesh();break;default:C("RigidBody","Invalid type.")}this.syncShapes(),this.updateMesh()},getAxis:function(){return new N(0,1,0).applyMatrix3(this.inverseLocalInertia,!0).normalize()},rotateInertia:function(t,e,i){this.tmpInertia.multiplyMatrices(t,e),i.multiplyMatrices(this.tmpInertia,t,!0)},syncShapes:function(){this.rotation.setQuat(this.orientation),this.rotateInertia(this.rotation,this.inverseLocalInertia,this.inverseInertia);for(var t=this.shapes;null!=t;t=t.next)t.position.copy(t.relativePosition).applyMatrix3(this.rotation,!0).add(this.position),t.rotation.multiplyMatrices(this.rotation,t.relativeRotation),t.updateProxy()},applyImpulse:function(t,e){this.linearVelocity.addScaledVector(e,this.inverseMass);var i=(new N).copy(t).sub(this.position).cross(e).applyMatrix3(this.inverseInertia,!0);this.angularVelocity.add(i)},setPosition:function(t){this.newPosition.copy(t).multiplyScalar(this.invScale),this.controlPos=!0,this.isKinematic||(this.isKinematic=!0)},setQuaternion:function(t){this.newOrientation.set(t.x,t.y,t.z,t.w),this.controlRot=!0,this.isKinematic||(this.isKinematic=!0)},setRotation:function(t){this.newOrientation=(new I).setFromEuler(t.x*A.degtorad,t.y*A.degtorad,t.y*A.degtorad),this.controlRot=!0},resetPosition:function(t,e,i){this.linearVelocity.set(0,0,0),this.angularVelocity.set(0,0,0),this.position.set(t,e,i).multiplyScalar(this.invScale),this.awake()},resetQuaternion:function(t){this.angularVelocity.set(0,0,0),this.orientation=new I(t.x,t.y,t.z,t.w),this.awake()},resetRotation:function(t,e,i){this.angularVelocity.set(0,0,0),this.orientation=(new I).setFromEuler(t*A.degtorad,e*A.degtorad,i*A.degtorad),this.awake()},getPosition:function(){return this.pos},getQuaternion:function(){return this.quaternion},connectMesh:function(t){this.mesh=t,this.updateMesh()},updateMesh:function(){this.pos.scale(this.position,this.scale),this.quaternion.copy(this.orientation),null!==this.mesh&&(this.mesh.position.copy(this.getPosition()),this.mesh.quaternion.copy(this.getQuaternion()))}}),Object.assign(ut.prototype,{BroadPhase:!0,createProxy:function(t){C("BroadPhase","Inheritance error.")},addProxy:function(t){C("BroadPhase","Inheritance error.")},removeProxy:function(t){C("BroadPhase","Inheritance error.")},isAvailablePair:function(t,e){var i,s=t.parent,r=e.parent;if(s==r||!s.isDynamic&&!r.isDynamic||0==(t.belongsTo&e.collidesWith)||0==(e.belongsTo&t.collidesWith))return!1;for(i=s.numJoints<r.numJoints?s.jointLink:r.jointLink;null!==i;){var n=i.joint;if(!n.allowCollision&&(n.body1==s&&n.body2==r||n.body1==r&&n.body2==s))return!1;i=i.next}return!0},detectPairs:function(){this.pairs=[],this.numPairs=0,this.numPairChecks=0,this.collectPairs()},collectPairs:function(){Error("BroadPhase","Inheritance error.")},addPair:function(t,e){var i=new function(t,e){this.shape1=t||null,this.shape2=e||null}(t,e);this.pairs.push(i),this.numPairs++}});var ft=0;function dt(t){this.shape=t,this.aabb=t.aabb}function mt(t){dt.call(this,t),this.id=ft++}function yt(){ut.call(this),this.types=c,this.proxies=[]}function vt(){this.numElements=0,this.bufferSize=256,this.elements=[],this.elements.length=this.bufferSize,this.stack=new Float32Array(64)}function gt(t,e){this.proxy=t,this.pair=null,this.min1=null,this.max1=null,this.min2=null,this.max2=null,this.max=e,this.value=0}function _t(t,e){dt.call(this,e),this.belongsTo=0,this.max=[],this.min=[],this.sap=t,this.min[0]=new gt(this,!1),this.max[0]=new gt(this,!0),this.min[1]=new gt(this,!1),this.max[1]=new gt(this,!0),this.min[2]=new gt(this,!1),this.max[2]=new gt(this,!0),this.max[0].pair=this.min[0],this.max[1].pair=this.min[1],this.max[2].pair=this.min[2],this.min[0].min1=this.min[1],this.min[0].max1=this.max[1],this.min[0].min2=this.min[2],this.min[0].max2=this.max[2],this.min[1].min1=this.min[0],this.min[1].max1=this.max[0],this.min[1].min2=this.min[2],this.min[1].max2=this.max[2],this.min[2].min1=this.min[0],this.min[2].max1=this.max[0],this.min[2].min2=this.min[1],this.min[2].max2=this.max[1]}function bt(){ut.call(this),this.types=p,this.numElementsD=0,this.numElementsS=0,this.axesD=[new vt,new vt,new vt],this.axesS=[new vt,new vt,new vt],this.index1=0,this.index2=1}function xt(){this.child1=null,this.child2=null,this.parent=null,this.proxy=null,this.height=0,this.aabb=new z}function wt(){this.root=null,this.freeNodes=[],this.freeNodes.length=16384,this.numFreeNodes=0,this.aabb=new z}function kt(t){dt.call(this,t),this.leaf=new xt,this.leaf.proxy=this}function Pt(){ut.call(this),this.types=u,this.tree=new wt,this.stack=[],this.leaves=[],this.numLeaves=0}function Tt(){this.flip=!1}function Et(){Tt.call(this),this.clipVertices1=new Float32Array(24),this.clipVertices2=new Float32Array(24),this.used=new Float32Array(8),this.INF=1/0}function St(t){Tt.call(this),this.flip=t}function At(){Tt.call(this)}function Ct(t){Tt.call(this),this.flip=t}function Mt(t){Tt.call(this),this.flip=t}function Nt(){Tt.call(this)}function It(t){Tt.call(this),this.flip=t,this.n=new N,this.p=new N}function Dt(t){Tt.call(this),this.flip=t,this.n=new N,this.p=new N,this.dix=new N,this.diy=new N,this.diz=new N,this.cc=new N,this.cc2=new N}function zt(t){switch(t instanceof Object||(t={}),this.scale=t.worldscale||1,this.invScale=1/this.scale,this.timeStep=t.timestep||.01666,this.timerate=1e3*this.timeStep,this.timer=null,this.preLoop=null,this.postLoop=null,this.numIterations=t.iterations||8,t.broadphase||2){case 1:this.broadPhase=new yt;break;case 2:default:this.broadPhase=new bt;break;case 3:this.broadPhase=new Pt}this.Btypes=["None","BruteForce","Sweep & Prune","Bounding Volume Tree"],this.broadPhaseType=this.Btypes[t.broadphase||2],this.performance=null,this.isStat=void 0!==t.info&&t.info,this.isStat&&(this.performance=new M(this)),this.enableRandomizer=void 0===t.random||t.random,this.rigidBodies=null,this.numRigidBodies=0,this.contacts=null,this.unusedContacts=null,this.numContacts=0,this.numContactPoints=0,this.joints=null,this.numJoints=0,this.numIslands=0,this.gravity=new N(0,-9.8,0),void 0!==t.gravity&&this.gravity.fromArray(t.gravity);this.detectors=[],this.detectors.length=5;for(var e=5;e--;)this.detectors[e]=[],this.detectors[e].length=5;this.detectors[y][y]=new Nt,this.detectors[y][v]=new Ct(!1),this.detectors[v][y]=new Ct(!0),this.detectors[v][v]=new Et,this.detectors[g][g]=new At,this.detectors[g][v]=new St(!0),this.detectors[v][g]=new St(!1),this.detectors[g][y]=new Mt(!0),this.detectors[y][g]=new Mt(!1),this.detectors[_][y]=new It(!0),this.detectors[y][_]=new It(!1),this.detectors[_][v]=new Dt(!0),this.detectors[v][_]=new Dt(!1),this.randX=65535,this.randA=98765,this.randB=123456789,this.islandRigidBodies=[],this.islandStack=[],this.islandConstraints=[]}Object.assign(dt.prototype,{Proxy:!0,update:function(){C("Proxy","Inheritance error.")}}),mt.prototype=Object.assign(Object.create(dt.prototype),{constructor:mt,update:function(){}}),yt.prototype=Object.assign(Object.create(ut.prototype),{constructor:yt,createProxy:function(t){return new mt(t)},addProxy:function(t){this.proxies.push(t)},removeProxy:function(t){var e=this.proxies.indexOf(t);e>-1&&this.proxies.splice(e,1)},collectPairs:function(){var t,e,i,s=0,r=this.proxies,n=r.length;for(this.numPairChecks=n*(n-1)>>1;s<n;)for(e=r[s++],t=s+1;t<n;)i=r[t++],!e.aabb.intersectTest(i.aabb)&&this.isAvailablePair(e.shape,i.shape)&&this.addPair(e.shape,i.shape)}}),Object.assign(vt.prototype,{SAPAxis:!0,addElements:function(t,e){if(this.numElements+2>=this.bufferSize){this.bufferSize*=2;for(var i=[],s=this.numElements;s--;)i[s]=this.elements[s]}this.elements[this.numElements++]=t,this.elements[this.numElements++]=e},removeElements:function(t,e){for(var i=-1,s=-1,r=0,n=this.numElements;r<n;r++){var a=this.elements[r];if(a==t||a==e){if(-1!=i){s=r;break}i=r}}for(r=i+1,n=s;r<n;r++)this.elements[r-1]=this.elements[r];for(r=s+1,n=this.numElements;r<n;r++)this.elements[r-2]=this.elements[r];this.elements[--this.numElements]=null,this.elements[--this.numElements]=null},sort:function(){for(var t=0,e=1;this.numElements>>e!=0;)e++;e=e*this.numElements>>2,t=0;for(var i=!1,s=this.elements,r=1,n=this.numElements;r<n;r++){var a=s[r],o=a.value,h=s[r-1];if(h.value>o){var l=r;do{if(s[l]=h,0==--l)break;h=s[l-1]}while(h.value>o);if(s[l]=a,(t+=r-l)>e){i=!0;break}}}if(i){t=2;var c=this.stack;for(c[0]=0,c[1]=this.numElements-1;t>0;){var p=c[--t],u=c[--t],f=p-u;if(f>16){var d=u+A.floor(.5*f);for(a=s[d],s[d]=s[p],s[p]=a,o=a.value,r=u-1,l=p;;){var m,y;do{m=s[++r]}while(m.value<o);do{y=s[--l]}while(o<y.value&&l!=u);if(r>=l)break;s[r]=y,s[l]=m}s[p]=s[r],s[r]=a,r-u>p-r?(c[t++]=u,c[t++]=r-1,c[t++]=r+1,c[t++]=p):(c[t++]=r+1,c[t++]=p,c[t++]=u,c[t++]=r-1)}else for(r=u+1;r<=p;r++)if(o=(a=s[r]).value,(h=s[r-1]).value>o){l=r;do{if(s[l]=h,0==--l)break;h=s[l-1]}while(h.value>o);s[l]=a}}}},calculateTestCount:function(){for(var t=1,e=0,i=1,s=this.numElements;i<s;i++)this.elements[i].max?t--:(e+=t,t++);return e}}),_t.prototype=Object.assign(Object.create(dt.prototype),{constructor:_t,isDynamic:function(){var t=this.shape.parent;return t.isDynamic&&!t.sleeping},update:function(){var t=this.aabb.elements;this.min[0].value=t[0],this.min[1].value=t[1],this.min[2].value=t[2],this.max[0].value=t[3],this.max[1].value=t[4],this.max[2].value=t[5],(1==this.belongsTo&&!this.isDynamic()||2==this.belongsTo&&this.isDynamic())&&(this.sap.removeProxy(this),this.sap.addProxy(this))}}),bt.prototype=Object.assign(Object.create(ut.prototype),{constructor:bt,createProxy:function(t){return new _t(this,t)},addProxy:function(t){var e=t;e.isDynamic()?(this.axesD[0].addElements(e.min[0],e.max[0]),this.axesD[1].addElements(e.min[1],e.max[1]),this.axesD[2].addElements(e.min[2],e.max[2]),e.belongsTo=1,this.numElementsD+=2):(this.axesS[0].addElements(e.min[0],e.max[0]),this.axesS[1].addElements(e.min[1],e.max[1]),this.axesS[2].addElements(e.min[2],e.max[2]),e.belongsTo=2,this.numElementsS+=2)},removeProxy:function(t){var e=t;if(0!=e.belongsTo){switch(e.belongsTo){case 1:this.axesD[0].removeElements(e.min[0],e.max[0]),this.axesD[1].removeElements(e.min[1],e.max[1]),this.axesD[2].removeElements(e.min[2],e.max[2]),this.numElementsD-=2;break;case 2:this.axesS[0].removeElements(e.min[0],e.max[0]),this.axesS[1].removeElements(e.min[1],e.max[1]),this.axesS[2].removeElements(e.min[2],e.max[2]),this.numElementsS-=2}e.belongsTo=0}},collectPairs:function(){if(0!=this.numElementsD){var t,e,i,s,r=this.axesD[this.index1],n=this.axesD[this.index2];r.sort(),n.sort(),r.calculateTestCount()<=n.calculateTestCount()?((n=this.axesS[this.index1]).sort(),t=r.elements,e=n.elements):((r=this.axesS[this.index2]).sort(),t=n.elements,e=r.elements,this.index1^=this.index2,this.index2^=this.index1,this.index1^=this.index2);for(var a=0,o=0;a<this.numElementsD;){var h,l;if(o==this.numElementsS)h=t[a],l=!0,a++;else{var c=t[a],p=e[o];c.value<p.value?(h=c,l=!0,a++):(h=p,l=!1,o++)}if(h.max){var u=h.pair;if(l){if(u==i){i=i.pair;continue}h=i}else{if(u==s){s=s.pair;continue}h=s}do{if((g=h.pair)==u){h.pair=g.pair;break}h=g}while(null!=h)}else{for(var f=h.proxy.shape,d=h.min1.value,m=h.max1.value,y=h.min2.value,v=h.max2.value,g=i;null!=g;g=g.pair){var _=g.proxy.shape;this.numPairChecks++,d>g.max1.value||m<g.min1.value||y>g.max2.value||v<g.min2.value||!this.isAvailablePair(f,_)||this.addPair(f,_)}if(l){for(g=s;null!=g;g=g.pair)_=g.proxy.shape,this.numPairChecks++,d>g.max1.value||m<g.min1.value||y>g.max2.value||v<g.min2.value||!this.isAvailablePair(f,_)||this.addPair(f,_);h.pair=i,i=h}else h.pair=s,s=h}}this.index2=3^(this.index1|this.index2)}}}),Object.assign(wt.prototype,{DBVT:!0,moveLeaf:function(t){this.deleteLeaf(t),this.insertLeaf(t)},insertLeaf:function(t){if(null!=this.root){for(var e,i,s=t.aabb,r=this.root;null==r.proxy;){var n=r.child1,a=r.child2,o=r.aabb,h=n.aabb,l=a.aabb;e=o.surfaceArea(),this.aabb.combine(s,o);var c=2*(i=this.aabb.surfaceArea()),p=2*(i-e),u=p;this.aabb.combine(s,h),null!=n.proxy?u+=this.aabb.surfaceArea():u+=this.aabb.surfaceArea()-h.surfaceArea();var f=p;if(this.aabb.combine(s,l),null!=a.proxy?f+=this.aabb.surfaceArea():f+=this.aabb.surfaceArea()-l.surfaceArea(),u<f){if(c<u)break;r=n}else{if(c<f)break;r=a}}var d,m=r.parent;(d=this.numFreeNodes>0?this.freeNodes[--this.numFreeNodes]:new xt).parent=m,d.child1=t,d.child2=r,d.aabb.combine(t.aabb,r.aabb),d.height=r.height+1,r.parent=d,t.parent=d,r==this.root?this.root=d:m.child1==r?m.child1=d:m.child2=d;do{d=this.balance(d),this.fix(d),d=d.parent}while(null!=d)}else this.root=t},getBalance:function(t){return null!=t.proxy?0:t.child1.height-t.child2.height},deleteLeaf:function(t){if(t!=this.root){var e,i=t.parent;if(e=i.child1==t?i.child2:i.child1,i==this.root)return this.root=e,void(e.parent=null);var s=i.parent;e.parent=s,s.child1==i?s.child1=e:s.child2=e,this.numFreeNodes<16384&&(this.freeNodes[this.numFreeNodes++]=i);do{s=this.balance(s),this.fix(s),s=s.parent}while(null!=s)}else this.root=null},balance:function(t){var e=t.height;if(e<2)return t;var i,s=t.parent,r=t.child1,n=t.child2,a=r.height,o=n.height,h=a-o;if(h>1){var l=r.child1,c=r.child2,p=l.height,u=c.height;return p>u?(r.child2=t,t.parent=r,t.child1=c,c.parent=t,t.aabb.combine(c.aabb,n.aabb),i=u-o,t.height=u-(i&i>>31)+1,r.aabb.combine(l.aabb,t.aabb),i=p-e,r.height=p-(i&i>>31)+1):(r.child1=t,t.parent=r,t.child1=l,l.parent=t,t.aabb.combine(l.aabb,n.aabb),i=p-o,t.height=p-(i&i>>31)+1,r.aabb.combine(t.aabb,c.aabb),i=e-u,r.height=e-(i&i>>31)+1),null!=s?s.child1==t?s.child1=r:s.child2=r:this.root=r,r.parent=s,r}if(h<-1){var f=n.child1,d=n.child2,m=f.height,y=d.height;return m>y?(n.child2=t,t.parent=n,t.child2=d,d.parent=t,t.aabb.combine(r.aabb,d.aabb),i=a-y,t.height=a-(i&i>>31)+1,n.aabb.combine(f.aabb,t.aabb),i=m-e,n.height=m-(i&i>>31)+1):(n.child1=t,t.parent=n,t.child2=f,f.parent=t,t.aabb.combine(r.aabb,f.aabb),i=a-m,t.height=a-(i&i>>31)+1,n.aabb.combine(t.aabb,d.aabb),i=e-y,n.height=e-(i&i>>31)+1),null!=s?s.child1==t?s.child1=n:s.child2=n:this.root=n,n.parent=s,n}return t},fix:function(t){var e=t.child1,i=t.child2;t.aabb.combine(e.aabb,i.aabb),t.height=e.height<i.height?i.height+1:e.height+1}}),kt.prototype=Object.assign(Object.create(dt.prototype),{constructor:kt,update:function(){}}),Pt.prototype=Object.assign(Object.create(ut.prototype),{constructor:Pt,createProxy:function(t){return new kt(t)},addProxy:function(t){this.tree.insertLeaf(t.leaf),this.leaves.push(t.leaf),this.numLeaves++},removeProxy:function(t){this.tree.deleteLeaf(t.leaf);var e=this.leaves.indexOf(t.leaf);e>-1&&(this.leaves.splice(e,1),this.numLeaves--)},collectPairs:function(){if(!(this.numLeaves<2))for(var t,e=this.numLeaves;e--;)(t=this.leaves[e]).proxy.aabb.intersectTestTwo(t.aabb)&&(t.aabb.copy(t.proxy.aabb,.1),this.tree.deleteLeaf(t),this.tree.insertLeaf(t),this.collide(t,this.tree.root))},collide:function(t,e){var i,s,r,n,a,o,h=2;for(this.stack[0]=t,this.stack[1]=e;h>0;)if(r=this.stack[--h],n=this.stack[--h],a=null!=r.proxy,o=null!=n.proxy,this.numPairChecks++,a&&o){if((i=r.proxy.shape)==(s=n.proxy.shape)||i.aabb.intersectTest(s.aabb)||!this.isAvailablePair(i,s))continue;this.addPair(i,s)}else{if(r.aabb.intersectTest(n.aabb))continue;o||!a&&r.aabb.surfaceArea()>n.aabb.surfaceArea()?(this.stack[h++]=r.child1,this.stack[h++]=n,this.stack[h++]=r.child2,this.stack[h++]=n):(this.stack[h++]=r,this.stack[h++]=n.child1,this.stack[h++]=r,this.stack[h++]=n.child2)}}}),Object.assign(Tt.prototype,{CollisionDetector:!0,detectCollision:function(t,e,i){C("CollisionDetector","Inheritance error.")}}),Et.prototype=Object.assign(Object.create(Tt.prototype),{constructor:Et,detectCollision:function(t,e,i){var s,r;t.id<e.id?(s=t,r=e):(s=e,r=t);var n,a,o,h,l,c,p,u,f,d,m,y,v,g,_,b,x,w,k,P,T,E,S,C,M,N,I,D,z,O,F,L,V,R,j,B=s.elements,H=r.elements,$=s.dimentions,G=r.dimentions,U=s.position,q=r.position,X=U.x,W=U.y,Y=U.z,Z=q.x,J=q.y,K=q.z,Q=Z-X,tt=J-W,et=K-Y,it=s.halfWidth,st=s.halfHeight,rt=s.halfDepth,nt=r.halfWidth,at=r.halfHeight,ot=r.halfDepth,ht=$[0],lt=$[1],ct=$[2],pt=$[3],ut=$[4],ft=$[5],dt=$[6],mt=$[7],yt=$[8],vt=$[9],gt=$[10],_t=$[11],bt=$[12],xt=$[13],wt=$[14],kt=$[15],Pt=$[16],Tt=$[17],Et=G[0],St=G[1],At=G[2],Ct=G[3],Mt=G[4],Nt=G[5],It=G[6],Dt=G[7],zt=G[8],Ot=G[9],Ft=G[10],Lt=G[11],Vt=G[12],Rt=G[13],jt=G[14],Bt=G[15],Ht=G[16],$t=G[17],Gt=lt*At-ct*St,Ut=ct*Et-ht*At,qt=ht*St-lt*Et,Xt=lt*Nt-ct*Mt,Wt=ct*Ct-ht*Nt,Yt=ht*Mt-lt*Ct,Zt=lt*zt-ct*Dt,Jt=ct*It-ht*zt,Kt=ht*Dt-lt*It,Qt=ut*At-ft*St,te=ft*Et-pt*At,ee=pt*St-ut*Et,ie=ut*Nt-ft*Mt,se=ft*Ct-pt*Nt,re=pt*Mt-ut*Ct,ne=ut*zt-ft*Dt,ae=ft*It-pt*zt,oe=pt*Dt-ut*It,he=mt*At-yt*St,le=yt*Et-dt*At,ce=dt*St-mt*Et,pe=mt*Nt-yt*Mt,ue=yt*Ct-dt*Nt,fe=dt*Mt-mt*Ct,de=mt*zt-yt*Dt,me=yt*It-dt*zt,ye=dt*Dt-mt*It,ve=!1,ge=!1,_e=!1,be=!1,xe=!1,we=!1,ke=!1,Pe=!1,Te=!1;if((n=(F=ht*Q+lt*tt+ct*et)>0)||(F=-F),L=it,R=ht*Ct+lt*Mt+ct*Nt,j=ht*It+lt*Dt+ct*zt,(V=ht*Et+lt*St+ct*At)<0&&(V=-V),R<0&&(R=-R),j<0&&(j=-j),!((b=F-L-(V*nt+R*at+j*ot))>0||((a=(F=pt*Q+ut*tt+ft*et)>0)||(F=-F),L=st,R=pt*Ct+ut*Mt+ft*Nt,j=pt*It+ut*Dt+ft*zt,(V=pt*Et+ut*St+ft*At)<0&&(V=-V),R<0&&(R=-R),j<0&&(j=-j),(x=F-L-(V*nt+R*at+j*ot))>0||((o=(F=dt*Q+mt*tt+yt*et)>0)||(F=-F),L=rt,R=dt*Ct+mt*Mt+yt*Nt,j=dt*It+mt*Dt+yt*zt,(V=dt*Et+mt*St+yt*At)<0&&(V=-V),R<0&&(R=-R),j<0&&(j=-j),(w=F-L-(V*nt+R*at+j*ot))>0||((h=(F=Et*Q+St*tt+At*et)>0)||(F=-F),R=Et*pt+St*ut+At*ft,j=Et*dt+St*mt+At*yt,(V=Et*ht+St*lt+At*ct)<0&&(V=-V),R<0&&(R=-R),j<0&&(j=-j),(k=1*(F-(L=V*it+R*st+j*rt)-nt))>0||((l=(F=Ct*Q+Mt*tt+Nt*et)>0)||(F=-F),R=Ct*pt+Mt*ut+Nt*ft,j=Ct*dt+Mt*mt+Nt*yt,(V=Ct*ht+Mt*lt+Nt*ct)<0&&(V=-V),R<0&&(R=-R),j<0&&(j=-j),(P=1*(F-(L=V*it+R*st+j*rt)-at))>0||((c=(F=It*Q+Dt*tt+zt*et)>0)||(F=-F),R=It*pt+Dt*ut+zt*ft,j=It*dt+Dt*mt+zt*yt,(V=It*ht+Dt*lt+zt*ct)<0&&(V=-V),R<0&&(R=-R),j<0&&(j=-j),(T=1*(F-(L=V*it+R*st+j*rt)-ot))>0))))))){if((F=Gt*Gt+Ut*Ut+qt*qt)>1e-5){if((p=(F=(Gt*=F=1/A.sqrt(F))*Q+(Ut*=F)*tt+(qt*=F)*et)>0)||(F=-F),R=Gt*dt+Ut*mt+qt*yt,(V=Gt*pt+Ut*ut+qt*ft)<0&&(V=-V),R<0&&(R=-R),L=V*st+R*rt,R=Gt*It+Ut*Dt+qt*zt,(V=Gt*Ct+Ut*Mt+qt*Nt)<0&&(V=-V),R<0&&(R=-R),(E=F-L-(V*at+R*ot))>0)return}else p=!1,E=0,ve=!0;if((F=Xt*Xt+Wt*Wt+Yt*Yt)>1e-5){if((u=(F=(Xt*=F=1/A.sqrt(F))*Q+(Wt*=F)*tt+(Yt*=F)*et)>0)||(F=-F),R=Xt*dt+Wt*mt+Yt*yt,(V=Xt*pt+Wt*ut+Yt*ft)<0&&(V=-V),R<0&&(R=-R),L=V*st+R*rt,R=Xt*It+Wt*Dt+Yt*zt,(V=Xt*Et+Wt*St+Yt*At)<0&&(V=-V),R<0&&(R=-R),(S=F-L-(V*nt+R*ot))>0)return}else u=!1,S=0,ge=!0;if((F=Zt*Zt+Jt*Jt+Kt*Kt)>1e-5){if((f=(F=(Zt*=F=1/A.sqrt(F))*Q+(Jt*=F)*tt+(Kt*=F)*et)>0)||(F=-F),R=Zt*dt+Jt*mt+Kt*yt,(V=Zt*pt+Jt*ut+Kt*ft)<0&&(V=-V),R<0&&(R=-R),L=V*st+R*rt,R=Zt*Ct+Jt*Mt+Kt*Nt,(V=Zt*Et+Jt*St+Kt*At)<0&&(V=-V),R<0&&(R=-R),(C=F-L-(V*nt+R*at))>0)return}else f=!1,C=0,_e=!0;if((F=Qt*Qt+te*te+ee*ee)>1e-5){if((d=(F=(Qt*=F=1/A.sqrt(F))*Q+(te*=F)*tt+(ee*=F)*et)>0)||(F=-F),R=Qt*dt+te*mt+ee*yt,(V=Qt*ht+te*lt+ee*ct)<0&&(V=-V),R<0&&(R=-R),L=V*it+R*rt,R=Qt*It+te*Dt+ee*zt,(V=Qt*Ct+te*Mt+ee*Nt)<0&&(V=-V),R<0&&(R=-R),(M=F-L-(V*at+R*ot))>0)return}else d=!1,M=0,be=!0;if((F=ie*ie+se*se+re*re)>1e-5){if((m=(F=(ie*=F=1/A.sqrt(F))*Q+(se*=F)*tt+(re*=F)*et)>0)||(F=-F),R=ie*dt+se*mt+re*yt,(V=ie*ht+se*lt+re*ct)<0&&(V=-V),R<0&&(R=-R),L=V*it+R*rt,R=ie*It+se*Dt+re*zt,(V=ie*Et+se*St+re*At)<0&&(V=-V),R<0&&(R=-R),(N=F-L-(V*nt+R*ot))>0)return}else m=!1,N=0,xe=!0;if((F=ne*ne+ae*ae+oe*oe)>1e-5){if((y=(F=(ne*=F=1/A.sqrt(F))*Q+(ae*=F)*tt+(oe*=F)*et)>0)||(F=-F),R=ne*dt+ae*mt+oe*yt,(V=ne*ht+ae*lt+oe*ct)<0&&(V=-V),R<0&&(R=-R),L=V*it+R*rt,R=ne*Ct+ae*Mt+oe*Nt,(V=ne*Et+ae*St+oe*At)<0&&(V=-V),R<0&&(R=-R),(I=F-L-(V*nt+R*at))>0)return}else y=!1,I=0,we=!0;if((F=he*he+le*le+ce*ce)>1e-5){if((v=(F=(he*=F=1/A.sqrt(F))*Q+(le*=F)*tt+(ce*=F)*et)>0)||(F=-F),R=he*pt+le*ut+ce*ft,(V=he*ht+le*lt+ce*ct)<0&&(V=-V),R<0&&(R=-R),L=V*it+R*st,R=he*It+le*Dt+ce*zt,(V=he*Ct+le*Mt+ce*Nt)<0&&(V=-V),R<0&&(R=-R),(D=F-L-(V*at+R*ot))>0)return}else v=!1,D=0,ke=!0;if((F=pe*pe+ue*ue+fe*fe)>1e-5){if((g=(F=(pe*=F=1/A.sqrt(F))*Q+(ue*=F)*tt+(fe*=F)*et)>0)||(F=-F),R=pe*pt+ue*ut+fe*ft,(V=pe*ht+ue*lt+fe*ct)<0&&(V=-V),R<0&&(R=-R),L=V*it+R*st,R=pe*It+ue*Dt+fe*zt,(V=pe*Et+ue*St+fe*At)<0&&(V=-V),R<0&&(R=-R),(z=F-L-(V*nt+R*ot))>0)return}else g=!1,z=0,Pe=!0;if((F=de*de+me*me+ye*ye)>1e-5){if((_=(F=(de*=F=1/A.sqrt(F))*Q+(me*=F)*tt+(ye*=F)*et)>0)||(F=-F),R=de*pt+me*ut+ye*ft,(V=de*ht+me*lt+ye*ct)<0&&(V=-V),R<0&&(R=-R),L=V*it+R*st,R=de*Ct+me*Mt+ye*Nt,(V=de*Et+me*St+ye*At)<0&&(V=-V),R<0&&(R=-R),(O=F-L-(V*nt+R*at))>0)return}else _=!1,O=0,Te=!0;var Ee=b,Se=b,Ae=0,Ce=n;x>Se&&(Ee=x,Se=x,Ae=1,Ce=a),w>Se&&(Ee=w,Se=w,Ae=2,Ce=o),k>Se&&(Ee=k,Se=k,Ae=3,Ce=h),P>Se&&(Ee=P,Se=P,Ae=4,Ce=l),T>Se&&(Ee=T,Se=T,Ae=5,Ce=c),E-.01>Se&&!ve&&(Ee=E,Se=E-.01,Ae=6,Ce=p),S-.01>Se&&!ge&&(Ee=S,Se=S-.01,Ae=7,Ce=u),C-.01>Se&&!_e&&(Ee=C,Se=C-.01,Ae=8,Ce=f),M-.01>Se&&!be&&(Ee=M,Se=M-.01,Ae=9,Ce=d),N-.01>Se&&!xe&&(Ee=N,Se=N-.01,Ae=10,Ce=m),I-.01>Se&&!we&&(Ee=I,Se=I-.01,Ae=11,Ce=y),D-.01>Se&&!ke&&(Ee=D,Se=D-.01,Ae=12,Ce=v),z-.01>Se&&!Pe&&(Ee=z,Se=z-.01,Ae=13,Ce=g),O-.01>Se&&!Te&&(Ee=O,Ae=14,Ce=_);var Me=0,Ne=0,Ie=0,De=0,ze=0,Oe=0,Fe=0,Le=0,Ve=0,Re=0,je=0,Be=0,He=0,$e=0,Ge=0,Ue=0,qe=0,Xe=0,We=!1;if(0==Ae?(Ce?(Re=X+vt,je=W+gt,Be=Y+_t,Me=ht,Ne=lt,Ie=ct):(Re=X-vt,je=W-gt,Be=Y-_t,Me=-ht,Ne=-lt,Ie=-ct),He=bt,$e=xt,Ge=wt,De=-pt,ze=-ut,Oe=-ft,Ue=kt,qe=Pt,Xe=Tt,Fe=-dt,Le=-mt,Ve=-yt):1==Ae?(Ce?(Re=X+bt,je=W+xt,Be=Y+wt,Me=pt,Ne=ut,Ie=ft):(Re=X-bt,je=W-xt,Be=Y-wt,Me=-pt,Ne=-ut,Ie=-ft),He=vt,$e=gt,Ge=_t,De=-ht,ze=-lt,Oe=-ct,Ue=kt,qe=Pt,Xe=Tt,Fe=-dt,Le=-mt,Ve=-yt):2==Ae?(Ce?(Re=X+kt,je=W+Pt,Be=Y+Tt,Me=dt,Ne=mt,Ie=yt):(Re=X-kt,je=W-Pt,Be=Y-Tt,Me=-dt,Ne=-mt,Ie=-yt),He=vt,$e=gt,Ge=_t,De=-ht,ze=-lt,Oe=-ct,Ue=bt,qe=xt,Xe=wt,Fe=-pt,Le=-ut,Ve=-ft):3==Ae?(We=!0,Ce?(Re=Z-Ot,je=J-Ft,Be=K-Lt,Me=-Et,Ne=-St,Ie=-At):(Re=Z+Ot,je=J+Ft,Be=K+Lt,Me=Et,Ne=St,Ie=At),He=Vt,$e=Rt,Ge=jt,De=-Ct,ze=-Mt,Oe=-Nt,Ue=Bt,qe=Ht,Xe=$t,Fe=-It,Le=-Dt,Ve=-zt):4==Ae?(We=!0,Ce?(Re=Z-Vt,je=J-Rt,Be=K-jt,Me=-Ct,Ne=-Mt,Ie=-Nt):(Re=Z+Vt,je=J+Rt,Be=K+jt,Me=Ct,Ne=Mt,Ie=Nt),He=Ot,$e=Ft,Ge=Lt,De=-Et,ze=-St,Oe=-At,Ue=Bt,qe=Ht,Xe=$t,Fe=-It,Le=-Dt,Ve=-zt):5==Ae?(We=!0,Ce?(Re=Z-Bt,je=J-Ht,Be=K-$t,Me=-It,Ne=-Dt,Ie=-zt):(Re=Z+Bt,je=J+Ht,Be=K+$t,Me=It,Ne=Dt,Ie=zt),He=Ot,$e=Ft,Ge=Lt,De=-Et,ze=-St,Oe=-At,Ue=Vt,qe=Rt,Xe=jt,Fe=-Ct,Le=-Mt,Ve=-Nt):6==Ae?(Me=Gt,Ne=Ut,Ie=qt,De=ht,ze=lt,Oe=ct,Fe=Et,Le=St,Ve=At):7==Ae?(Me=Xt,Ne=Wt,Ie=Yt,De=ht,ze=lt,Oe=ct,Fe=Ct,Le=Mt,Ve=Nt):8==Ae?(Me=Zt,Ne=Jt,Ie=Kt,De=ht,ze=lt,Oe=ct,Fe=It,Le=Dt,Ve=zt):9==Ae?(Me=Qt,Ne=te,Ie=ee,De=pt,ze=ut,Oe=ft,Fe=Et,Le=St,Ve=At):10==Ae?(Me=ie,Ne=se,Ie=re,De=pt,ze=ut,Oe=ft,Fe=Ct,Le=Mt,Ve=Nt):11==Ae?(Me=ne,Ne=ae,Ie=oe,De=pt,ze=ut,Oe=ft,Fe=It,Le=Dt,Ve=zt):12==Ae?(Me=he,Ne=le,Ie=ce,De=dt,ze=mt,Oe=yt,Fe=Et,Le=St,Ve=At):13==Ae?(Me=pe,Ne=ue,Ie=fe,De=dt,ze=mt,Oe=yt,Fe=Ct,Le=Mt,Ve=Nt):14==Ae&&(Me=de,Ne=me,Ie=ye,De=dt,ze=mt,Oe=yt,Fe=It,Le=Dt,Ve=zt),Ae>5){var Ye,Ze,Je,Ke,Qe,ti,ei,ii,si,ri,ni;Ce||(Me=-Me,Ne=-Ne,Ie=-Ie),Ze=Me*(ti=B[0])+Ne*(ei=B[1])+Ie*(ii=B[2]),(Ye=Me*(Je=B[3])+Ne*(Ke=B[4])+Ie*(Qe=B[5]))>Ze&&(Ze=Ye,ti=Je,ei=Ke,ii=Qe),(Ye=Me*(Je=B[6])+Ne*(Ke=B[7])+Ie*(Qe=B[8]))>Ze&&(Ze=Ye,ti=Je,ei=Ke,ii=Qe),(Ye=Me*(Je=B[9])+Ne*(Ke=B[10])+Ie*(Qe=B[11]))>Ze&&(Ze=Ye,ti=Je,ei=Ke,ii=Qe),(Ye=Me*(Je=B[12])+Ne*(Ke=B[13])+Ie*(Qe=B[14]))>Ze&&(Ze=Ye,ti=Je,ei=Ke,ii=Qe),(Ye=Me*(Je=B[15])+Ne*(Ke=B[16])+Ie*(Qe=B[17]))>Ze&&(Ze=Ye,ti=Je,ei=Ke,ii=Qe),(Ye=Me*(Je=B[18])+Ne*(Ke=B[19])+Ie*(Qe=B[20]))>Ze&&(Ze=Ye,ti=Je,ei=Ke,ii=Qe),(Ye=Me*(Je=B[21])+Ne*(Ke=B[22])+Ie*(Qe=B[23]))>Ze&&(Ze=Ye,ti=Je,ei=Ke,ii=Qe),Ze=Me*(si=H[0])+Ne*(ri=H[1])+Ie*(ni=H[2]),(Ye=Me*(Je=H[3])+Ne*(Ke=H[4])+Ie*(Qe=H[5]))<Ze&&(Ze=Ye,si=Je,ri=Ke,ni=Qe),(Ye=Me*(Je=H[6])+Ne*(Ke=H[7])+Ie*(Qe=H[8]))<Ze&&(Ze=Ye,si=Je,ri=Ke,ni=Qe),(Ye=Me*(Je=H[9])+Ne*(Ke=H[10])+Ie*(Qe=H[11]))<Ze&&(Ze=Ye,si=Je,ri=Ke,ni=Qe),(Ye=Me*(Je=H[12])+Ne*(Ke=H[13])+Ie*(Qe=H[14]))<Ze&&(Ze=Ye,si=Je,ri=Ke,ni=Qe),(Ye=Me*(Je=H[15])+Ne*(Ke=H[16])+Ie*(Qe=H[17]))<Ze&&(Ze=Ye,si=Je,ri=Ke,ni=Qe),(Ye=Me*(Je=H[18])+Ne*(Ke=H[19])+Ie*(Qe=H[20]))<Ze&&(Ze=Ye,si=Je,ri=Ke,ni=Qe),(Ye=Me*(Je=H[21])+Ne*(Ke=H[22])+Ie*(Qe=H[23]))<Ze&&(Ze=Ye,si=Je,ri=Ke,ni=Qe);var ai=((Je=si-ti)*(De-Fe*(V=De*Fe+ze*Le+Oe*Ve))+(Ke=ri-ei)*(ze-Le*V)+(Qe=ni-ii)*(Oe-Ve*V))/(1-V*V);i.addPoint(ti+De*ai+Me*Ee*.5,ei+ze*ai+Ne*Ee*.5,ii+Oe*ai+Ie*Ee*.5,Me,Ne,Ie,Ee,!1)}else{var oi,hi,li,ci,pi,ui,fi,di,mi,yi,vi,gi,_i,bi,xi,wi,ki,Pi,Ti,Ei,Si,Ai=1,Ci=0,Mi=0;We?((Ci=ht*Me+lt*Ne+ct*Ie)<Ai&&(Ai=Ci,Mi=0),-Ci<Ai&&(Ai=-Ci,Mi=1),(Ci=pt*Me+ut*Ne+ft*Ie)<Ai&&(Ai=Ci,Mi=2),-Ci<Ai&&(Ai=-Ci,Mi=3),(Ci=dt*Me+mt*Ne+yt*Ie)<Ai&&(Ai=Ci,Mi=4),-Ci<Ai&&(Ai=-Ci,Mi=5),0==Mi?(oi=B[0],hi=B[1],li=B[2],ci=B[6],pi=B[7],ui=B[8],fi=B[9],di=B[10],mi=B[11],yi=B[3],vi=B[4],gi=B[5]):1==Mi?(oi=B[15],hi=B[16],li=B[17],ci=B[21],pi=B[22],ui=B[23],fi=B[18],di=B[19],mi=B[20],yi=B[12],vi=B[13],gi=B[14]):2==Mi?(oi=B[12],hi=B[13],li=B[14],ci=B[0],pi=B[1],ui=B[2],fi=B[3],di=B[4],mi=B[5],yi=B[15],vi=B[16],gi=B[17]):3==Mi?(oi=B[21],hi=B[22],li=B[23],ci=B[9],pi=B[10],ui=B[11],fi=B[6],di=B[7],mi=B[8],yi=B[18],vi=B[19],gi=B[20]):4==Mi?(oi=B[12],hi=B[13],li=B[14],ci=B[18],pi=B[19],ui=B[20],fi=B[6],di=B[7],mi=B[8],yi=B[0],vi=B[1],gi=B[2]):5==Mi&&(oi=B[3],hi=B[4],li=B[5],ci=H[9],pi=H[10],ui=H[11],fi=B[21],di=B[22],mi=B[23],yi=B[15],vi=B[16],gi=B[17])):((Ci=Et*Me+St*Ne+At*Ie)<Ai&&(Ai=Ci,Mi=0),-Ci<Ai&&(Ai=-Ci,Mi=1),(Ci=Ct*Me+Mt*Ne+Nt*Ie)<Ai&&(Ai=Ci,Mi=2),-Ci<Ai&&(Ai=-Ci,Mi=3),(Ci=It*Me+Dt*Ne+zt*Ie)<Ai&&(Ai=Ci,Mi=4),-Ci<Ai&&(Ai=-Ci,Mi=5),0==Mi?(oi=H[0],hi=H[1],li=H[2],ci=H[6],pi=H[7],ui=H[8],fi=H[9],di=H[10],mi=H[11],yi=H[3],vi=H[4],gi=H[5]):1==Mi?(oi=H[15],hi=H[16],li=H[17],ci=H[21],pi=H[22],ui=H[23],fi=H[18],di=H[19],mi=H[20],yi=H[12],vi=H[13],gi=H[14]):2==Mi?(oi=H[12],hi=H[13],li=H[14],ci=H[0],pi=H[1],ui=H[2],fi=H[3],di=H[4],mi=H[5],yi=H[15],vi=H[16],gi=H[17]):3==Mi?(oi=H[21],hi=H[22],li=H[23],ci=H[9],pi=H[10],ui=H[11],fi=H[6],di=H[7],mi=H[8],yi=H[18],vi=H[19],gi=H[20]):4==Mi?(oi=H[12],hi=H[13],li=H[14],ci=H[18],pi=H[19],ui=H[20],fi=H[6],di=H[7],mi=H[8],yi=H[0],vi=H[1],gi=H[2]):5==Mi&&(oi=H[3],hi=H[4],li=H[5],ci=H[9],pi=H[10],ui=H[11],fi=H[21],di=H[22],mi=H[23],yi=H[15],vi=H[16],gi=H[17])),this.clipVertices1[0]=oi,this.clipVertices1[1]=hi,this.clipVertices1[2]=li,this.clipVertices1[3]=ci,this.clipVertices1[4]=pi,this.clipVertices1[5]=ui,this.clipVertices1[6]=fi,this.clipVertices1[7]=di,this.clipVertices1[8]=mi,this.clipVertices1[9]=yi,this.clipVertices1[10]=vi,this.clipVertices1[11]=gi,bi=0,V=((wi=this.clipVertices1[9])-Re-He)*De+((ki=this.clipVertices1[10])-je-$e)*ze+((Pi=this.clipVertices1[11])-Be-Ge)*Oe;for(var Ni=0;Ni<4;Ni++)xi=3*Ni,R=((Ti=this.clipVertices1[xi])-Re-He)*De+((Ei=this.clipVertices1[xi+1])-je-$e)*ze+((Si=this.clipVertices1[xi+2])-Be-Ge)*Oe,V>0?R>0?(xi=3*bi,bi++,this.clipVertices2[xi]=Ti,this.clipVertices2[xi+1]=Ei,this.clipVertices2[xi+2]=Si):(xi=3*bi,bi++,ai=V/(V-R),this.clipVertices2[xi]=wi+(Ti-wi)*ai,this.clipVertices2[xi+1]=ki+(Ei-ki)*ai,this.clipVertices2[xi+2]=Pi+(Si-Pi)*ai):R>0&&(xi=3*bi,bi++,ai=V/(V-R),this.clipVertices2[xi]=wi+(Ti-wi)*ai,this.clipVertices2[xi+1]=ki+(Ei-ki)*ai,this.clipVertices2[xi+2]=Pi+(Si-Pi)*ai,xi=3*bi,bi++,this.clipVertices2[xi]=Ti,this.clipVertices2[xi+1]=Ei,this.clipVertices2[xi+2]=Si),wi=Ti,ki=Ei,Pi=Si,V=R;if(0!=(_i=bi)){for(bi=0,xi=3*(_i-1),V=((wi=this.clipVertices2[xi])-Re-Ue)*Fe+((ki=this.clipVertices2[xi+1])-je-qe)*Le+((Pi=this.clipVertices2[xi+2])-Be-Xe)*Ve,Ni=0;Ni<_i;Ni++)xi=3*Ni,R=((Ti=this.clipVertices2[xi])-Re-Ue)*Fe+((Ei=this.clipVertices2[xi+1])-je-qe)*Le+((Si=this.clipVertices2[xi+2])-Be-Xe)*Ve,V>0?R>0?(xi=3*bi,bi++,this.clipVertices1[xi]=Ti,this.clipVertices1[xi+1]=Ei,this.clipVertices1[xi+2]=Si):(xi=3*bi,bi++,ai=V/(V-R),this.clipVertices1[xi]=wi+(Ti-wi)*ai,this.clipVertices1[xi+1]=ki+(Ei-ki)*ai,this.clipVertices1[xi+2]=Pi+(Si-Pi)*ai):R>0&&(xi=3*bi,bi++,ai=V/(V-R),this.clipVertices1[xi]=wi+(Ti-wi)*ai,this.clipVertices1[xi+1]=ki+(Ei-ki)*ai,this.clipVertices1[xi+2]=Pi+(Si-Pi)*ai,xi=3*bi,bi++,this.clipVertices1[xi]=Ti,this.clipVertices1[xi+1]=Ei,this.clipVertices1[xi+2]=Si),wi=Ti,ki=Ei,Pi=Si,V=R;if(0!=(_i=bi)){for(bi=0,xi=3*(_i-1),V=((wi=this.clipVertices1[xi])-Re+He)*-De+((ki=this.clipVertices1[xi+1])-je+$e)*-ze+((Pi=this.clipVertices1[xi+2])-Be+Ge)*-Oe,Ni=0;Ni<_i;Ni++)xi=3*Ni,R=((Ti=this.clipVertices1[xi])-Re+He)*-De+((Ei=this.clipVertices1[xi+1])-je+$e)*-ze+((Si=this.clipVertices1[xi+2])-Be+Ge)*-Oe,V>0?R>0?(xi=3*bi,bi++,this.clipVertices2[xi]=Ti,this.clipVertices2[xi+1]=Ei,this.clipVertices2[xi+2]=Si):(xi=3*bi,bi++,ai=V/(V-R),this.clipVertices2[xi]=wi+(Ti-wi)*ai,this.clipVertices2[xi+1]=ki+(Ei-ki)*ai,this.clipVertices2[xi+2]=Pi+(Si-Pi)*ai):R>0&&(xi=3*bi,bi++,ai=V/(V-R),this.clipVertices2[xi]=wi+(Ti-wi)*ai,this.clipVertices2[xi+1]=ki+(Ei-ki)*ai,this.clipVertices2[xi+2]=Pi+(Si-Pi)*ai,xi=3*bi,bi++,this.clipVertices2[xi]=Ti,this.clipVertices2[xi+1]=Ei,this.clipVertices2[xi+2]=Si),wi=Ti,ki=Ei,Pi=Si,V=R;if(0!=(_i=bi)){for(bi=0,xi=3*(_i-1),V=((wi=this.clipVertices2[xi])-Re+Ue)*-Fe+((ki=this.clipVertices2[xi+1])-je+qe)*-Le+((Pi=this.clipVertices2[xi+2])-Be+Xe)*-Ve,Ni=0;Ni<_i;Ni++)xi=3*Ni,R=((Ti=this.clipVertices2[xi])-Re+Ue)*-Fe+((Ei=this.clipVertices2[xi+1])-je+qe)*-Le+((Si=this.clipVertices2[xi+2])-Be+Xe)*-Ve,V>0?R>0?(xi=3*bi,bi++,this.clipVertices1[xi]=Ti,this.clipVertices1[xi+1]=Ei,this.clipVertices1[xi+2]=Si):(xi=3*bi,bi++,ai=V/(V-R),this.clipVertices1[xi]=wi+(Ti-wi)*ai,this.clipVertices1[xi+1]=ki+(Ei-ki)*ai,this.clipVertices1[xi+2]=Pi+(Si-Pi)*ai):R>0&&(xi=3*bi,bi++,ai=V/(V-R),this.clipVertices1[xi]=wi+(Ti-wi)*ai,this.clipVertices1[xi+1]=ki+(Ei-ki)*ai,this.clipVertices1[xi+2]=Pi+(Si-Pi)*ai,xi=3*bi,bi++,this.clipVertices1[xi]=Ti,this.clipVertices1[xi+1]=Ei,this.clipVertices1[xi+2]=Si),wi=Ti,ki=Ei,Pi=Si,V=R;if(_i=bi,We){var Ii=s;s=r,r=Ii}if(0!=_i){var Di=s!=t;if(_i>4){De=oi-(wi=.25*(oi+ci+fi+yi)),ze=hi-(ki=.25*(hi+pi+di+vi)),Oe=li-(Pi=.25*(li+ui+mi+gi)),Fe=ci-wi,Le=pi-ki,Ve=ui-Pi;var zi=0,Oi=0,Fi=0,Li=0,Vi=-this.INF;for(Ai=this.INF,Ni=0;Ni<_i;Ni++)this.used[Ni]=!1,xi=3*Ni,(Ci=(wi=this.clipVertices1[xi])*De+(ki=this.clipVertices1[xi+1])*ze+(Pi=this.clipVertices1[xi+2])*Oe)<Ai&&(Ai=Ci,zi=Ni),Ci>Vi&&(Vi=Ci,Fi=Ni);for(this.used[zi]=!0,this.used[Fi]=!0,Vi=-this.INF,Ai=this.INF,Ni=0;Ni<_i;Ni++)this.used[Ni]||(xi=3*Ni,(Ci=(wi=this.clipVertices1[xi])*Fe+(ki=this.clipVertices1[xi+1])*Le+(Pi=this.clipVertices1[xi+2])*Ve)<Ai&&(Ai=Ci,Oi=Ni),Ci>Vi&&(Vi=Ci,Li=Ni));xi=3*zi,(Ci=((wi=this.clipVertices1[xi])-Re)*Me+((ki=this.clipVertices1[xi+1])-je)*Ne+((Pi=this.clipVertices1[xi+2])-Be)*Ie)<0&&i.addPoint(wi,ki,Pi,Me,Ne,Ie,Ci,Di),xi=3*Oi,(Ci=((wi=this.clipVertices1[xi])-Re)*Me+((ki=this.clipVertices1[xi+1])-je)*Ne+((Pi=this.clipVertices1[xi+2])-Be)*Ie)<0&&i.addPoint(wi,ki,Pi,Me,Ne,Ie,Ci,Di),xi=3*Fi,(Ci=((wi=this.clipVertices1[xi])-Re)*Me+((ki=this.clipVertices1[xi+1])-je)*Ne+((Pi=this.clipVertices1[xi+2])-Be)*Ie)<0&&i.addPoint(wi,ki,Pi,Me,Ne,Ie,Ci,Di),xi=3*Li,(Ci=((wi=this.clipVertices1[xi])-Re)*Me+((ki=this.clipVertices1[xi+1])-je)*Ne+((Pi=this.clipVertices1[xi+2])-Be)*Ie)<0&&i.addPoint(wi,ki,Pi,Me,Ne,Ie,Ci,Di)}else for(Ni=0;Ni<_i;Ni++)xi=3*Ni,(Ci=((wi=this.clipVertices1[xi])-Re)*Me+((ki=this.clipVertices1[xi+1])-je)*Ne+((Pi=this.clipVertices1[xi+2])-Be)*Ie)<0&&i.addPoint(wi,ki,Pi,Me,Ne,Ie,Ci,Di)}}}}}}}}),St.prototype=Object.assign(Object.create(Tt.prototype),{constructor:St,getSep:function(t,e,i,s,r){var n,a,o,h,l,c,p,u,f,d,m,y,v,g=new N,_=t.position.x,b=t.position.y,x=t.position.z,w=e.position.x,k=e.position.y,P=e.position.z,T=w-_,E=k-b,S=P-x;T*T+E*E+S*S==0&&(E=.001);var C=-T,M=-E,I=-S;this.supportPointB(t,-C,-M,-I,g);var D=g.x,z=g.y,O=g.z;this.supportPointC(e,C,M,I,g);var F=g.x,L=g.y,V=g.z,R=F-D,j=L-z,B=V-O;if(R*C+j*M+B*I<=0)return!1;if((C=j*S-B*E)*C+(M=B*T-R*S)*M+(I=R*E-j*T)*I==0)return i.set(R-T,j-E,B-S).normalize(),s.set(.5*(D+F),.5*(z+L),.5*(O+V)),!0;this.supportPointB(t,-C,-M,-I,g);var H=g.x,$=g.y,G=g.z;this.supportPointC(e,C,M,I,g);var U=g.x,q=g.y,X=g.z,W=U-H,Y=q-$,Z=X-G;if(W*C+Y*M+Z*I<=0)return!1;(C=(a=j-E)*(c=Z-S)-(o=B-S)*(l=Y-E))*T+(M=o*(h=W-T)-(n=R-T)*c)*E+(I=n*l-a*h)*S>0&&(n=R,a=j,o=B,R=W,j=Y,B=Z,W=n,Y=a,Z=o,n=D,a=z,o=O,D=H,z=$,O=G,H=n,$=a,G=o,n=F,a=L,o=V,F=U,L=q,V=X,U=n,q=a,X=o,C=-C,M=-M,I=-I);for(var J=0;;){if(++J>100)return!1;this.supportPointB(t,-C,-M,-I,g);var K=g.x,Q=g.y,tt=g.z;this.supportPointC(e,C,M,I,g);var et=g.x,it=g.y,st=g.z,rt=et-K,nt=it-Q,at=st-tt;if(rt*C+nt*M+at*I<=0)return!1;if((j*at-B*nt)*T+(B*rt-R*at)*E+(R*nt-j*rt)*S<0)W=rt,Y=nt,Z=at,H=K,$=Q,G=tt,U=et,q=it,X=st,C=(a=j-E)*(c=at-S)-(o=B-S)*(l=nt-E),M=o*(h=rt-T)-(n=R-T)*c,I=n*l-a*h;else if((nt*Z-at*Y)*T+(at*W-rt*Z)*E+(rt*Y-nt*W)*S<0)R=rt,j=nt,B=at,D=K,z=Q,O=tt,F=et,L=it,V=st,C=(a=nt-E)*(c=Z-S)-(o=at-S)*(l=Y-E),M=o*(h=W-T)-(n=rt-T)*c,I=n*l-a*h;else for(var ot=!1;;){if(C=(a=Y-j)*(c=at-B)-(o=Z-B)*(l=nt-j),M=o*(h=rt-R)-(n=W-R)*c,I=n*l-a*h,(C*=p=1/A.sqrt(C*C+M*M+I*I))*R+(M*=p)*j+(I*=p)*B>=0&&!ot){var ht=(j*Z-B*Y)*rt+(B*W-R*Z)*nt+(R*Y-j*W)*at,lt=(nt*Z-at*Y)*T+(at*W-rt*Z)*E+(rt*Y-nt*W)*S,ct=(E*B-S*j)*rt+(S*R-T*B)*nt+(T*j-E*R)*at,pt=(Y*B-Z*j)*T+(Z*R-W*B)*E+(W*j-Y*R)*S,ut=ht+lt+ct+pt;ut<=0&&(ht=0,ut=(lt=(Y*at-Z*nt)*C+(Z*rt-W*at)*M+(W*nt-Y*rt)*I)+(ct=(nt*Z-at*Y)*C+(at*W-rt*Z)*M+(rt*Y-nt*W)*I)+(pt=(j*Z-B*Y)*C+(B*W-R*Z)*M+(R*Y-j*W)*I));var ft=1/ut;u=(_*ht+D*lt+H*ct+K*pt)*ft,f=(b*ht+z*lt+$*ct+Q*pt)*ft,d=(x*ht+O*lt+G*ct+tt*pt)*ft,m=(w*ht+F*lt+U*ct+et*pt)*ft,y=(k*ht+L*lt+q*ct+it*pt)*ft,v=(P*ht+V*lt+X*ct+st*pt)*ft,ot=!0}this.supportPointB(t,-C,-M,-I,g);var dt=g.x,mt=g.y,yt=g.z;this.supportPointC(e,C,M,I,g);var vt=g.x,gt=g.y,_t=g.z,bt=vt-dt,xt=gt-mt,wt=_t-yt,kt=-(bt*C+xt*M+wt*I);if((bt-rt)*C+(xt-nt)*M+(wt-at)*I<=.01||kt>=0)return!!ot&&(i.set(-C,-M,-I),s.set(.5*(u+m),.5*(f+y),.5*(d+v)),r.x=kt,!0);(xt*B-wt*j)*T+(wt*R-bt*B)*E+(bt*j-xt*R)*S<0?(xt*Z-wt*Y)*T+(wt*W-bt*Z)*E+(bt*Y-xt*W)*S<0?(R=bt,j=xt,B=wt,D=dt,z=mt,O=yt,F=vt,L=gt,V=_t):(rt=bt,nt=xt,at=wt,K=dt,Q=mt,tt=yt,et=vt,it=gt,st=_t):(xt*at-wt*nt)*T+(wt*rt-bt*at)*E+(bt*nt-xt*rt)*S<0?(W=bt,Y=xt,Z=wt,H=dt,$=mt,G=yt,U=vt,q=gt,X=_t):(R=bt,j=xt,B=wt,D=dt,z=mt,O=yt,F=vt,L=gt,V=_t)}}},supportPointB:function(t,e,i,s,r){var n,a,o,h=t.rotation.elements,l=h[0]*e+h[3]*i+h[6]*s,c=h[1]*e+h[4]*i+h[7]*s,p=h[2]*e+h[5]*i+h[8]*s,u=t.halfWidth,f=t.halfHeight,d=t.halfDepth;n=l<0?-u:u,a=c<0?-f:f,o=p<0?-d:d,l=h[0]*n+h[1]*a+h[2]*o+t.position.x,c=h[3]*n+h[4]*a+h[5]*o+t.position.y,p=h[6]*n+h[7]*a+h[8]*o+t.position.z,r.set(l,c,p)},supportPointC:function(t,e,i,s,r){var n,a,o,h=t.rotation.elements,l=h[0]*e+h[3]*i+h[6]*s,c=h[1]*e+h[4]*i+h[7]*s,p=h[2]*e+h[5]*i+h[8]*s,u=l,f=p,d=u*u+f*f,m=t.radius,y=t.halfHeight;0==d?c<0?(n=m,a=-y,o=0):(n=m,a=y,o=0):(d=t.radius/A.sqrt(d),c<0?(n=u*d,a=-y,o=f*d):(n=u*d,a=y,o=f*d)),l=h[0]*n+h[1]*a+h[2]*o+t.position.x,c=h[3]*n+h[4]*a+h[5]*o+t.position.y,p=h[6]*n+h[7]*a+h[8]*o+t.position.z,r.set(l,c,p)},detectCollision:function(t,e,i){var s,r;this.flip?(s=e,r=t):(s=t,r=e);var n=new N,a=new N,o=new N;if(this.getSep(s,r,n,a,o)){var h=s.position.x,l=s.position.y,c=s.position.z,p=r.position.x,u=r.position.y,f=r.position.z,d=s.halfWidth,m=s.halfHeight,y=s.halfDepth,v=r.halfHeight,g=r.radius,_=s.dimentions,b=_[0],x=_[1],w=_[2],k=_[3],P=_[4],T=_[5],E=_[6],S=_[7],C=_[8],M=_[9],I=_[10],D=_[11],z=_[12],O=_[13],F=_[14],L=_[15],V=_[16],R=_[17],j=r.normalDirection.x,B=r.normalDirection.y,H=r.normalDirection.z,$=r.halfDirection.x,G=r.halfDirection.y,U=r.halfDirection.z,q=n.x,X=n.y,W=n.z,Y=q*b+X*x+W*w,Z=q*k+X*P+W*T,J=q*E+X*S+W*C,K=q*j+X*B+W*H,Q=Y>0,tt=Z>0,et=J>0,it=K>0;Q||(Y=-Y),tt||(Z=-Z),et||(J=-J),it||(K=-K);var st,rt,nt,at,ot,ht,lt,ct,pt,ut,ft,dt,mt,yt,vt,gt,_t,bt,xt,wt,kt,Pt,Tt,Et,St,At,Ct,Mt,Nt,It,Dt,zt,Ot,Ft,Lt,Vt,Rt,jt,Bt,Ht,$t,Gt,Ut,qt,Xt,Wt,Yt,Zt,Jt,Kt,Qt,te,ee,ie=0;if(K>.999?ie=Y>.999?Y>K?1:4:Z>.999?Z>K?2:4:J>.999&&J>K?3:4:Y>.999?ie=1:Z>.999?ie=2:J>.999&&(ie=3),0==ie)i.addPoint(a.x,a.y,a.z,q,X,W,o.x,this.flip);else if(4==ie){var se,re,ne,ae,oe,he,le,ce,pe,ue,fe,de;it?(at=p-$,ot=u-G,ht=f-U,q=-j,X=-B,W=-H):(at=p+$,ot=u+G,ht=f+U,q=j,X=B,W=H),ie=0,(Ut=b*q+x*X+w*W)<(wt=1)&&(wt=Ut,ie=0),-Ut<wt&&(wt=-Ut,ie=1),(Ut=k*q+P*X+T*W)<wt&&(wt=Ut,ie=2),-Ut<wt&&(wt=-Ut,ie=3),(Ut=E*q+S*X+C*W)<wt&&(wt=Ut,ie=4),-Ut<wt&&(wt=-Ut,ie=5);var me=s.elements;switch(ie){case 0:se=me[0],re=me[1],ne=me[2],ae=me[6],oe=me[7],he=me[8],le=me[9],ce=me[10],pe=me[11],ue=me[3],fe=me[4],de=me[5];break;case 1:se=me[15],re=me[16],ne=me[17],ae=me[21],oe=me[22],he=me[23],le=me[18],ce=me[19],pe=me[20],ue=me[12],fe=me[13],de=me[14];break;case 2:se=me[12],re=me[13],ne=me[14],ae=me[0],oe=me[1],he=me[2],le=me[3],ce=me[4],pe=me[5],ue=me[15],fe=me[16],de=me[17];break;case 3:se=me[21],re=me[22],ne=me[23],ae=me[9],oe=me[10],he=me[11],le=me[6],ce=me[7],pe=me[8],ue=me[18],fe=me[19],de=me[20];break;case 4:se=me[12],re=me[13],ne=me[14],ae=me[18],oe=me[19],he=me[20],le=me[6],ce=me[7],pe=me[8],ue=me[0],fe=me[1],de=me[2];break;case 5:se=me[3],re=me[4],ne=me[5],ae=me[9],oe=me[10],he=me[11],le=me[21],ce=me[22],pe=me[23],ue=me[15],fe=me[16],de=me[17]}(xt=q*(se-at)+X*(re-ot)+W*(ne-ht))<=0&&i.addPoint(se,re,ne,-q,-X,-W,xt,this.flip),(xt=q*(ae-at)+X*(oe-ot)+W*(he-ht))<=0&&i.addPoint(ae,oe,he,-q,-X,-W,xt,this.flip),(xt=q*(le-at)+X*(ce-ot)+W*(pe-ht))<=0&&i.addPoint(le,ce,pe,-q,-X,-W,xt,this.flip),(xt=q*(ue-at)+X*(fe-ot)+W*(de-ht))<=0&&i.addPoint(ue,fe,de,-q,-X,-W,xt,this.flip)}else{switch(ie){case 1:Q?(st=h+M,rt=l+I,nt=c+D,q=b,X=x,W=w):(st=h-M,rt=l-I,nt=c-D,q=-b,X=-x,W=-w),Wt=k,Yt=P,Zt=T,te=m,Jt=E,Kt=S,Qt=C,ee=y;break;case 2:tt?(st=h+z,rt=l+O,nt=c+F,q=k,X=P,W=T):(st=h-z,rt=l-O,nt=c-F,q=-k,X=-P,W=-T),Wt=b,Yt=x,Zt=w,te=d,Jt=E,Kt=S,Qt=C,ee=y;break;case 3:et?(st=h+L,rt=l+V,nt=c+R,q=E,X=S,W=C):(st=h-L,rt=l-V,nt=c-R,q=-E,X=-S,W=-C),Wt=b,Yt=x,Zt=w,te=d,Jt=k,Kt=P,Qt=T,ee=m}if(at=p+(kt=(wt=q*j+X*B+W*H)<0?v:-v)*j,ot=u+kt*B,ht=f+kt*H,K>=.999999?(Pt=-X,Tt=W,Et=q):(Pt=q,Tt=X,Et=W),At=(kt=Pt*j+Tt*B+Et*H)*j-Pt,Ct=kt*B-Tt,Mt=kt*H-Et,0==(kt=A.sqrt(At*At+Ct*Ct+Mt*Mt)))return;if(Pt=at+(At*=kt=g/kt),Tt=ot+(Ct*=kt),Et=ht+(Mt*=kt),wt<-.96||wt>.96)lt=j*j*1.5-.5,ct=j*B*1.5-.866025403*H,pt=j*H*1.5+.866025403*B,ut=B*j*1.5+.866025403*H,ft=B*B*1.5-.5,dt=B*H*1.5-.866025403*j,mt=H*j*1.5-.866025403*B,yt=H*B*1.5+.866025403*j,vt=H*H*1.5-.5,Gt=Jt*(Pt=(gt=Pt)-(xt=q*(gt-st)+X*((_t=Tt)-rt)+W*((bt=Et)-nt))*q-st)+Kt*(Tt=_t-xt*X-rt)+Qt*(Et=bt-xt*W-nt),(jt=Wt*Pt+Yt*Tt+Zt*Et)<-te?jt=-te:jt>te&&(jt=te),Gt<-ee?Gt=-ee:Gt>ee&&(Gt=ee),gt=st+(Pt=jt*Wt+Gt*Jt),_t=rt+(Tt=jt*Yt+Gt*Kt),bt=nt+(Et=jt*Zt+Gt*Qt),i.addPoint(gt,_t,bt,q,X,W,xt,this.flip),_t=At*ut+Ct*ft+Mt*dt,bt=At*mt+Ct*yt+Mt*vt,(xt=q*((gt=(At=gt=At*lt+Ct*ct+Mt*pt)+at)-st)+X*((_t=(Ct=_t)+ot)-rt)+W*((bt=(Mt=bt)+ht)-nt))<=0&&(Gt=Jt*(Pt=gt-xt*q-st)+Kt*(Tt=_t-xt*X-rt)+Qt*(Et=bt-xt*W-nt),(jt=Wt*Pt+Yt*Tt+Zt*Et)<-te?jt=-te:jt>te&&(jt=te),Gt<-ee?Gt=-ee:Gt>ee&&(Gt=ee),gt=st+(Pt=jt*Wt+Gt*Jt),_t=rt+(Tt=jt*Yt+Gt*Kt),bt=nt+(Et=jt*Zt+Gt*Qt),i.addPoint(gt,_t,bt,q,X,W,xt,this.flip)),_t=At*ut+Ct*ft+Mt*dt,bt=At*mt+Ct*yt+Mt*vt,(xt=q*((gt=(At=gt=At*lt+Ct*ct+Mt*pt)+at)-st)+X*((_t=(Ct=_t)+ot)-rt)+W*((bt=(Mt=bt)+ht)-nt))<=0&&(Gt=Jt*(Pt=gt-xt*q-st)+Kt*(Tt=_t-xt*X-rt)+Qt*(Et=bt-xt*W-nt),(jt=Wt*Pt+Yt*Tt+Zt*Et)<-te?jt=-te:jt>te&&(jt=te),Gt<-ee?Gt=-ee:Gt>ee&&(Gt=ee),gt=st+(Pt=jt*Wt+Gt*Jt),_t=rt+(Tt=jt*Yt+Gt*Kt),bt=nt+(Et=jt*Zt+Gt*Qt),i.addPoint(gt,_t,bt,q,X,W,xt,this.flip));else{if(Lt=Pt,Lt-=(jt=q*(Lt-st)+X*((Vt=Tt)-rt)+W*((Rt=Et)-nt))*q,Vt-=jt*X,Rt-=jt*W,wt>0?(Bt=Pt+2*$,Ht=Tt+2*G,$t=Et+2*U):(Bt=Pt-2*$,Ht=Tt-2*G,$t=Et-2*U),Pt=(Bt-=(Gt=q*(Bt-st)+X*(Ht-rt)+W*($t-nt))*q)-Lt,Tt=(Ht-=Gt*X)-Vt,Et=($t-=Gt*W)-Rt,St=Gt-jt,qt=(Z=(zt=Bt-st)*Wt+(Ot=Ht-rt)*Yt+(Ft=$t-nt)*Zt)-te,(Ut=(Y=(Nt=Lt-st)*Wt+(It=Vt-rt)*Yt+(Dt=Rt-nt)*Zt)-te)>0){if(qt>0)return;Y=(Nt=(Lt+=Pt*(Xt=Ut/(Ut-qt)))-st)*Wt+(It=(Vt+=Tt*Xt)-rt)*Yt+(Dt=(Rt+=Et*Xt)-nt)*Zt,Pt=Bt-Lt,Tt=Ht-Vt,Et=$t-Rt,St=Gt-(jt+=St*Xt)}else qt>0&&(Z=(zt=(Bt=Lt+Pt*(Xt=Ut/(Ut-qt)))-st)*Wt+(Ot=(Ht=Vt+Tt*Xt)-rt)*Yt+(Ft=($t=Rt+Et*Xt)-nt)*Zt,Pt=Bt-Lt,Tt=Ht-Vt,Et=$t-Rt,St=(Gt=jt+St*Xt)-jt);if(qt=Z+te,(Ut=Y+te)<0){if(qt<0)return;Nt=(Lt+=Pt*(Xt=Ut/(Ut-qt)))-st,It=(Vt+=Tt*Xt)-rt,Dt=(Rt+=Et*Xt)-nt,Pt=Bt-Lt,Tt=Ht-Vt,Et=$t-Rt,St=Gt-(jt+=St*Xt)}else qt<0&&(zt=(Bt=Lt+Pt*(Xt=Ut/(Ut-qt)))-st,Ot=(Ht=Vt+Tt*Xt)-rt,Ft=($t=Rt+Et*Xt)-nt,Pt=Bt-Lt,Tt=Ht-Vt,Et=$t-Rt,St=(Gt=jt+St*Xt)-jt);if(qt=(Z=zt*Jt+Ot*Kt+Ft*Qt)-ee,(Ut=(Y=Nt*Jt+It*Kt+Dt*Qt)-ee)>0){if(qt>0)return;Y=(Nt=(Lt+=Pt*(Xt=Ut/(Ut-qt)))-st)*Jt+(It=(Vt+=Tt*Xt)-rt)*Kt+(Dt=(Rt+=Et*Xt)-nt)*Qt,Pt=Bt-Lt,Tt=Ht-Vt,Et=$t-Rt,St=Gt-(jt+=St*Xt)}else qt>0&&(Z=(zt=(Bt=Lt+Pt*(Xt=Ut/(Ut-qt)))-st)*Jt+(Ot=(Ht=Vt+Tt*Xt)-rt)*Kt+(Ft=($t=Rt+Et*Xt)-nt)*Qt,Pt=Bt-Lt,Tt=Ht-Vt,Et=$t-Rt,St=(Gt=jt+St*Xt)-jt);if(qt=Z+ee,(Ut=Y+ee)<0){if(qt<0)return;Lt+=Pt*(Xt=Ut/(Ut-qt)),Vt+=Tt*Xt,Rt+=Et*Xt,jt+=St*Xt}else qt<0&&(Bt=Lt+Pt*(Xt=Ut/(Ut-qt)),Ht=Vt+Tt*Xt,$t=Rt+Et*Xt,Gt=jt+St*Xt);jt<0&&i.addPoint(Lt,Vt,Rt,q,X,W,jt,this.flip),Gt<0&&i.addPoint(Bt,Ht,$t,q,X,W,Gt,this.flip)}}}}}),At.prototype=Object.assign(Object.create(Tt.prototype),{constructor:At,getSep:function(t,e,i,s,r){var n,a,o,h,l,c,p,u,f,d,m,y,v,g=new N,_=t.position.x,b=t.position.y,x=t.position.z,w=e.position.x,k=e.position.y,P=e.position.z,T=w-_,E=k-b,S=P-x;T*T+E*E+S*S==0&&(E=.001);var C=-T,M=-E,I=-S;this.supportPoint(t,-C,-M,-I,g);var D=g.x,z=g.y,O=g.z;this.supportPoint(e,C,M,I,g);var F=g.x,L=g.y,V=g.z,R=F-D,j=L-z,B=V-O;if(R*C+j*M+B*I<=0)return!1;if((C=j*S-B*E)*C+(M=B*T-R*S)*M+(I=R*E-j*T)*I==0)return i.set(R-T,j-E,B-S).normalize(),s.set(.5*(D+F),.5*(z+L),.5*(O+V)),!0;this.supportPoint(t,-C,-M,-I,g);var H=g.x,$=g.y,G=g.z;this.supportPoint(e,C,M,I,g);var U=g.x,q=g.y,X=g.z,W=U-H,Y=q-$,Z=X-G;if(W*C+Y*M+Z*I<=0)return!1;(C=(a=j-E)*(c=Z-S)-(o=B-S)*(l=Y-E))*T+(M=o*(h=W-T)-(n=R-T)*c)*E+(I=n*l-a*h)*S>0&&(n=R,a=j,o=B,R=W,j=Y,B=Z,W=n,Y=a,Z=o,n=D,a=z,o=O,D=H,z=$,O=G,H=n,$=a,G=o,n=F,a=L,o=V,F=U,L=q,V=X,U=n,q=a,X=o,C=-C,M=-M,I=-I);for(var J=0;;){if(++J>100)return!1;this.supportPoint(t,-C,-M,-I,g);var K=g.x,Q=g.y,tt=g.z;this.supportPoint(e,C,M,I,g);var et=g.x,it=g.y,st=g.z,rt=et-K,nt=it-Q,at=st-tt;if(rt*C+nt*M+at*I<=0)return!1;if((j*at-B*nt)*T+(B*rt-R*at)*E+(R*nt-j*rt)*S<0)W=rt,Y=nt,Z=at,H=K,$=Q,G=tt,U=et,q=it,X=st,C=(a=j-E)*(c=at-S)-(o=B-S)*(l=nt-E),M=o*(h=rt-T)-(n=R-T)*c,I=n*l-a*h;else if((nt*Z-at*Y)*T+(at*W-rt*Z)*E+(rt*Y-nt*W)*S<0)R=rt,j=nt,B=at,D=K,z=Q,O=tt,F=et,L=it,V=st,C=(a=nt-E)*(c=Z-S)-(o=at-S)*(l=Y-E),M=o*(h=W-T)-(n=rt-T)*c,I=n*l-a*h;else for(var ot=!1;;){if(C=(a=Y-j)*(c=at-B)-(o=Z-B)*(l=nt-j),M=o*(h=rt-R)-(n=W-R)*c,I=n*l-a*h,(C*=p=1/A.sqrt(C*C+M*M+I*I))*R+(M*=p)*j+(I*=p)*B>=0&&!ot){var ht=(j*Z-B*Y)*rt+(B*W-R*Z)*nt+(R*Y-j*W)*at,lt=(nt*Z-at*Y)*T+(at*W-rt*Z)*E+(rt*Y-nt*W)*S,ct=(E*B-S*j)*rt+(S*R-T*B)*nt+(T*j-E*R)*at,pt=(Y*B-Z*j)*T+(Z*R-W*B)*E+(W*j-Y*R)*S,ut=ht+lt+ct+pt;ut<=0&&(ht=0,ut=(lt=(Y*at-Z*nt)*C+(Z*rt-W*at)*M+(W*nt-Y*rt)*I)+(ct=(nt*Z-at*Y)*C+(at*W-rt*Z)*M+(rt*Y-nt*W)*I)+(pt=(j*Z-B*Y)*C+(B*W-R*Z)*M+(R*Y-j*W)*I));var ft=1/ut;u=(_*ht+D*lt+H*ct+K*pt)*ft,f=(b*ht+z*lt+$*ct+Q*pt)*ft,d=(x*ht+O*lt+G*ct+tt*pt)*ft,m=(w*ht+F*lt+U*ct+et*pt)*ft,y=(k*ht+L*lt+q*ct+it*pt)*ft,v=(P*ht+V*lt+X*ct+st*pt)*ft,ot=!0}this.supportPoint(t,-C,-M,-I,g);var dt=g.x,mt=g.y,yt=g.z;this.supportPoint(e,C,M,I,g);var vt=g.x,gt=g.y,_t=g.z,bt=vt-dt,xt=gt-mt,wt=_t-yt,kt=-(bt*C+xt*M+wt*I);if((bt-rt)*C+(xt-nt)*M+(wt-at)*I<=.01||kt>=0)return!!ot&&(i.set(-C,-M,-I),s.set(.5*(u+m),.5*(f+y),.5*(d+v)),r.x=kt,!0);(xt*B-wt*j)*T+(wt*R-bt*B)*E+(bt*j-xt*R)*S<0?(xt*Z-wt*Y)*T+(wt*W-bt*Z)*E+(bt*Y-xt*W)*S<0?(R=bt,j=xt,B=wt,D=dt,z=mt,O=yt,F=vt,L=gt,V=_t):(rt=bt,nt=xt,at=wt,K=dt,Q=mt,tt=yt,et=vt,it=gt,st=_t):(xt*at-wt*nt)*T+(wt*rt-bt*at)*E+(bt*nt-xt*rt)*S<0?(W=bt,Y=xt,Z=wt,H=dt,$=mt,G=yt,U=vt,q=gt,X=_t):(R=bt,j=xt,B=wt,D=dt,z=mt,O=yt,F=vt,L=gt,V=_t)}}},supportPoint:function(t,e,i,s,r){var n,a,o,h=t.rotation.elements,l=h[0]*e+h[3]*i+h[6]*s,c=h[1]*e+h[4]*i+h[7]*s,p=h[2]*e+h[5]*i+h[8]*s,u=l,f=p,d=u*u+f*f,m=t.radius,y=t.halfHeight;0==d?c<0?(n=m,a=-y,o=0):(n=m,a=y,o=0):(d=t.radius/A.sqrt(d),c<0?(n=u*d,a=-y,o=f*d):(n=u*d,a=y,o=f*d)),l=h[0]*n+h[1]*a+h[2]*o+t.position.x,c=h[3]*n+h[4]*a+h[5]*o+t.position.y,p=h[6]*n+h[7]*a+h[8]*o+t.position.z,r.set(l,c,p)},detectCollision:function(t,e,i){var s,r;t.id<e.id?(s=t,r=e):(s=e,r=t);var n,a,o,h,l,c,p,u,f,d,m,y,v,g,_,b,x,w,k,P,T,E=s.position,S=r.position,C=E.x,M=E.y,I=E.z,D=S.x,z=S.y,O=S.z,F=s.halfHeight,L=r.halfHeight,V=s.normalDirection,R=r.normalDirection,j=s.halfDirection,B=r.halfDirection,H=s.radius,$=r.radius,G=V.x,U=V.y,q=V.z,X=R.x,W=R.y,Y=R.z,Z=j.x,J=j.y,K=j.z,Q=B.x,tt=B.y,et=B.z,it=C-D,st=M-z,rt=I-O,nt=new N,at=new N,ot=new N;if(this.getSep(s,r,nt,at,ot)){var ht=nt.x*G+nt.y*U+nt.z*q,lt=nt.x*X+nt.y*W+nt.z*Y,ct=ht>0,pt=lt>0;ct||(ht=-ht),pt||(lt=-lt);var ut,ft,dt,mt=0;(ht>.999||lt>.999)&&(mt=ht>lt?1:2);var yt,vt,gt,_t,bt,xt,wt,kt,Pt,Tt,Et,St,At,Ct,Mt,Nt,It=ot.x;switch(ut=nt.x,ft=nt.y,dt=nt.z,mt){case 0:i.addPoint(at.x,at.y,at.z,ut,ft,dt,It,!1);break;case 1:if(ct?(a=C+Z,o=M+J,h=I+K,ut=G,ft=U,dt=q):(a=C-Z,o=M-J,h=I-K,ut=-G,ft=-U,dt=-q),l=D+(n=(k=ut*X+ft*W+dt*Y)<0?L:-L)*X,c=z+n*W,p=O+n*Y,lt>=.999999?(u=-ft,f=dt,d=ut):(u=ut,f=ft,d=dt),it=(n=u*X+f*W+d*Y)*X-u,st=n*W-f,rt=n*Y-d,0==(n=A.sqrt(it*it+st*st+rt*rt)))break;if(u=l+(it*=n=$/n),f=c+(st*=n),d=p+(rt*=n),k<-.96||k>.96)yt=X*X*1.5-.5,vt=X*W*1.5-.866025403*Y,gt=X*Y*1.5+.866025403*W,_t=W*X*1.5+.866025403*Y,bt=W*W*1.5-.5,xt=W*Y*1.5-.866025403*X,wt=Y*X*1.5-.866025403*W,kt=Y*W*1.5+.866025403*X,Pt=Y*Y*1.5-.5,(n=(u=(Tt=u)-(At=ut*(Tt-a)+ft*((Et=f)-o)+dt*((St=d)-h))*ut-a)*u+(f=Et-At*ft-o)*f+(d=St-At*dt-h)*d)>H*H&&(u*=n=H/A.sqrt(n),f*=n,d*=n),Tt=a+u,Et=o+f,St=h+d,i.addPoint(Tt,Et,St,ut,ft,dt,At,!1),Et=it*_t+st*bt+rt*xt,St=it*wt+st*kt+rt*Pt,(At=ut*((Tt=(it=Tt=it*yt+st*vt+rt*gt)+l)-a)+ft*((Et=(st=Et)+c)-o)+dt*((St=(rt=St)+p)-h))<=0&&((n=(u=Tt-At*ut-a)*u+(f=Et-At*ft-o)*f+(d=St-At*dt-h)*d)>H*H&&(u*=n=H/A.sqrt(n),f*=n,d*=n),Tt=a+u,Et=o+f,St=h+d,i.addPoint(Tt,Et,St,ut,ft,dt,At,!1)),Et=it*_t+st*bt+rt*xt,St=it*wt+st*kt+rt*Pt,(At=ut*((Tt=(it=Tt=it*yt+st*vt+rt*gt)+l)-a)+ft*((Et=(st=Et)+c)-o)+dt*((St=(rt=St)+p)-h))<=0&&((n=(u=Tt-At*ut-a)*u+(f=Et-At*ft-o)*f+(d=St-At*dt-h)*d)>H*H&&(u*=n=H/A.sqrt(n),f*=n,d*=n),Tt=a+u,Et=o+f,St=h+d,i.addPoint(Tt,Et,St,ut,ft,dt,At,!1));else{if(m=u,m-=(x=ut*(m-a)+ft*((y=f)-o)+dt*((v=d)-h))*ut,y-=x*ft,v-=x*dt,k>0?(g=u+X*L*2,_=f+W*L*2,b=d+Y*L*2):(g=u-X*L*2,_=f-W*L*2,b=d-Y*L*2),(Nt=(Ct=(it=a-m)*(u=(g-=(w=ut*(g-a)+ft*(_-o)+dt*(b-h))*ut)-m)+(st=o-y)*(f=(_-=w*ft)-y)+(rt=h-v)*(d=(b-=w*dt)-v))*Ct-(Mt=u*u+f*f+d*d)*(it*it+st*st+rt*rt-H*H))<0)break;(T=(Ct-(Nt=A.sqrt(Nt)))/Mt)<(P=(Ct+Nt)/Mt)&&(n=P,P=T,T=n),T>1&&(T=1),P<0&&(P=0),u=m+(g-m)*P,f=y+(_-y)*P,d=v+(b-v)*P,g=m+(g-m)*T,_=y+(_-y)*T,b=v+(b-v)*T,m=u,y=f,v=d,n=x+(w-x)*P,w=x+(w-x)*T,(x=n)<0&&i.addPoint(m,y,v,ut,ft,dt,At,!1),w<0&&i.addPoint(g,_,b,ut,ft,dt,At,!1)}break;case 2:if(pt?(l=D-Q,c=z-tt,p=O-et,ut=-X,ft=-W,dt=-Y):(l=D+Q,c=z+tt,p=O+et,ut=X,ft=W,dt=Y),a=C+(n=(k=ut*G+ft*U+dt*q)<0?F:-F)*G,o=M+n*U,h=I+n*q,ht>=.999999?(u=-ft,f=dt,d=ut):(u=ut,f=ft,d=dt),it=(n=u*G+f*U+d*q)*G-u,st=n*U-f,rt=n*q-d,0==(n=A.sqrt(it*it+st*st+rt*rt)))break;if(u=a+(it*=n=H/n),f=o+(st*=n),d=h+(rt*=n),k<-.96||k>.96)yt=G*G*1.5-.5,vt=G*U*1.5-.866025403*q,gt=G*q*1.5+.866025403*U,_t=U*G*1.5+.866025403*q,bt=U*U*1.5-.5,xt=U*q*1.5-.866025403*G,wt=q*G*1.5-.866025403*U,kt=q*U*1.5+.866025403*G,Pt=q*q*1.5-.5,(n=(u=(Tt=u)-(At=ut*(Tt-l)+ft*((Et=f)-c)+dt*((St=d)-p))*ut-l)*u+(f=Et-At*ft-c)*f+(d=St-At*dt-p)*d)>$*$&&(u*=n=$/A.sqrt(n),f*=n,d*=n),Tt=l+u,Et=c+f,St=p+d,i.addPoint(Tt,Et,St,-ut,-ft,-dt,At,!1),Et=it*_t+st*bt+rt*xt,St=it*wt+st*kt+rt*Pt,(At=ut*((Tt=(it=Tt=it*yt+st*vt+rt*gt)+a)-l)+ft*((Et=(st=Et)+o)-c)+dt*((St=(rt=St)+h)-p))<=0&&((n=(u=Tt-At*ut-l)*u+(f=Et-At*ft-c)*f+(d=St-At*dt-p)*d)>$*$&&(u*=n=$/A.sqrt(n),f*=n,d*=n),Tt=l+u,Et=c+f,St=p+d,i.addPoint(Tt,Et,St,-ut,-ft,-dt,At,!1)),Et=it*_t+st*bt+rt*xt,St=it*wt+st*kt+rt*Pt,(At=ut*((Tt=(it=Tt=it*yt+st*vt+rt*gt)+a)-l)+ft*((Et=(st=Et)+o)-c)+dt*((St=(rt=St)+h)-p))<=0&&((n=(u=Tt-At*ut-l)*u+(f=Et-At*ft-c)*f+(d=St-At*dt-p)*d)>$*$&&(u*=n=$/A.sqrt(n),f*=n,d*=n),Tt=l+u,Et=c+f,St=p+d,i.addPoint(Tt,Et,St,-ut,-ft,-dt,At,!1));else{if(m=u,m-=(x=ut*(m-l)+ft*((y=f)-c)+dt*((v=d)-p))*ut,y-=x*ft,v-=x*dt,k>0?(g=u+G*F*2,_=f+U*F*2,b=d+q*F*2):(g=u-G*F*2,_=f-U*F*2,b=d-q*F*2),(Nt=(Ct=(it=l-m)*(u=(g-=(w=ut*(g-l)+ft*(_-c)+dt*(b-p))*ut)-m)+(st=c-y)*(f=(_-=w*ft)-y)+(rt=p-v)*(d=(b-=w*dt)-v))*Ct-(Mt=u*u+f*f+d*d)*(it*it+st*st+rt*rt-$*$))<0)break;(T=(Ct-(Nt=A.sqrt(Nt)))/Mt)<(P=(Ct+Nt)/Mt)&&(n=P,P=T,T=n),T>1&&(T=1),P<0&&(P=0),u=m+(g-m)*P,f=y+(_-y)*P,d=v+(b-v)*P,g=m+(g-m)*T,_=y+(_-y)*T,b=v+(b-v)*T,m=u,y=f,v=d,n=x+(w-x)*P,w=x+(w-x)*T,(x=n)<0&&i.addPoint(m,y,v,-ut,-ft,-dt,x,!1),w<0&&i.addPoint(g,_,b,-ut,-ft,-dt,w,!1)}}}}}),Ct.prototype=Object.assign(Object.create(Tt.prototype),{constructor:Ct,detectCollision:function(t,e,i){var s,r;this.flip?(s=e,r=t):(s=t,r=e);var n,a,o,h,l,c=r.dimentions,p=s.position,u=p.x,f=p.y,d=p.z,m=r.position,y=m.x,v=m.y,g=m.z,_=s.radius,b=r.halfWidth,x=r.halfHeight,w=r.halfDepth,k=u-y,P=f-v,T=d-g,E=c[0]*k+c[1]*P+c[2]*T,S=c[3]*k+c[4]*P+c[5]*T,C=c[6]*k+c[7]*P+c[8]*T,M=0;E>b?E=b:E<-b?E=-b:M=1,S>x?S=x:S<-x?S=-x:M|=2,C>w?C=w:C<-w?C=-w:M|=4,7==M?(k=E<0?b+E:b-E,P=S<0?x+S:x-S,T=C<0?w+C:w-C,k<P?k<T?(h=k-b,E<0?(E=-b,k=c[0],P=c[1],T=c[2]):(E=b,k=-c[0],P=-c[1],T=-c[2])):(h=T-w,C<0?(C=-w,k=c[6],P=c[7],T=c[8]):(C=w,k=-c[6],P=-c[7],T=-c[8])):P<T?(h=P-x,S<0?(S=-x,k=c[3],P=c[4],T=c[5]):(S=x,k=-c[3],P=-c[4],T=-c[5])):(h=T-w,C<0?(C=-w,k=c[6],P=c[7],T=c[8]):(C=w,k=-c[6],P=-c[7],T=-c[8])),n=y+E*c[0]+S*c[3]+C*c[6],a=v+E*c[1]+S*c[4]+C*c[7],o=g+E*c[2]+S*c[5]+C*c[8],i.addPoint(u+_*k,f+_*P,d+_*T,k,P,T,h-_,this.flip)):(n=y+E*c[0]+S*c[3]+C*c[6],a=v+E*c[1]+S*c[4]+C*c[7],o=g+E*c[2]+S*c[5]+C*c[8],(h=(k=n-p.x)*k+(P=a-p.y)*P+(T=o-p.z)*T)>0&&h<_*_&&(k*=l=1/(h=A.sqrt(h)),P*=l,T*=l,i.addPoint(u+_*k,f+_*P,d+_*T,k,P,T,h-_,this.flip)))}}),Mt.prototype=Object.assign(Object.create(Tt.prototype),{constructor:Mt,detectCollision:function(t,e,i){var s,r;this.flip?(s=e,r=t):(s=t,r=e);var n=s.position,a=n.x,o=n.y,h=n.z,l=r.position,c=l.x,p=l.y,u=l.z,f=r.normalDirection.x,d=r.normalDirection.y,m=r.normalDirection.z,y=s.radius,v=r.radius,g=y+v,_=r.halfHeight,b=a-c,x=o-p,w=h-u,k=b*f+x*d+w*m;if(!(k<-_-y||k>_+y)){var P,T=c+k*f,E=p+k*d,S=u+k*m,C=a-T,M=o-E,N=h-S,I=C*C+M*M+N*N;if(!(I>g*g))I>v*v&&(C*=I=v/A.sqrt(I),M*=I,N*=I),k<-_?k=-_:k>_&&(k=_),(I=(b=(T=c+k*f+C)-a)*b+(x=(E=p+k*d+M)-o)*x+(w=(S=u+k*m+N)-h)*w)>0&&I<y*y&&(b*=P=1/(I=A.sqrt(I)),x*=P,w*=P,i.addPoint(a+b*y,o+x*y,h+w*y,b,x,w,I-y,this.flip))}}}),Nt.prototype=Object.assign(Object.create(Tt.prototype),{constructor:Nt,detectCollision:function(t,e,i){var s=t,r=e,n=s.position,a=r.position,o=a.x-n.x,h=a.y-n.y,l=a.z-n.z,c=o*o+h*h+l*l,p=s.radius,u=p+r.radius;if(c>0&&c<u*u){var f=1/(c=A.sqrt(c));o*=f,h*=f,l*=f,i.addPoint(n.x+o*p,n.y+h*p,n.z+l*p,o,h,l,c-u,!1)}}}),It.prototype=Object.assign(Object.create(Tt.prototype),{constructor:It,detectCollision:function(t,e,i){var s,r=this.n,n=this.p,a=this.flip?e:t,o=this.flip?t:e,h=a.radius;r.sub(a.position,o.position),r.x*=o.normal.x,r.y*=o.normal.y,r.z*=o.normal.z,(s=r.lengthSq())>0&&s<h*h&&(s=A.sqrt(s),r.copy(o.normal).negate(),n.copy(a.position).addScaledVector(r,h),i.addPointVec(n,r,s-h,this.flip))}}),Dt.prototype=Object.assign(Object.create(Tt.prototype),{constructor:Dt,detectCollision:function(t,e,i){var s,r=this.n,n=this.p,a=this.cc,o=this.flip?e:t,h=this.flip?t:e,l=o.dimentions,c=o.halfWidth,p=o.halfHeight,u=o.halfDepth,f=0;this.dix.set(l[0],l[1],l[2]),this.diy.set(l[3],l[4],l[5]),this.diz.set(l[6],l[7],l[8]),r.sub(o.position,h.position),r.x*=h.normal.x,r.y*=h.normal.y,r.z*=h.normal.z,a.set(A.dotVectors(this.dix,r),A.dotVectors(this.diy,r),A.dotVectors(this.diz,r)),a.x>c?a.x=c:a.x<-c?a.x=-c:f=1,a.y>p?a.y=p:a.y<-p?a.y=-p:f|=2,a.z>u?a.z=u:a.z<-u?a.z=-u:f|=4,7===f&&(r.set(a.x<0?c+a.x:c-a.x,a.y<0?p+a.y:p-a.y,a.z<0?u+a.z:u-a.z),r.x<r.y?r.x<r.z?(s=r.x-c,a.x<0?(a.x=-c,r.copy(this.dix)):(a.x=c,r.subEqual(this.dix))):(s=r.z-u,a.z<0?(a.z=-u,r.copy(this.diz)):(a.z=u,r.subEqual(this.diz))):r.y<r.z?(s=r.y-p,a.y<0?(a.y=-p,r.copy(this.diy)):(a.y=p,r.subEqual(this.diy))):(s=r.z-u,a.z<0?(a.z=-u,r.copy(this.diz)):(a.z=u,r.subEqual(this.diz))),n.copy(h.position).addScaledVector(r,1),i.addPointVec(n,r,s,this.flip))}}),Object.assign(zt.prototype,{World:!0,play:function(){if(null===this.timer){var t=this;this.timer=setInterval(function(){t.step()},this.timerate)}},stop:function(){null!==this.timer&&(clearInterval(this.timer),this.timer=null)},setGravity:function(t){this.gravity.fromArray(t)},getInfo:function(){return this.isStat?this.performance.show():""},clear:function(){for(this.stop(),this.preLoop=null,this.postLoop=null,this.randX=65535;null!==this.joints;)this.removeJoint(this.joints);for(;null!==this.contacts;)this.removeContact(this.contacts);for(;null!==this.rigidBodies;)this.removeRigidBody(this.rigidBodies)},addRigidBody:function(t){t.parent&&C("World","It is not possible to be added to more than one world one of the rigid body"),t.setParent(this);for(var e=t.shapes;null!==e;e=e.next)this.addShape(e);null!==this.rigidBodies&&((this.rigidBodies.prev=t).next=this.rigidBodies),this.rigidBodies=t,this.numRigidBodies++},removeRigidBody:function(t){var e=t;if(e.parent===this){e.awake();for(var i=e.jointLink;null!=i;){var s=i.joint;i=i.next,this.removeJoint(s)}for(var r=t.shapes;null!==r;r=r.next)this.removeShape(r);var n=e.prev,a=e.next;null!==n&&(n.next=a),null!==a&&(a.prev=n),this.rigidBodies==e&&(this.rigidBodies=a),e.prev=null,e.next=null,e.parent=null,this.numRigidBodies--}},getByName:function(t){for(var e=this.rigidBodies;null!==e;){if(e.name===t)return e;e=e.next}for(var i=this.joints;null!==i;){if(i.name===t)return i;i=i.next}return null},addShape:function(t){t.parent&&t.parent.parent||C("World","It is not possible to be added alone to shape world"),t.proxy=this.broadPhase.createProxy(t),t.updateProxy(),this.broadPhase.addProxy(t.proxy)},removeShape:function(t){this.broadPhase.removeProxy(t.proxy),t.proxy=null},addJoint:function(t){t.parent&&C("World","It is not possible to be added to more than one world one of the joint"),null!=this.joints&&((this.joints.prev=t).next=this.joints),this.joints=t,t.setParent(this),this.numJoints++,t.awake(),t.attach()},removeJoint:function(t){var e=t,i=e.prev,s=e.next;null!==i&&(i.next=s),null!==s&&(s.prev=i),this.joints==e&&(this.joints=s),e.prev=null,e.next=null,this.numJoints--,e.awake(),e.detach(),e.parent=null},addContact:function(t,e){var i;null!==this.unusedContacts?(i=this.unusedContacts,this.unusedContacts=this.unusedContacts.next):i=new ct,i.attach(t,e),i.detector=this.detectors[t.type][e.type],this.contacts&&((this.contacts.prev=i).next=this.contacts),this.contacts=i,this.numContacts++},removeContact:function(t){var e=t.prev,i=t.next;i&&(i.prev=e),e&&(e.next=i),this.contacts==t&&(this.contacts=i),t.prev=null,t.next=null,t.detach(),t.next=this.unusedContacts,this.unusedContacts=t,this.numContacts--},getContact:function(t,e){var i,s;t=t.constructor===pt?t.name:t,e=e.constructor===pt?e.name:e;for(var r=this.contacts;null!==r;){if(i=r.body1.name,s=r.body2.name,i===t&&s===e||s===t&&i===e)return r.touching?r:null;r=r.next}return null},checkContact:function(t,e){for(var i,s,r=this.contacts;null!==r;){if(i=r.body1.name||" ",s=r.body2.name||" ",i==t&&s==e||s==t&&i==e)return!!r.touching;r=r.next}},callSleep:function(t){return!!t.allowSleep&&(!(t.linearVelocity.lengthSq()>.04)&&!(t.angularVelocity.lengthSq()>.25))},step:function(){var t=this.isStat;t&&this.performance.setTime(0);for(var e=this.rigidBodies;null!==e;)e.addedToIsland=!1,e.sleeping&&e.testWakeUp(),e=e.next;t&&this.performance.setTime(1),this.broadPhase.detectPairs();for(var i=this.broadPhase.pairs,s=this.broadPhase.numPairs;s--;){var r,n,a,o=i[s];o.shape1.id<o.shape2.id?(r=o.shape1,n=o.shape2):(r=o.shape2,n=o.shape1),a=r.numContacts<n.numContacts?r.contactLink:n.contactLink;for(var h=!1;a;){if((b=a.contact).shape1==r&&b.shape2==n){b.persisting=!0,h=!0;break}a=a.next}h||this.addContact(r,n)}for(t&&this.performance.calcBroadPhase(),this.numContactPoints=0,b=this.contacts;null!==b;)if(b.persisting||!b.shape1.aabb.intersectTest(b.shape2.aabb)){var l=b.body1,c=b.body2;(l.isDynamic&&!l.sleeping||c.isDynamic&&!c.sleeping)&&b.updateManifold(),this.numContactPoints+=b.manifold.numPoints,b.persisting=!1,b.constraint.addedToIsland=!1,b=b.next}else{var p=b.next;this.removeContact(b),b=p}t&&this.performance.calcNarrowPhase();var u,f,d=1/this.timeStep;for(u=this.joints;null!==u;u=u.next)u.addedToIsland=!1;this.islandRigidBodies=[],this.islandConstraints=[],this.islandStack=[],t&&this.performance.setTime(1),this.numIslands=0;for(var m=this.rigidBodies;null!==m;m=m.next)if(!(m.addedToIsland||m.isStatic||m.sleeping))if(m.isLonely())m.isDynamic&&m.linearVelocity.addScaledVector(this.gravity,this.timeStep),this.callSleep(m)?(m.sleepTime+=this.timeStep,m.sleepTime>.5?m.sleep():m.updatePosition(this.timeStep)):(m.sleepTime=0,m.updatePosition(this.timeStep)),this.numIslands++;else{var y=0,v=0,g=1;this.islandStack[0]=m,m.addedToIsland=!0;do{if(e=this.islandStack[--g],this.islandStack[g]=null,e.sleeping=!1,this.islandRigidBodies[y++]=e,!e.isStatic){for(var _=e.contactLink;null!==_;_=_.next){var b;if(!(f=(b=_.contact).constraint).addedToIsland&&b.touching)this.islandConstraints[v++]=f,f.addedToIsland=!0,(p=_.body).addedToIsland||(this.islandStack[g++]=p,p.addedToIsland=!0)}for(var x=e.jointLink;null!==x;x=x.next)(f=x.joint).addedToIsland||(this.islandConstraints[v++]=f,f.addedToIsland=!0,!(p=x.body).addedToIsland&&p.isDynamic&&(this.islandStack[g++]=p,p.addedToIsland=!0))}}while(0!=g);for(var w=(new N).addScaledVector(this.gravity,this.timeStep),k=y;k--;)(e=this.islandRigidBodies[k]).isDynamic&&e.linearVelocity.addEqual(w);if(this.enableRandomizer)for(k=v;k--;)if(0!==k){var P=(this.randX=this.randX*this.randA+this.randB&2147483647)/2147483648*k|0;f=this.islandConstraints[k],this.islandConstraints[k]=this.islandConstraints[P],this.islandConstraints[P]=f}for(k=v;k--;)this.islandConstraints[k].preSolve(this.timeStep,d);for(var T=this.numIterations;T--;)for(k=v;k--;)this.islandConstraints[k].solve();for(k=v;k--;)this.islandConstraints[k].postSolve(),this.islandConstraints[k]=null;var E=10;for(k=y;k--;)e=this.islandRigidBodies[k],this.callSleep(e)?(e.sleepTime+=this.timeStep,e.sleepTime<E&&(E=e.sleepTime)):(e.sleepTime=0,E=0);if(E>.5)for(k=y;k--;)this.islandRigidBodies[k].sleep(),this.islandRigidBodies[k]=null;else for(k=y;k--;)this.islandRigidBodies[k].updatePosition(this.timeStep),this.islandRigidBodies[k]=null;this.numIslands++}t&&this.performance.calcEnd(),null!==this.postLoop&&this.postLoop()},remove:function(t){},add:function(t){var e=(t=t||{}).type||"box";return e.constructor===String&&(e=[e]),"joint"===e[0].substring(0,5)?this.initJoint(e[0],t):this.initBody(e,t)},initBody:function(t,e){var i=this.invScale,s=e.move||!1,r=e.kinematic||!1,n=e.pos||[0,0,0];n=n.map(function(t){return t*i});var a=e.posShape||[0,0,0];a=a.map(function(t){return t*i});var o=e.rot||[0,0,0];o=o.map(function(t){return t*A.degtorad});var h=e.rotShape;h=o.map(function(t){return t*A.degtorad});var l=void 0===e.size?[1,1,1]:e.size;1===l.length&&(l[1]=l[0]),2===l.length&&(l[2]=l[0]),l=l.map(function(t){return t*i});var c=new H;void 0!==e.density&&(c.density=e.density),void 0!==e.friction&&(c.friction=e.friction),void 0!==e.restitution&&(c.restitution=e.restitution),void 0!==e.belongsTo&&(c.belongsTo=e.belongsTo),void 0!==e.collidesWith&&(c.collidesWith=e.collidesWith),void 0!==e.config&&(void 0!==e.config[0]&&(c.density=e.config[0]),void 0!==e.config[1]&&(c.friction=e.config[1]),void 0!==e.config[2]&&(c.restitution=e.config[2]),void 0!==e.config[3]&&(c.belongsTo=e.config[3]),void 0!==e.config[4]&&(c.collidesWith=e.config[4]));for(var p,u,f=new pt(new N(n[0],n[1],n[2]),(new I).setFromEuler(o[0],o[1],o[2])),m=0;m<t.length;m++){switch(void 0!==a[u=3*m]&&c.relativePosition.set(a[u],a[u+1],a[u+2]),void 0!==h[u]&&c.relativeRotation.setQuat((new I).setFromEuler(h[u],h[u+1],h[u+2])),t[m]){case"sphere":p=new V(c,l[u]);break;case"cylinder":p=new R(c,l[u],l[u+1]);break;case"box":p=new L(c,l[u],l[u+1],l[u+2]);break;case"plane":p=new j(c)}f.addShape(p)}return e.neverSleep||r?f.allowSleep=!1:f.allowSleep=!0,f.isKinematic=r,s?e.massPos||e.massRot?f.setupMass(d,!1):f.setupMass(d,!0):f.setupMass(2),void 0!==e.name&&(f.name=e.name),this.addRigidBody(f),s&&(e.sleep?f.sleep():f.awake()),f},initJoint:function(t,e){var i,s,r=this.invScale,n=e.axe1||[1,0,0],a=e.axe2||[1,0,0],o=e.pos1||[0,0,0],h=e.pos2||[0,0,0];o=o.map(function(t){return t*r}),h=h.map(function(t){return t*r}),"jointDistance"===t?(i=e.min||0,s=e.max||10,i*=r,s*=r):(i=e.min||57.29578,s=e.max||0,i*=A.degtorad,s*=A.degtorad);var l=e.limit||null,c=e.spring||null,p=e.motor||null,u=new function(){this.scale=1,this.invScale=1,this.body1=null,this.body2=null,this.localAnchorPoint1=new N,this.localAnchorPoint2=new N,this.localAxis1=new N,this.localAxis2=new N,this.allowCollision=!1};u.scale=this.scale,u.invScale=this.invScale,u.allowCollision=e.collision||!1,u.localAxis1.set(n[0],n[1],n[2]),u.localAxis2.set(a[0],a[1],a[2]),u.localAnchorPoint1.set(o[0],o[1],o[2]),u.localAnchorPoint2.set(h[0],h[1],h[2]);var f,d=null,m=null;if(void 0===e.body1||void 0===e.body2)return C("World","Can't add joint if attach rigidbodys not define !");if(e.body1.constructor===String?d=this.getByName(e.body1):e.body1.constructor===Number?d=this.getByName(e.body1):e.body1.constructor===pt&&(d=e.body1),e.body2.constructor===String?m=this.getByName(e.body2):e.body2.constructor===Number?m=this.getByName(e.body2):e.body2.constructor===pt&&(m=e.body2),null===d||null===m)return C("World","Can't add joint attach rigidbodys not find !");switch(u.body1=d,u.body2=m,t){case"jointDistance":f=new K(u,i,s),null!==c&&f.limitMotor.setSpring(c[0],c[1]),null!==p&&f.limitMotor.setMotor(p[0],p[1]);break;case"jointHinge":case"joint":f=new Y(u,i,s),null!==c&&f.limitMotor.setSpring(c[0],c[1]),null!==p&&f.limitMotor.setMotor(p[0],p[1]);break;case"jointPrisme":f=new et(u,i,s);break;case"jointSlide":f=new it(u,i,s);break;case"jointBall":f=new Z(u);break;case"jointWheel":f=new st(u),null!==l&&f.rotationalLimitMotor1.setLimit(l[0],l[1]),null!==c&&f.rotationalLimitMotor1.setSpring(c[0],c[1]),null!==p&&f.rotationalLimitMotor1.setMotor(p[0],p[1])}return f.name=e.name||"",this.addJoint(f),f}})},UuGF:function(t,e){var i=Math.ceil,s=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?s:i)(t)}},V3tA:function(t,e,i){i("R4wc"),t.exports=i("FeBl").Object.assign},"VU/8":function(t,e){t.exports=function(t,e,i,s,r,n){var a,o=t=t||{},h=typeof t.default;"object"!==h&&"function"!==h||(a=t,o=t.default);var l,c="function"==typeof o?o.options:o;if(e&&(c.render=e.render,c.staticRenderFns=e.staticRenderFns,c._compiled=!0),i&&(c.functional=!0),r&&(c._scopeId=r),n?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),s&&s.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(n)},c._ssrRegister=l):s&&(l=s),l){var p=c.functional,u=p?c.render:c.beforeCreate;p?(c._injectStyles=l,c.render=function(t,e){return l.call(e),u(t,e)}):c.beforeCreate=u?[].concat(u,l):[l]}return{esModule:a,exports:o,options:c}}},W2nU:function(t,e){var i,s,r=t.exports={};function n(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function o(t){if(i===setTimeout)return setTimeout(t,0);if((i===n||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:n}catch(t){i=n}try{s="function"==typeof clearTimeout?clearTimeout:a}catch(t){s=a}}();var h,l=[],c=!1,p=-1;function u(){c&&h&&(c=!1,h.length?l=h.concat(l):p=-1,l.length&&f())}function f(){if(!c){var t=o(u);c=!0;for(var e=l.length;e;){for(h=l,l=[];++p<e;)h&&h[p].run();p=-1,e=l.length}h=null,c=!1,function(t){if(s===clearTimeout)return clearTimeout(t);if((s===a||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(t);try{s(t)}catch(e){try{return s.call(null,t)}catch(e){return s.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function m(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];l.push(new d(t,e)),1!==l.length||c||o(f)},d.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},X8DO:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},XmWM:function(t,e,i){"use strict";var s=i("KCLY"),r=i("cGG2"),n=i("fuGk"),a=i("xLtR");function o(t){this.defaults=t,this.interceptors={request:new n,response:new n}}o.prototype.request=function(t){"string"==typeof t&&(t=r.merge({url:arguments[0]},arguments[1])),(t=r.merge(s,{method:"get"},this.defaults,t)).method=t.method.toLowerCase();var e=[a,void 0],i=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)i=i.then(e.shift(),e.shift());return i},r.forEach(["delete","get","head","options"],function(t){o.prototype[t]=function(e,i){return this.request(r.merge(i||{},{method:t,url:e}))}}),r.forEach(["post","put","patch"],function(t){o.prototype[t]=function(e,i,s){return this.request(r.merge(s||{},{method:t,url:e,data:i}))}}),t.exports=o},Y5mS:function(t,e,i){"use strict";var s,r=i("lFkc");r.canUseDOM&&(s=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("",""))
/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */,t.exports=function(t,e){if(!r.canUseDOM||e&&!("addEventListener"in document))return!1;var i="on"+t,n=i in document;if(!n){var a=document.createElement("div");a.setAttribute(i,"return;"),n="function"==typeof a[i]}return!n&&s&&"wheel"===t&&(n=document.implementation.hasFeature("Events.wheel","3.0")),n}},YAhB:function(t,e,i){"use strict";var s=i("++K3"),r=i("Y5mS"),n=10,a=40,o=800;function h(t){var e=0,i=0,s=0,r=0;return"detail"in t&&(i=t.detail),"wheelDelta"in t&&(i=-t.wheelDelta/120),"wheelDeltaY"in t&&(i=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=i,i=0),s=e*n,r=i*n,"deltaY"in t&&(r=t.deltaY),"deltaX"in t&&(s=t.deltaX),(s||r)&&t.deltaMode&&(1==t.deltaMode?(s*=a,r*=a):(s*=o,r*=o)),s&&!e&&(e=s<1?-1:1),r&&!i&&(i=r<1?-1:1),{spinX:e,spinY:i,pixelX:s,pixelY:r}}h.getEventType=function(){return s.firefox()?"DOMMouseScroll":r("wheel")?"wheel":"mousewheel"},t.exports=h},Yobk:function(t,e,i){var s=i("77Pl"),r=i("qio6"),n=i("xnc9"),a=i("ax3d")("IE_PROTO"),o=function(){},h=function(){var t,e=i("ON07")("iframe"),s=n.length;for(e.style.display="none",i("RPLV").appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),h=t.F;s--;)delete h.prototype[n[s]];return h()};t.exports=Object.create||function(t,e){var i;return null!==t?(o.prototype=s(t),i=new o,o.prototype=null,i[a]=t):i=h(),void 0===e?i:r(i,e)}},Zrlr:function(t,e,i){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},ax3d:function(t,e,i){var s=i("e8AB")("keys"),r=i("3Eo+");t.exports=function(t){return s[t]||(s[t]=r(t))}},b3Qd:function(t,e,i){var s=i("Ra0v"),r=function(t){this.manager=void 0!==t?t:s.DefaultLoadingManager};r.prototype={constructor:s.ColladaLoader,crossOrigin:"Anonymous",load:function(t,e,i,r){var n=this,a=void 0===n.path?s.LoaderUtils.extractUrlBase(t):n.path;new s.FileLoader(n.manager).load(t,function(t){e(n.parse(t,a))},i,r)},setPath:function(t){this.path=t},options:{set convertUpAxis(t){console.warn("THREE.ColladaLoader: options.convertUpAxis() has been removed. Up axis is converted automatically.")}},setCrossOrigin:function(t){this.crossOrigin=t},parse:function(t,e){function i(t,e){for(var i=[],s=t.childNodes,r=0,n=s.length;r<n;r++){var a=s[r];a.nodeName===e&&i.push(a)}return i}function r(t){if(0===t.length)return[];for(var e=t.trim().split(/\s+/),i=new Array(e.length),s=0,r=e.length;s<r;s++)i[s]=e[s];return i}function n(t){if(0===t.length)return[];for(var e=t.trim().split(/\s+/),i=new Array(e.length),s=0,r=e.length;s<r;s++)i[s]=parseFloat(e[s]);return i}function a(t){if(0===t.length)return[];for(var e=t.trim().split(/\s+/),i=new Array(e.length),s=0,r=e.length;s<r;s++)i[s]=parseInt(e[s]);return i}function o(t){return t.substring(1)}function h(t){return 0===Object.keys(t).length}function l(t,e,s,r){var n=i(t,e)[0];if(void 0!==n)for(var a=i(n,s),o=0;o<a.length;o++)r(a[o])}function c(t,e){for(var i in t){t[i].build=e(t[i])}}function p(t,e){return void 0!==t.build?t.build:(t.build=e(t),t.build)}function u(t){for(var e={inputs:{}},i=0,s=t.childNodes.length;i<s;i++){var r=t.childNodes[i];if(1===r.nodeType)switch(r.nodeName){case"input":var n=o(r.getAttribute("source")),a=r.getAttribute("semantic");e.inputs[a]=n}}return e}function f(t){var e={},i=t.getAttribute("target").split("/"),s=i.shift(),r=i.shift(),n=-1!==r.indexOf("("),a=-1!==r.indexOf(".");if(a)r=(i=r.split(".")).shift(),e.member=i.shift();else if(n){var h=r.split("(");r=h.shift();for(var l=0;l<h.length;l++)h[l]=parseInt(h[l].replace(/\)/,""));e.indices=h}return e.id=s,e.sid=r,e.arraySyntax=n,e.memberSyntax=a,e.sampler=o(t.getAttribute("source")),e}function d(t){var e=[],i=t.channels,s=t.samplers,r=t.sources;for(var n in i)if(i.hasOwnProperty(n)){var a=i[n],o=s[a.sampler],h=o.inputs.INPUT,l=o.inputs.OUTPUT;b(y(a,r[h],r[l]),e)}return e}function m(t){return p(Ft.animations[t],d)}function y(t,e,i){var s,r,n,a,o,h,l=Ft.nodes[t.id],c=Tt(l.id),p=l.transforms[t.sid],u=l.matrix.clone().transpose(),f={};switch(p){case"matrix":for(n=0,a=e.array.length;n<a;n++)if(s=e.array[n],r=n*i.stride,void 0===f[s]&&(f[s]={}),!0===t.arraySyntax){var d=i.array[r],m=t.indices[0]+4*t.indices[1];f[s][m]=d}else for(o=0,h=i.stride;o<h;o++)f[s][o]=i.array[r+o];break;case"translate":case"rotate":case"scale":console.warn('THREE.ColladaLoader: Animation transform type "%s" not yet implemented.',p)}var y=function(t,e){var i=[];for(var s in t)i.push({time:parseFloat(s),value:t[s]});i.sort(function(t,e){return t.time-e.time});for(var r=0;r<16;r++)x(i,r,e.elements[r]);return i}(f,u);return{name:c.uuid,keyframes:y}}var v=new s.Vector3,g=new s.Vector3,_=new s.Quaternion;function b(t,e){for(var i=t.keyframes,r=t.name,n=[],a=[],o=[],h=[],l=0,c=i.length;l<c;l++){var p=i[l],u=p.time,f=p.value;yt.fromArray(f).transpose(),yt.decompose(v,_,g),n.push(u),a.push(v.x,v.y,v.z),o.push(_.x,_.y,_.z,_.w),h.push(g.x,g.y,g.z)}return a.length>0&&e.push(new s.VectorKeyframeTrack(r+".position",n,a)),o.length>0&&e.push(new s.QuaternionKeyframeTrack(r+".quaternion",n,o)),h.length>0&&e.push(new s.VectorKeyframeTrack(r+".scale",n,h)),e}function x(t,e,i){var s,r,n,a=!0;for(r=0,n=t.length;r<n;r++)void 0===(s=t[r]).value[e]?s.value[e]=null:a=!1;if(!0===a)for(r=0,n=t.length;r<n;r++)(s=t[r]).value[e]=i;else!function(t,e){for(var i,s,r=0,n=t.length;r<n;r++){var a=t[r];if(null===a.value[e]){if(i=w(t,r,e),s=k(t,r,e),null===i){a.value[e]=s.value[e];continue}if(null===s){a.value[e]=i.value[e];continue}P(a,i,s,e)}}}(t,e)}function w(t,e,i){for(;e>=0;){var s=t[e];if(null!==s.value[i])return s;e--}return null}function k(t,e,i){for(;e<t.length;){var s=t[e];if(null!==s.value[i])return s;e++}return null}function P(t,e,i,s){i.time-e.time!=0?t.value[s]=(t.time-e.time)*(i.value[s]-e.value[s])/(i.time-e.time)+e.value[s]:t.value[s]=e.value[s]}function T(t){for(var e=[],i=t.name,r=t.end-t.start||-1,n=t.animations,a=0,o=n.length;a<o;a++)for(var h=m(n[a]),l=0,c=h.length;l<c;l++)e.push(h[l]);return new s.AnimationClip(i,r,e)}function E(t){return p(Ft.clips[t],T)}function S(t){for(var e={sources:{}},i=0,s=t.childNodes.length;i<s;i++){var r=t.childNodes[i];if(1===r.nodeType)switch(r.nodeName){case"bind_shape_matrix":e.bindShapeMatrix=n(r.textContent);break;case"source":var a=r.getAttribute("id");e.sources[a]=tt(r);break;case"joints":e.joints=A(r);break;case"vertex_weights":e.vertexWeights=C(r)}}return e}function A(t){for(var e={inputs:{}},i=0,s=t.childNodes.length;i<s;i++){var r=t.childNodes[i];if(1===r.nodeType)switch(r.nodeName){case"input":var n=r.getAttribute("semantic"),a=o(r.getAttribute("source"));e.inputs[n]=a}}return e}function C(t){for(var e={inputs:{}},i=0,s=t.childNodes.length;i<s;i++){var r=t.childNodes[i];if(1===r.nodeType)switch(r.nodeName){case"input":var n=r.getAttribute("semantic"),h=o(r.getAttribute("source")),l=parseInt(r.getAttribute("offset"));e.inputs[n]={id:h,offset:l};break;case"vcount":e.vcount=a(r.textContent);break;case"v":e.v=a(r.textContent)}}return e}function M(t){var e={id:t.id},i=Ft.geometries[e.id];return void 0!==t.skin&&(e.skin=function(t){var e,i,r,n={joints:[],indices:{array:[],stride:4},weights:{array:[],stride:4}},a=t.sources,o=t.vertexWeights,h=o.vcount,l=o.v,c=o.inputs.JOINT.offset,p=o.inputs.WEIGHT.offset,u=t.sources[t.joints.inputs.JOINT],f=t.sources[t.joints.inputs.INV_BIND_MATRIX],d=a[o.inputs.WEIGHT.id].array,m=0;for(e=0,r=h.length;e<r;e++){var y=h[e],v=[];for(i=0;i<y;i++){var g=l[m+c],_=l[m+p],b=d[_];v.push({index:g,weight:b}),m+=2}for(v.sort(P),i=0;i<4;i++){var x=v[i];void 0!==x?(n.indices.array.push(x.index),n.weights.array.push(x.weight)):(n.indices.array.push(0),n.weights.array.push(0))}}for(n.bindMatrix=(new s.Matrix4).fromArray(t.bindShapeMatrix).transpose(),e=0,r=u.array.length;e<r;e++){var w=u.array[e],k=(new s.Matrix4).fromArray(f.array,e*f.stride).transpose();n.joints.push({name:w,boneInverse:k})}return n;function P(t,e){return e.weight-t.weight}}(t.skin),i.sources.skinIndices=e.skin.indices,i.sources.skinWeights=e.skin.weights),e}function N(t){return void 0!==t.build?t.build:t.init_from}function I(t){for(var e={surfaces:{},samplers:{}},i=0,s=t.childNodes.length;i<s;i++){var r=t.childNodes[i];if(1===r.nodeType)switch(r.nodeName){case"newparam":D(r,e);break;case"technique":e.technique=F(r)}}return e}function D(t,e){for(var i=t.getAttribute("sid"),s=0,r=t.childNodes.length;s<r;s++){var n=t.childNodes[s];if(1===n.nodeType)switch(n.nodeName){case"surface":e.surfaces[i]=z(n);break;case"sampler2D":e.samplers[i]=O(n)}}}function z(t){for(var e={},i=0,s=t.childNodes.length;i<s;i++){var r=t.childNodes[i];if(1===r.nodeType)switch(r.nodeName){case"init_from":e.init_from=r.textContent}}return e}function O(t){for(var e={},i=0,s=t.childNodes.length;i<s;i++){var r=t.childNodes[i];if(1===r.nodeType)switch(r.nodeName){case"source":e.source=r.textContent}}return e}function F(t){for(var e={},i=0,s=t.childNodes.length;i<s;i++){var r=t.childNodes[i];if(1===r.nodeType)switch(r.nodeName){case"constant":case"lambert":case"blinn":case"phong":e.type=r.nodeName,e.parameters=L(r)}}return e}function L(t){for(var e={},i=0,s=t.childNodes.length;i<s;i++){var r=t.childNodes[i];if(1===r.nodeType)switch(r.nodeName){case"emission":case"diffuse":case"specular":case"shininess":case"transparent":case"transparency":e[r.nodeName]=V(r)}}return e}function V(t){for(var e={},i=0,s=t.childNodes.length;i<s;i++){var r=t.childNodes[i];if(1===r.nodeType)switch(r.nodeName){case"color":e[r.nodeName]=n(r.textContent);break;case"float":e[r.nodeName]=parseFloat(r.textContent);break;case"texture":e[r.nodeName]={id:r.getAttribute("texture"),extra:R(r)}}}return e}function R(t){for(var e={technique:{}},i=0,s=t.childNodes.length;i<s;i++){var r=t.childNodes[i];if(1===r.nodeType)switch(r.nodeName){case"extra":j(r,e)}}return e}function j(t,e){for(var i=0,s=t.childNodes.length;i<s;i++){var r=t.childNodes[i];if(1===r.nodeType)switch(r.nodeName){case"technique":B(r,e)}}}function B(t,e){for(var i=0,s=t.childNodes.length;i<s;i++){var r=t.childNodes[i];if(1===r.nodeType)switch(r.nodeName){case"repeatU":case"repeatV":case"offsetU":case"offsetV":e.technique[r.nodeName]=parseFloat(r.textContent);break;case"wrapU":case"wrapV":"TRUE"===r.textContent.toUpperCase()?e.technique[r.nodeName]=1:"FALSE"===r.textContent.toUpperCase()?e.technique[r.nodeName]=0:e.technique[r.nodeName]=parseInt(r.textContent)}}}function H(t){return t}function $(t){var e,i,r=(e=t.url,p(Ft.effects[e],H)),n=r.profile.technique;switch(n.type){case"phong":case"blinn":i=new s.MeshPhongMaterial;break;case"lambert":i=new s.MeshLambertMaterial;break;default:i=new s.MeshBasicMaterial}function a(t){var e,i=r.profile.samplers[t.id];if(void 0!==i){var n=r.profile.surfaces[i.source],a=It.load((e=n.init_from,p(Ft.images[e],N))),o=t.extra;if(void 0!==o&&void 0!==o.technique&&!1===h(o.technique)){var l=o.technique;a.wrapS=l.wrapU?s.RepeatWrapping:s.ClampToEdgeWrapping,a.wrapT=l.wrapV?s.RepeatWrapping:s.ClampToEdgeWrapping,a.offset.set(l.offsetU||0,l.offsetV||0),a.repeat.set(l.repeatU||1,l.repeatV||1)}else a.wrapS=s.RepeatWrapping,a.wrapT=s.RepeatWrapping;return a}return console.error("THREE.ColladaLoader: Undefined sampler",t.id),null}i.name=t.name;var o=n.parameters;for(var l in o){var c=o[l];switch(l){case"diffuse":c.color&&i.color.fromArray(c.color),c.texture&&(i.map=a(c.texture));break;case"specular":c.color&&i.specular&&i.specular.fromArray(c.color),c.texture&&(i.specularMap=a(c.texture));break;case"shininess":c.float&&i.shininess&&(i.shininess=c.float);break;case"emission":c.color&&i.emissive&&i.emissive.fromArray(c.color);break;case"transparent":i.transparent=!0;break;case"transparency":void 0!==c.float&&(i.opacity=c.float),i.transparent=!0}}return i}function G(t){return p(Ft.materials[t],$)}function U(t){for(var e=0;e<t.childNodes.length;e++){var i=t.childNodes[e];switch(i.nodeName){case"technique_common":return q(i)}}return{}}function q(t){for(var e={},i=0;i<t.childNodes.length;i++){var s=t.childNodes[i];switch(s.nodeName){case"perspective":case"orthographic":e.technique=s.nodeName,e.parameters=X(s)}}return e}function X(t){for(var e={},i=0;i<t.childNodes.length;i++){var s=t.childNodes[i];switch(s.nodeName){case"xfov":case"yfov":case"xmag":case"ymag":case"znear":case"zfar":case"aspect_ratio":e[s.nodeName]=parseFloat(s.textContent)}}return e}function W(t){var e;switch(t.optics.technique){case"perspective":e=new s.PerspectiveCamera(t.optics.parameters.yfov,t.optics.parameters.aspect_ratio,t.optics.parameters.znear,t.optics.parameters.zfar);break;case"orthographic":var i=t.optics.parameters.ymag,r=t.optics.parameters.xmag,n=t.optics.parameters.aspect_ratio;r=void 0===r?i*n:r,i=void 0===i?r/n:i,r*=.5,i*=.5,e=new s.OrthographicCamera(-r,r,i,-i,t.optics.parameters.znear,t.optics.parameters.zfar);break;default:e=new s.PerspectiveCamera}return e.name=t.name,e}function Y(t){var e=Ft.cameras[t];return void 0!==e?p(e,W):(console.warn("THREE.ColladaLoader: Couldn't find camera with ID:",t),null)}function Z(t){for(var e={},i=0,s=t.childNodes.length;i<s;i++){var r=t.childNodes[i];if(1===r.nodeType)switch(r.nodeName){case"directional":case"point":case"spot":case"ambient":e.technique=r.nodeName,e.parameters=J(r)}}return e}function J(t){for(var e={},i=0,r=t.childNodes.length;i<r;i++){var a=t.childNodes[i];if(1===a.nodeType)switch(a.nodeName){case"color":var o=n(a.textContent);e.color=(new s.Color).fromArray(o);break;case"falloff_angle":e.falloffAngle=parseFloat(a.textContent);break;case"quadratic_attenuation":var h=parseFloat(a.textContent);e.distance=h?Math.sqrt(1/h):0}}return e}function K(t){var e;switch(t.technique){case"directional":e=new s.DirectionalLight;break;case"point":e=new s.PointLight;break;case"spot":e=new s.SpotLight;break;case"ambient":e=new s.AmbientLight}return t.parameters.color&&e.color.copy(t.parameters.color),t.parameters.distance&&(e.distance=t.parameters.distance),e}function Q(t){var e=Ft.lights[t];return void 0!==e?p(e,K):(console.warn("THREE.ColladaLoader: Couldn't find light with ID:",t),null)}function tt(t){for(var e={array:[],stride:3},s=0;s<t.childNodes.length;s++){var a=t.childNodes[s];if(1===a.nodeType)switch(a.nodeName){case"float_array":e.array=n(a.textContent);break;case"Name_array":e.array=r(a.textContent);break;case"technique_common":var o=i(a,"accessor")[0];void 0!==o&&(e.stride=parseInt(o.getAttribute("stride")))}}return e}function et(t){for(var e={},i=0;i<t.childNodes.length;i++){var s=t.childNodes[i];1===s.nodeType&&(e[s.getAttribute("semantic")]=o(s.getAttribute("source")))}return e}function it(t){for(var e={type:t.nodeName,material:t.getAttribute("material"),count:parseInt(t.getAttribute("count")),inputs:{},stride:0},i=0,s=t.childNodes.length;i<s;i++){var r=t.childNodes[i];if(1===r.nodeType)switch(r.nodeName){case"input":var n=o(r.getAttribute("source")),h=r.getAttribute("semantic"),l=parseInt(r.getAttribute("offset"));e.inputs[h]={id:n,offset:l},e.stride=Math.max(e.stride,l+1);break;case"vcount":e.vcount=a(r.textContent);break;case"p":e.p=a(r.textContent)}}return e}function st(t){var e={},i=t.sources,s=t.vertices,r=t.primitives;if(0===r.length)return{};var n=function(t){for(var e={},i=0;i<t.length;i++){var s=t[i];void 0===e[s.type]&&(e[s.type]=[]),e[s.type].push(s)}return e}(r);for(var a in n)e[a]=rt(n[a],i,s);return e}function rt(t,e,i){for(var r={},n={array:[],stride:0},a={array:[],stride:0},o={array:[],stride:0},h={array:[],stride:0},l=[],c=4,p=[],u=4,f=new s.BufferGeometry,d=[],m=0,y=0,v=0;v<t.length;v++){var g=t[v],_=g.inputs,b=1;for(var x in g.vcount&&4===g.vcount[0]&&(b=2),y="lines"===g.type||"linestrips"===g.type?2*g.count:3*g.count*b,f.addGroup(m,y,v),m+=y,g.material&&d.push(g.material),_){var w=_[x];switch(x){case"VERTEX":for(var k in i){var P=i[k];switch(k){case"POSITION":nt(g,e[P],w.offset,n.array),n.stride=e[P].stride,e.skinWeights&&e.skinIndices&&(nt(g,e.skinIndices,w.offset,l),nt(g,e.skinWeights,w.offset,p));break;case"NORMAL":nt(g,e[P],w.offset,a.array),a.stride=e[P].stride;break;case"COLOR":nt(g,e[P],w.offset,h.array),h.stride=e[P].stride;break;case"TEXCOORD":nt(g,e[P],w.offset,o.array),o.stride=e[P].stride;break;default:console.warn('THREE.ColladaLoader: Semantic "%s" not handled in geometry build process.',k)}}break;case"NORMAL":nt(g,e[w.id],w.offset,a.array),a.stride=e[w.id].stride;break;case"COLOR":nt(g,e[w.id],w.offset,h.array),h.stride=e[w.id].stride;break;case"TEXCOORD":nt(g,e[w.id],w.offset,o.array),o.stride=e[w.id].stride}}}return n.array.length>0&&f.addAttribute("position",new s.Float32BufferAttribute(n.array,n.stride)),a.array.length>0&&f.addAttribute("normal",new s.Float32BufferAttribute(a.array,a.stride)),h.array.length>0&&f.addAttribute("color",new s.Float32BufferAttribute(h.array,h.stride)),o.array.length>0&&f.addAttribute("uv",new s.Float32BufferAttribute(o.array,o.stride)),l.length>0&&f.addAttribute("skinIndex",new s.Float32BufferAttribute(l,c)),p.length>0&&f.addAttribute("skinWeight",new s.Float32BufferAttribute(p,u)),r.data=f,r.type=t[0].type,r.materialKeys=d,r}function nt(t,e,i,s){var r=t.p,n=t.stride,a=t.vcount;function o(t){for(var e=r[t+i]*c,n=e+c;e<n;e++)s.push(l[e])}var h=0,l=e.array,c=e.stride;if(void 0!==t.vcount){for(var p=0,u=0,f=a.length;u<f;u++){var d=a[u];if(4===d){var m=p+1*n,y=p+2*n,v=p+3*n;o(p+0*n),o(m),o(v),o(m),o(y),o(v)}else if(3===d){m=p+1*n,y=p+2*n;o(p+0*n),o(m),o(y)}else h=Math.max(h,d);p+=n*d}h>0&&console.log("THREE.ColladaLoader: Geometry has faces with more than 4 vertices.")}else for(u=0,f=r.length;u<f;u+=n)o(u)}function at(t){return p(Ft.geometries[t],st)}function ot(t){return void 0!==t.build?t.build:t}function ht(t,e){for(var i=0;i<t.childNodes.length;i++){var s=t.childNodes[i];if(1===s.nodeType)switch(s.nodeName){case"joint":e.joints[s.getAttribute("sid")]=lt(s);break;case"link":e.links.push(pt(s))}}}function lt(t){for(var e,i=0;i<t.childNodes.length;i++){var s=t.childNodes[i];if(1===s.nodeType)switch(s.nodeName){case"prismatic":case"revolute":e=ct(s)}}return e}function ct(t,e){e={sid:t.getAttribute("sid"),name:t.getAttribute("name")||"",axis:new s.Vector3,limits:{min:0,max:0},type:t.nodeName,static:!1,zeroPosition:0,middlePosition:0};for(var i=0;i<t.childNodes.length;i++){var r=t.childNodes[i];if(1===r.nodeType)switch(r.nodeName){case"axis":var a=n(r.textContent);e.axis.fromArray(a);break;case"limits":var o=r.getElementsByTagName("max")[0],h=r.getElementsByTagName("min")[0];e.limits.max=parseFloat(o.textContent),e.limits.min=parseFloat(h.textContent)}}return e.limits.min>=e.limits.max&&(e.static=!0),e.middlePosition=(e.limits.min+e.limits.max)/2,e}function pt(t){for(var e={sid:t.getAttribute("sid"),name:t.getAttribute("name")||"",attachments:[],transforms:[]},i=0;i<t.childNodes.length;i++){var s=t.childNodes[i];if(1===s.nodeType)switch(s.nodeName){case"attachment_full":e.attachments.push(ut(s));break;case"matrix":case"translate":case"rotate":e.transforms.push(ft(s))}}return e}function ut(t){for(var e={joint:t.getAttribute("joint").split("/").pop(),transforms:[],links:[]},i=0;i<t.childNodes.length;i++){var s=t.childNodes[i];if(1===s.nodeType)switch(s.nodeName){case"link":e.links.push(pt(s));break;case"matrix":case"translate":case"rotate":e.transforms.push(ft(s))}}return e}function ft(t){var e={type:t.nodeName},i=n(t.textContent);switch(e.type){case"matrix":e.obj=new s.Matrix4,e.obj.fromArray(i).transpose();break;case"translate":e.obj=new s.Vector3,e.obj.fromArray(i);break;case"rotate":e.obj=new s.Vector3,e.obj.fromArray(i),e.angle=s.Math.degToRad(i[3])}return e}function dt(t){for(var e={target:t.getAttribute("target").split("/").pop()},i=0;i<t.childNodes.length;i++){var s=t.childNodes[i];if(1===s.nodeType)switch(s.nodeName){case"axis":var r=s.getElementsByTagName("param")[0];e.axis=r.textContent;var n=e.axis.split("inst_").pop().split("axis")[0];e.jointIndex=n.substr(0,n.length-1)}}return e}function mt(t){return void 0!==t.build?t.build:t}var yt=new s.Matrix4,vt=new s.Vector3;function gt(t){for(var e={name:t.getAttribute("name")||"",type:t.getAttribute("type"),id:t.getAttribute("id"),sid:t.getAttribute("sid"),matrix:new s.Matrix4,nodes:[],instanceCameras:[],instanceControllers:[],instanceLights:[],instanceGeometries:[],instanceNodes:[],transforms:{}},i=0;i<t.childNodes.length;i++){var r=t.childNodes[i];if(1===r.nodeType)switch(r.nodeName){case"node":e.nodes.push(r.getAttribute("id")),gt(r);break;case"instance_camera":e.instanceCameras.push(o(r.getAttribute("url")));break;case"instance_controller":e.instanceControllers.push(_t(r));break;case"instance_light":e.instanceLights.push(o(r.getAttribute("url")));break;case"instance_geometry":e.instanceGeometries.push(_t(r));break;case"instance_node":e.instanceNodes.push(o(r.getAttribute("url")));break;case"matrix":var a=n(r.textContent);e.matrix.multiply(yt.fromArray(a).transpose()),e.transforms[r.getAttribute("sid")]=r.nodeName;break;case"translate":a=n(r.textContent);vt.fromArray(a),e.matrix.multiply(yt.makeTranslation(vt.x,vt.y,vt.z)),e.transforms[r.getAttribute("sid")]=r.nodeName;break;case"rotate":a=n(r.textContent);var h=s.Math.degToRad(a[3]);e.matrix.multiply(yt.makeRotationAxis(vt.fromArray(a),h)),e.transforms[r.getAttribute("sid")]=r.nodeName;break;case"scale":a=n(r.textContent);e.matrix.scale(vt.fromArray(a)),e.transforms[r.getAttribute("sid")]=r.nodeName;break;case"extra":break;default:console.log(r)}}return Ft.nodes[e.id]=e,e}function _t(t){for(var e={id:o(t.getAttribute("url")),materials:{},skeletons:[]},i=0;i<t.childNodes.length;i++){var s=t.childNodes[i];switch(s.nodeName){case"bind_material":for(var r=s.getElementsByTagName("instance_material"),n=0;n<r.length;n++){var a=r[n],h=a.getAttribute("symbol"),l=a.getAttribute("target");e.materials[h]=o(l)}break;case"skeleton":e.skeletons.push(o(s.textContent))}}return e}function bt(t,e){var i,r,n,a=[],o=[];for(i=0;i<t.length;i++){xt(Tt(t[i]),e,a)}for(i=0;i<e.length;i++)for(r=0;r<a.length;r++)if((n=a[r]).bone.name===e[i].name){o[i]=n,n.processed=!0;break}for(i=0;i<a.length;i++)!1===(n=a[i]).processed&&(o.push(n),n.processed=!0);var h=[],l=[];for(i=0;i<o.length;i++)n=o[i],h.push(n.bone),l.push(n.boneInverse);return new s.Skeleton(h,l)}function xt(t,e,i){t.traverse(function(t){if(!0===t.isBone){for(var r,n=0;n<e.length;n++){var a=e[n];if(a.name===t.name){r=a.boneInverse;break}}void 0===r&&(r=new s.Matrix4),i.push({bone:t,boneInverse:r,processed:!1})}})}function wt(t){for(var e,i=[],r=t.matrix,n=t.nodes,a=t.type,o=t.instanceCameras,h=t.instanceControllers,l=t.instanceLights,c=t.instanceGeometries,u=t.instanceNodes,f=0,d=n.length;f<d;f++)i.push(Tt(n[f]));for(f=0,d=o.length;f<d;f++){var m=Y(o[f]);null!==m&&i.push(m.clone())}for(f=0,d=h.length;f<d;f++)for(var y=h[f],v=(e=y.id,p(Ft.controllers[e],M)),g=Pt(at(v.id),y.materials),_=bt(y.skeletons,v.skin.joints),b=0,x=g.length;b<x;b++){var w;(w=g[b]).isSkinnedMesh&&(w.bind(_,v.skin.bindMatrix),w.normalizeSkinWeights()),i.push(w)}for(f=0,d=l.length;f<d;f++){var k=Q(l[f]);null!==k&&i.push(k.clone())}for(f=0,d=c.length;f<d;f++)for(b=0,x=(g=Pt(at((y=c[f]).id),y.materials)).length;b<x;b++)i.push(g[b]);for(f=0,d=u.length;f<d;f++)i.push(Tt(u[f]).clone());if(0===n.length&&1===i.length)w=i[0];else{w="JOINT"===a?new s.Bone:new s.Group;for(f=0;f<i.length;f++)w.add(i[f])}return w.name="JOINT"===a?t.sid:t.name,w.matrix.copy(r),w.matrix.decompose(w.position,w.quaternion,w.scale),w}function kt(t,e){for(var i=[],s=0,r=t.length;s<r;s++){var n=e[t[s]];i.push(G(n))}return i}function Pt(t,e){var i=[];for(var r in t){var n=t[r],a=kt(n.materialKeys,e);0===a.length&&("lines"===r||"linestrips"===r?a.push(new s.LineBasicMaterial):a.push(new s.MeshPhongMaterial));var o=void 0!==n.data.attributes.skinIndex;if(o)for(var h=0,l=a.length;h<l;h++)a[h].skinning=!0;var c,p=1===a.length?a[0]:a;switch(r){case"lines":c=new s.LineSegments(n.data,p);break;case"linestrips":c=new s.Line(n.data,p);break;case"triangles":case"polylist":c=o?new s.SkinnedMesh(n.data,p):new s.Mesh(n.data,p)}i.push(c)}return i}function Tt(t){return p(Ft.nodes[t],wt)}function Et(t){var e=new s.Group;e.name=t.name;for(var i=t.children,r=0;r<i.length;r++){var n=i[r];null===n.id?e.add(wt(n)):e.add(Tt(n.id))}return e}function St(t){return p(Ft.visualScenes[t],Et)}if(console.time("THREE.ColladaLoader"),0===t.length)return{scene:new s.Scene};console.time("THREE.ColladaLoader: DOMParser");var At=(new DOMParser).parseFromString(t,"application/xml");console.timeEnd("THREE.ColladaLoader: DOMParser");var Ct=i(At,"COLLADA")[0],Mt=Ct.getAttribute("version");console.log("THREE.ColladaLoader: File version",Mt);var Nt=function(t){return{unit:function(t){return void 0!==t?parseFloat(t.getAttribute("meter")):1}(i(t,"unit")[0]),upAxis:function(t){return void 0!==t?t.textContent:"Y_UP"}(i(t,"up_axis")[0])}}(i(Ct,"asset")[0]),It=new s.TextureLoader(this.manager);It.setPath(e).setCrossOrigin(this.crossOrigin);var Dt=[],zt={},Ot=0,Ft={animations:{},clips:{},controllers:{},images:{},effects:{},materials:{},cameras:{},lights:{},geometries:{},nodes:{},visualScenes:{},kinematicsModels:{},kinematicsScenes:{}};console.time("THREE.ColladaLoader: Parse"),l(Ct,"library_animations","animation",function(t){for(var e={sources:{},samplers:{},channels:{}},i=0,s=t.childNodes.length;i<s;i++){var r,n=t.childNodes[i];if(1===n.nodeType)switch(n.nodeName){case"source":r=n.getAttribute("id"),e.sources[r]=tt(n);break;case"sampler":r=n.getAttribute("id"),e.samplers[r]=u(n);break;case"channel":r=n.getAttribute("target"),e.channels[r]=f(n);break;default:console.log(n)}}Ft.animations[t.getAttribute("id")]=e}),l(Ct,"library_animation_clips","animation_clip",function(t){for(var e={name:t.getAttribute("id")||"default",start:parseFloat(t.getAttribute("start")||0),end:parseFloat(t.getAttribute("end")||0),animations:[]},i=0,s=t.childNodes.length;i<s;i++){var r=t.childNodes[i];if(1===r.nodeType)switch(r.nodeName){case"instance_animation":e.animations.push(o(r.getAttribute("url")))}}Ft.clips[t.getAttribute("id")]=e}),l(Ct,"library_controllers","controller",function(t){for(var e={},i=0,s=t.childNodes.length;i<s;i++){var r=t.childNodes[i];if(1===r.nodeType)switch(r.nodeName){case"skin":e.id=o(r.getAttribute("source")),e.skin=S(r);break;case"morph":e.id=o(r.getAttribute("source")),console.warn("THREE.ColladaLoader: Morph target animation not supported yet.")}}Ft.controllers[t.getAttribute("id")]=e}),l(Ct,"library_images","image",function(t){var e={init_from:i(t,"init_from")[0].textContent};Ft.images[t.getAttribute("id")]=e}),l(Ct,"library_effects","effect",function(t){for(var e={},i=0,s=t.childNodes.length;i<s;i++){var r=t.childNodes[i];if(1===r.nodeType)switch(r.nodeName){case"profile_COMMON":e.profile=I(r)}}Ft.effects[t.getAttribute("id")]=e}),l(Ct,"library_materials","material",function(t){for(var e={name:t.getAttribute("name")},i=0,s=t.childNodes.length;i<s;i++){var r=t.childNodes[i];if(1===r.nodeType)switch(r.nodeName){case"instance_effect":e.url=o(r.getAttribute("url"))}}Ft.materials[t.getAttribute("id")]=e}),l(Ct,"library_cameras","camera",function(t){for(var e={name:t.getAttribute("name")},i=0,s=t.childNodes.length;i<s;i++){var r=t.childNodes[i];if(1===r.nodeType)switch(r.nodeName){case"optics":e.optics=U(r)}}Ft.cameras[t.getAttribute("id")]=e}),l(Ct,"library_lights","light",function(t){for(var e={},i=0,s=t.childNodes.length;i<s;i++){var r=t.childNodes[i];if(1===r.nodeType)switch(r.nodeName){case"technique_common":e=Z(r)}}Ft.lights[t.getAttribute("id")]=e}),l(Ct,"library_geometries","geometry",function(t){var e={name:t.getAttribute("name"),sources:{},vertices:{},primitives:[]},s=i(t,"mesh")[0];if(void 0!==s){for(var r=0;r<s.childNodes.length;r++){var n=s.childNodes[r];if(1===n.nodeType){var a=n.getAttribute("id");switch(n.nodeName){case"source":e.sources[a]=tt(n);break;case"vertices":e.vertices=et(n);break;case"polygons":console.warn("THREE.ColladaLoader: Unsupported primitive type: ",n.nodeName);break;case"lines":case"linestrips":case"polylist":case"triangles":e.primitives.push(it(n));break;default:console.log(n)}}}Ft.geometries[t.getAttribute("id")]=e}}),l(Ct,"library_nodes","node",gt),l(Ct,"library_visual_scenes","visual_scene",function(t){var e={name:t.getAttribute("name"),children:[]};!function(t){for(var e=t.getElementsByTagName("node"),i=0;i<e.length;i++){var s=e[i];!1===s.hasAttribute("id")&&s.setAttribute("id","three_default_"+Ot++)}}(t);for(var s=i(t,"node"),r=0;r<s.length;r++)e.children.push(gt(s[r]));Ft.visualScenes[t.getAttribute("id")]=e}),l(Ct,"library_kinematics_models","kinematics_model",function(t){for(var e={name:t.getAttribute("name")||"",joints:{},links:[]},i=0;i<t.childNodes.length;i++){var s=t.childNodes[i];if(1===s.nodeType)switch(s.nodeName){case"technique_common":ht(s,e)}}Ft.kinematicsModels[t.getAttribute("id")]=e}),l(Ct,"scene","instance_kinematics_scene",function(t){for(var e={bindJointAxis:[]},i=0;i<t.childNodes.length;i++){var s=t.childNodes[i];if(1===s.nodeType)switch(s.nodeName){case"bind_joint_axis":e.bindJointAxis.push(dt(s))}}Ft.kinematicsScenes[o(t.getAttribute("url"))]=e}),console.timeEnd("THREE.ColladaLoader: Parse"),console.time("THREE.ColladaLoader: Build"),c(Ft.animations,d),c(Ft.clips,T),c(Ft.controllers,M),c(Ft.images,N),c(Ft.effects,H),c(Ft.materials,$),c(Ft.cameras,W),c(Ft.lights,K),c(Ft.geometries,st),c(Ft.visualScenes,Et),console.timeEnd("THREE.ColladaLoader: Build"),function(){var t=Ft.clips;if(!0===h(t)){if(!1===h(Ft.animations)){var e=[];for(var i in Ft.animations)for(var r=m(i),n=0,a=r.length;n<a;n++)e.push(r[n]);Dt.push(new s.AnimationClip("default",-1,e))}}else for(var i in t)Dt.push(E(i))}(),function(){var t=Object.keys(Ft.kinematicsModels)[0],e=Object.keys(Ft.kinematicsScenes)[0],i=Object.keys(Ft.visualScenes)[0];if(void 0!==t&&void 0!==e){for(var r,a=(r=t,p(Ft.kinematicsModels[r],ot)),o=function(t){return p(Ft.kinematicsScenes[t],mt)}(e),h=St(i),l=o.bindJointAxis,c={},u=0,f=l.length;u<f;u++){var d=l[u],m=Ct.querySelector('[sid="'+d.target+'"]');if(m){var y=m.parentElement;g(d.jointIndex,y)}}var v=new s.Matrix4;zt={joints:a&&a.joints,getJointValue:function(t){var e=c[t];if(e)return e.position;console.warn("THREE.ColladaLoader: Joint "+t+" doesn't exist.")},setJointValue:function(t,e){var i=c[t];if(i){var r=i.joint;if(e>r.limits.max||e<r.limits.min)console.warn("THREE.ColladaLoader: Joint "+t+" value "+e+" outside of limits (min: "+r.limits.min+", max: "+r.limits.max+").");else if(r.static)console.warn("THREE.ColladaLoader: Joint "+t+" is static.");else{var n=i.object,a=r.axis,o=i.transforms;yt.identity();for(var h=0;h<o.length;h++){var l=o[h];if(l.sid&&-1!==l.sid.indexOf(t))switch(r.type){case"revolute":yt.multiply(v.makeRotationAxis(a,s.Math.degToRad(e)));break;case"prismatic":yt.multiply(v.makeTranslation(a.x*e,a.y*e,a.z*e));break;default:console.warn("THREE.ColladaLoader: Unknown joint type: "+r.type)}else switch(l.type){case"matrix":yt.multiply(l.obj);break;case"translate":yt.multiply(v.makeTranslation(l.obj.x,l.obj.y,l.obj.z));break;case"scale":yt.scale(l.obj);break;case"rotate":yt.multiply(v.makeRotationAxis(l.obj,l.angle))}}n.matrix.copy(yt),n.matrix.decompose(n.position,n.quaternion,n.scale),c[t].position=e}}else console.log("THREE.ColladaLoader: "+t+" does not exist.")}}}function g(t,e){var i=e.getAttribute("name"),r=a.joints[t];h.traverse(function(a){a.name===i&&(c[t]={object:a,transforms:function(t){for(var e=[],i=Ct.querySelector('[id="'+t.id+'"]'),r=0;r<i.childNodes.length;r++){var a=i.childNodes[r];if(1===a.nodeType)switch(a.nodeName){case"matrix":var o=n(a.textContent),h=(new s.Matrix4).fromArray(o).transpose();e.push({sid:a.getAttribute("sid"),type:a.nodeName,obj:h});break;case"translate":case"scale":var o=n(a.textContent),l=(new s.Vector3).fromArray(o);e.push({sid:a.getAttribute("sid"),type:a.nodeName,obj:l});break;case"rotate":var o=n(a.textContent),l=(new s.Vector3).fromArray(o),c=s.Math.degToRad(o[3]);e.push({sid:a.getAttribute("sid"),type:a.nodeName,obj:l,angle:c})}}return e}(e),joint:r,position:r.zeroPosition})})}}();var Lt=function(t){return St(o(i(t,"instance_visual_scene")[0].getAttribute("url")))}(i(Ct,"scene")[0]);return"Z_UP"===Nt.upAxis&&(Lt.rotation.x=-Math.PI/2),Lt.scale.multiplyScalar(Nt.unit),console.timeEnd("THREE.ColladaLoader"),{animations:Dt,kinematics:zt,library:Ft,scene:Lt}}},t.exports=r},cGG2:function(t,e,i){"use strict";var s=i("JP+z"),r=i("Re3r"),n=Object.prototype.toString;function a(t){return"[object Array]"===n.call(t)}function o(t){return null!==t&&"object"==typeof t}function h(t){return"[object Function]"===n.call(t)}function l(t,e){if(null!==t&&void 0!==t)if("object"!=typeof t&&(t=[t]),a(t))for(var i=0,s=t.length;i<s;i++)e.call(null,t[i],i,t);else for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.call(null,t[r],r,t)}t.exports={isArray:a,isArrayBuffer:function(t){return"[object ArrayBuffer]"===n.call(t)},isBuffer:r,isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:o,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===n.call(t)},isFile:function(t){return"[object File]"===n.call(t)},isBlob:function(t){return"[object Blob]"===n.call(t)},isFunction:h,isStream:function(t){return o(t)&&h(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:l,merge:function t(){var e={};function i(i,s){"object"==typeof e[s]&&"object"==typeof i?e[s]=t(e[s],i):e[s]=i}for(var s=0,r=arguments.length;s<r;s++)l(arguments[s],i);return e},extend:function(t,e,i){return l(e,function(e,r){t[r]=i&&"function"==typeof e?s(e,i):e}),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},cWxy:function(t,e,i){"use strict";var s=i("dVOP");function r(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var i=this;t(function(t){i.reason||(i.reason=new s(t),e(i.reason))})}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var t;return{token:new r(function(e){t=e}),cancel:t}},t.exports=r},dIwP:function(t,e,i){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},dVOP:function(t,e,i){"use strict";function s(t){this.message=t}s.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},s.prototype.__CANCEL__=!0,t.exports=s},e8AB:function(t,e,i){var s=i("7KvD"),r=s["__core-js_shared__"]||(s["__core-js_shared__"]={});t.exports=function(t){return r[t]||(r[t]={})}},evD5:function(t,e,i){var s=i("77Pl"),r=i("SfB7"),n=i("MmMw"),a=Object.defineProperty;e.f=i("+E39")?Object.defineProperty:function(t,e,i){if(s(t),e=n(e,!0),s(i),r)try{return a(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[e]=i.value),t}},fZjL:function(t,e,i){t.exports={default:i("jFbC"),__esModule:!0}},fkB2:function(t,e,i){var s=i("UuGF"),r=Math.max,n=Math.min;t.exports=function(t,e){return(t=s(t))<0?r(t+e,0):n(t,e)}},fuGk:function(t,e,i){"use strict";var s=i("cGG2");function r(){this.handlers=[]}r.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},r.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},r.prototype.forEach=function(t){s.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=r},hJx8:function(t,e,i){var s=i("evD5"),r=i("X8DO");t.exports=i("+E39")?function(t,e,i){return s.f(t,e,r(1,i))}:function(t,e,i){return t[e]=i,t}},jFbC:function(t,e,i){i("Cdx3"),t.exports=i("FeBl").Object.keys},k9Ku:function(t,e,i){(function(t){
/*!
 *  howler.js v2.0.12
 *  howlerjs.com
 *
 *  (c) 2013-2018, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */
!function(){"use strict";var i=function(){this.init()};i.prototype={init:function(){var t=this||s;return t._counter=1e3,t._codecs={},t._howls=[],t._muted=!1,t._volume=1,t._canPlayEvent="canplaythrough",t._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,t.masterGain=null,t.noAudio=!1,t.usingWebAudio=!0,t.autoSuspend=!0,t.ctx=null,t.mobileAutoEnable=!0,t._setup(),t},volume:function(t){var e=this||s;if(t=parseFloat(t),e.ctx||p(),void 0!==t&&t>=0&&t<=1){if(e._volume=t,e._muted)return e;e.usingWebAudio&&e.masterGain.gain.setValueAtTime(t,s.ctx.currentTime);for(var i=0;i<e._howls.length;i++)if(!e._howls[i]._webAudio)for(var r=e._howls[i]._getSoundIds(),n=0;n<r.length;n++){var a=e._howls[i]._soundById(r[n]);a&&a._node&&(a._node.volume=a._volume*t)}return e}return e._volume},mute:function(t){var e=this||s;e.ctx||p(),e._muted=t,e.usingWebAudio&&e.masterGain.gain.setValueAtTime(t?0:e._volume,s.ctx.currentTime);for(var i=0;i<e._howls.length;i++)if(!e._howls[i]._webAudio)for(var r=e._howls[i]._getSoundIds(),n=0;n<r.length;n++){var a=e._howls[i]._soundById(r[n]);a&&a._node&&(a._node.muted=!!t||a._muted)}return e},unload:function(){for(var t=this||s,e=t._howls.length-1;e>=0;e--)t._howls[e].unload();return t.usingWebAudio&&t.ctx&&void 0!==t.ctx.close&&(t.ctx.close(),t.ctx=null,p()),t},codecs:function(t){return(this||s)._codecs[t.replace(/^x-/,"")]},_setup:function(){var t=this||s;if(t.state=t.ctx&&t.ctx.state||"running",t._autoSuspend(),!t.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(t._canPlayEvent="canplay")}catch(e){t.noAudio=!0}else t.noAudio=!0;try{(new Audio).muted&&(t.noAudio=!0)}catch(t){}return t.noAudio||t._setupCodecs(),t},_setupCodecs:function(){var t=this||s,e=null;try{e="undefined"!=typeof Audio?new Audio:null}catch(e){return t}if(!e||"function"!=typeof e.canPlayType)return t;var i=e.canPlayType("audio/mpeg;").replace(/^no$/,""),r=t._navigator&&t._navigator.userAgent.match(/OPR\/([0-6].)/g),n=r&&parseInt(r[0].split("/")[1],10)<33;return t._codecs={mp3:!(n||!i&&!e.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!i,opus:!!e.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!e.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!e.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(e.canPlayType("audio/x-mp4;")||e.canPlayType("audio/mp4;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),webm:!!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),dolby:!!e.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(e.canPlayType("audio/x-flac;")||e.canPlayType("audio/flac;")).replace(/^no$/,"")},t},_enableMobileAudio:function(){var t=this||s,e=/iPhone|iPad|iPod|Android|BlackBerry|BB10|Silk|Mobi/i.test(t._navigator&&t._navigator.userAgent),i=!!("ontouchend"in window||t._navigator&&t._navigator.maxTouchPoints>0||t._navigator&&t._navigator.msMaxTouchPoints>0);if(!t._mobileEnabled&&t.ctx&&(e||i)){t._mobileEnabled=!1,t._mobileUnloaded||44100===t.ctx.sampleRate||(t._mobileUnloaded=!0,t.unload()),t._scratchBuffer=t.ctx.createBuffer(1,1,22050);var r=function(){s._autoResume();var e=t.ctx.createBufferSource();e.buffer=t._scratchBuffer,e.connect(t.ctx.destination),void 0===e.start?e.noteOn(0):e.start(0),"function"==typeof t.ctx.resume&&t.ctx.resume(),e.onended=function(){e.disconnect(0),t._mobileEnabled=!0,t.mobileAutoEnable=!1,document.removeEventListener("touchstart",r,!0),document.removeEventListener("touchend",r,!0)}};return document.addEventListener("touchstart",r,!0),document.addEventListener("touchend",r,!0),t}},_autoSuspend:function(){var t=this;if(t.autoSuspend&&t.ctx&&void 0!==t.ctx.suspend&&s.usingWebAudio){for(var e=0;e<t._howls.length;e++)if(t._howls[e]._webAudio)for(var i=0;i<t._howls[e]._sounds.length;i++)if(!t._howls[e]._sounds[i]._paused)return t;return t._suspendTimer&&clearTimeout(t._suspendTimer),t._suspendTimer=setTimeout(function(){t.autoSuspend&&(t._suspendTimer=null,t.state="suspending",t.ctx.suspend().then(function(){t.state="suspended",t._resumeAfterSuspend&&(delete t._resumeAfterSuspend,t._autoResume())}))},3e4),t}},_autoResume:function(){var t=this;if(t.ctx&&void 0!==t.ctx.resume&&s.usingWebAudio)return"running"===t.state&&t._suspendTimer?(clearTimeout(t._suspendTimer),t._suspendTimer=null):"suspended"===t.state?(t.ctx.resume().then(function(){t.state="running";for(var e=0;e<t._howls.length;e++)t._howls[e]._emit("resume")}),t._suspendTimer&&(clearTimeout(t._suspendTimer),t._suspendTimer=null)):"suspending"===t.state&&(t._resumeAfterSuspend=!0),t}};var s=new i,r=function(t){t.src&&0!==t.src.length?this.init(t):console.error("An array of source files must be passed with any new Howl.")};r.prototype={init:function(t){var e=this;return s.ctx||p(),e._autoplay=t.autoplay||!1,e._format="string"!=typeof t.format?t.format:[t.format],e._html5=t.html5||!1,e._muted=t.mute||!1,e._loop=t.loop||!1,e._pool=t.pool||5,e._preload="boolean"!=typeof t.preload||t.preload,e._rate=t.rate||1,e._sprite=t.sprite||{},e._src="string"!=typeof t.src?t.src:[t.src],e._volume=void 0!==t.volume?t.volume:1,e._xhrWithCredentials=t.xhrWithCredentials||!1,e._duration=0,e._state="unloaded",e._sounds=[],e._endTimers={},e._queue=[],e._playLock=!1,e._onend=t.onend?[{fn:t.onend}]:[],e._onfade=t.onfade?[{fn:t.onfade}]:[],e._onload=t.onload?[{fn:t.onload}]:[],e._onloaderror=t.onloaderror?[{fn:t.onloaderror}]:[],e._onplayerror=t.onplayerror?[{fn:t.onplayerror}]:[],e._onpause=t.onpause?[{fn:t.onpause}]:[],e._onplay=t.onplay?[{fn:t.onplay}]:[],e._onstop=t.onstop?[{fn:t.onstop}]:[],e._onmute=t.onmute?[{fn:t.onmute}]:[],e._onvolume=t.onvolume?[{fn:t.onvolume}]:[],e._onrate=t.onrate?[{fn:t.onrate}]:[],e._onseek=t.onseek?[{fn:t.onseek}]:[],e._onresume=[],e._webAudio=s.usingWebAudio&&!e._html5,void 0!==s.ctx&&s.ctx&&s.mobileAutoEnable&&s._enableMobileAudio(),s._howls.push(e),e._autoplay&&e._queue.push({event:"play",action:function(){e.play()}}),e._preload&&e.load(),e},load:function(){var t=null;if(s.noAudio)this._emit("loaderror",null,"No audio support.");else{"string"==typeof this._src&&(this._src=[this._src]);for(var e=0;e<this._src.length;e++){var i,r;if(this._format&&this._format[e])i=this._format[e];else{if("string"!=typeof(r=this._src[e])){this._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(i=/^data:audio\/([^;,]+);/i.exec(r))||(i=/\.([^.]+)$/.exec(r.split("?",1)[0])),i&&(i=i[1].toLowerCase())}if(i||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),i&&s.codecs(i)){t=this._src[e];break}}if(t)return this._src=t,this._state="loading","https:"===window.location.protocol&&"http:"===t.slice(0,5)&&(this._html5=!0,this._webAudio=!1),new n(this),this._webAudio&&o(this),this;this._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(t,e){var i=this,r=null;if("number"==typeof t)r=t,t=null;else{if("string"==typeof t&&"loaded"===i._state&&!i._sprite[t])return null;if(void 0===t){t="__default";for(var n=0,a=0;a<i._sounds.length;a++)i._sounds[a]._paused&&!i._sounds[a]._ended&&(n++,r=i._sounds[a]._id);1===n?t=null:r=null}}var o=r?i._soundById(r):i._inactiveSound();if(!o)return null;if(r&&!t&&(t=o._sprite||"__default"),"loaded"!==i._state){o._sprite=t,o._ended=!1;var h=o._id;return i._queue.push({event:"play",action:function(){i.play(h)}}),h}if(r&&!o._paused)return e||i._loadQueue("play"),o._id;i._webAudio&&s._autoResume();var l=Math.max(0,o._seek>0?o._seek:i._sprite[t][0]/1e3),c=Math.max(0,(i._sprite[t][0]+i._sprite[t][1])/1e3-l),p=1e3*c/Math.abs(o._rate);o._paused=!1,o._ended=!1,o._sprite=t,o._seek=l,o._start=i._sprite[t][0]/1e3,o._stop=(i._sprite[t][0]+i._sprite[t][1])/1e3,o._loop=!(!o._loop&&!i._sprite[t][2]);var u=o._node;if(i._webAudio){var f=function(){i._refreshBuffer(o);var t=o._muted||i._muted?0:o._volume;u.gain.setValueAtTime(t,s.ctx.currentTime),o._playStart=s.ctx.currentTime,void 0===u.bufferSource.start?o._loop?u.bufferSource.noteGrainOn(0,l,86400):u.bufferSource.noteGrainOn(0,l,c):o._loop?u.bufferSource.start(0,l,86400):u.bufferSource.start(0,l,c),p!==1/0&&(i._endTimers[o._id]=setTimeout(i._ended.bind(i,o),p)),e||setTimeout(function(){i._emit("play",o._id)},0)};"running"===s.state?f():(i.once("resume",f),i._clearTimer(o._id))}else{var d=function(){u.currentTime=l,u.muted=o._muted||i._muted||s._muted||u.muted,u.volume=o._volume*s.volume(),u.playbackRate=o._rate;try{var r=u.play();if("undefined"!=typeof Promise&&r instanceof Promise){i._playLock=!0;var n=function(){i._playLock=!1,e||i._emit("play",o._id)};r.then(n,n)}else e||i._emit("play",o._id);if(u.playbackRate=o._rate,u.paused)return void i._emit("playerror",o._id,"Playback was unable to start. This is most commonly an issue on mobile devices where playback was not within a user interaction.");"__default"!==t||o._loop?i._endTimers[o._id]=setTimeout(i._ended.bind(i,o),p):(i._endTimers[o._id]=function(){i._ended(o),u.removeEventListener("ended",i._endTimers[o._id],!1)},u.addEventListener("ended",i._endTimers[o._id],!1))}catch(t){i._emit("playerror",o._id,t)}},m=window&&window.ejecta||!u.readyState&&s._navigator.isCocoonJS;if(u.readyState>=3||m)d();else{var y=function(){d(),u.removeEventListener(s._canPlayEvent,y,!1)};u.addEventListener(s._canPlayEvent,y,!1),i._clearTimer(o._id)}}return o._id},pause:function(t){var e=this;if("loaded"!==e._state||e._playLock)return e._queue.push({event:"pause",action:function(){e.pause(t)}}),e;for(var i=e._getSoundIds(t),s=0;s<i.length;s++){e._clearTimer(i[s]);var r=e._soundById(i[s]);if(r&&!r._paused&&(r._seek=e.seek(i[s]),r._rateSeek=0,r._paused=!0,e._stopFade(i[s]),r._node))if(e._webAudio){if(!r._node.bufferSource)continue;void 0===r._node.bufferSource.stop?r._node.bufferSource.noteOff(0):r._node.bufferSource.stop(0),e._cleanBuffer(r._node)}else isNaN(r._node.duration)&&r._node.duration!==1/0||r._node.pause();arguments[1]||e._emit("pause",r?r._id:null)}return e},stop:function(t,e){var i=this;if("loaded"!==i._state)return i._queue.push({event:"stop",action:function(){i.stop(t)}}),i;for(var s=i._getSoundIds(t),r=0;r<s.length;r++){i._clearTimer(s[r]);var n=i._soundById(s[r]);n&&(n._seek=n._start||0,n._rateSeek=0,n._paused=!0,n._ended=!0,i._stopFade(s[r]),n._node&&(i._webAudio?n._node.bufferSource&&(void 0===n._node.bufferSource.stop?n._node.bufferSource.noteOff(0):n._node.bufferSource.stop(0),i._cleanBuffer(n._node)):isNaN(n._node.duration)&&n._node.duration!==1/0||(n._node.currentTime=n._start||0,n._node.pause())),e||i._emit("stop",n._id))}return i},mute:function(t,e){var i=this;if("loaded"!==i._state)return i._queue.push({event:"mute",action:function(){i.mute(t,e)}}),i;if(void 0===e){if("boolean"!=typeof t)return i._muted;i._muted=t}for(var r=i._getSoundIds(e),n=0;n<r.length;n++){var a=i._soundById(r[n]);a&&(a._muted=t,a._interval&&i._stopFade(a._id),i._webAudio&&a._node?a._node.gain.setValueAtTime(t?0:a._volume,s.ctx.currentTime):a._node&&(a._node.muted=!!s._muted||t),i._emit("mute",a._id))}return i},volume:function(){var t,e,i,r=this,n=arguments;if(0===n.length)return r._volume;if(1===n.length||2===n.length&&void 0===n[1]?r._getSoundIds().indexOf(n[0])>=0?e=parseInt(n[0],10):t=parseFloat(n[0]):n.length>=2&&(t=parseFloat(n[0]),e=parseInt(n[1],10)),!(void 0!==t&&t>=0&&t<=1))return(i=e?r._soundById(e):r._sounds[0])?i._volume:0;if("loaded"!==r._state)return r._queue.push({event:"volume",action:function(){r.volume.apply(r,n)}}),r;void 0===e&&(r._volume=t),e=r._getSoundIds(e);for(var a=0;a<e.length;a++)(i=r._soundById(e[a]))&&(i._volume=t,n[2]||r._stopFade(e[a]),r._webAudio&&i._node&&!i._muted?i._node.gain.setValueAtTime(t,s.ctx.currentTime):i._node&&!i._muted&&(i._node.volume=t*s.volume()),r._emit("volume",i._id));return r},fade:function(t,e,i,r){var n=this;if("loaded"!==n._state)return n._queue.push({event:"fade",action:function(){n.fade(t,e,i,r)}}),n;n.volume(t,r);for(var a=n._getSoundIds(r),o=0;o<a.length;o++){var h=n._soundById(a[o]);if(h){if(r||n._stopFade(a[o]),n._webAudio&&!h._muted){var l=s.ctx.currentTime,c=l+i/1e3;h._volume=t,h._node.gain.setValueAtTime(t,l),h._node.gain.linearRampToValueAtTime(e,c)}n._startFadeInterval(h,t,e,i,a[o],void 0===r)}}return n},_startFadeInterval:function(t,e,i,s,r,n){var a=this,o=e,h=i-e,l=Math.abs(h/.01),c=Math.max(4,l>0?s/l:s),p=Date.now();t._fadeTo=i,t._interval=setInterval(function(){var r=(Date.now()-p)/s;p=Date.now(),o+=h*r,o=Math.max(0,o),o=Math.min(1,o),o=Math.round(100*o)/100,a._webAudio?t._volume=o:a.volume(o,t._id,!0),n&&(a._volume=o),(i<e&&o<=i||i>e&&o>=i)&&(clearInterval(t._interval),t._interval=null,t._fadeTo=null,a.volume(i,t._id),a._emit("fade",t._id))},c)},_stopFade:function(t){var e=this._soundById(t);return e&&e._interval&&(this._webAudio&&e._node.gain.cancelScheduledValues(s.ctx.currentTime),clearInterval(e._interval),e._interval=null,this.volume(e._fadeTo,t),e._fadeTo=null,this._emit("fade",t)),this},loop:function(){var t,e,i,s=arguments;if(0===s.length)return this._loop;if(1===s.length){if("boolean"!=typeof s[0])return!!(i=this._soundById(parseInt(s[0],10)))&&i._loop;t=s[0],this._loop=t}else 2===s.length&&(t=s[0],e=parseInt(s[1],10));for(var r=this._getSoundIds(e),n=0;n<r.length;n++)(i=this._soundById(r[n]))&&(i._loop=t,this._webAudio&&i._node&&i._node.bufferSource&&(i._node.bufferSource.loop=t,t&&(i._node.bufferSource.loopStart=i._start||0,i._node.bufferSource.loopEnd=i._stop)));return this},rate:function(){var t,e,i,r=this,n=arguments;if(0===n.length)e=r._sounds[0]._id;else if(1===n.length){r._getSoundIds().indexOf(n[0])>=0?e=parseInt(n[0],10):t=parseFloat(n[0])}else 2===n.length&&(t=parseFloat(n[0]),e=parseInt(n[1],10));if("number"!=typeof t)return(i=r._soundById(e))?i._rate:r._rate;if("loaded"!==r._state)return r._queue.push({event:"rate",action:function(){r.rate.apply(r,n)}}),r;void 0===e&&(r._rate=t),e=r._getSoundIds(e);for(var a=0;a<e.length;a++)if(i=r._soundById(e[a])){i._rateSeek=r.seek(e[a]),i._playStart=r._webAudio?s.ctx.currentTime:i._playStart,i._rate=t,r._webAudio&&i._node&&i._node.bufferSource?i._node.bufferSource.playbackRate.setValueAtTime(t,s.ctx.currentTime):i._node&&(i._node.playbackRate=t);var o=r.seek(e[a]),h=1e3*((r._sprite[i._sprite][0]+r._sprite[i._sprite][1])/1e3-o)/Math.abs(i._rate);!r._endTimers[e[a]]&&i._paused||(r._clearTimer(e[a]),r._endTimers[e[a]]=setTimeout(r._ended.bind(r,i),h)),r._emit("rate",i._id)}return r},seek:function(){var t,e,i=this,r=arguments;if(0===r.length)e=i._sounds[0]._id;else if(1===r.length){i._getSoundIds().indexOf(r[0])>=0?e=parseInt(r[0],10):i._sounds.length&&(e=i._sounds[0]._id,t=parseFloat(r[0]))}else 2===r.length&&(t=parseFloat(r[0]),e=parseInt(r[1],10));if(void 0===e)return i;if("loaded"!==i._state)return i._queue.push({event:"seek",action:function(){i.seek.apply(i,r)}}),i;var n=i._soundById(e);if(n){if(!("number"==typeof t&&t>=0)){if(i._webAudio){var a=i.playing(e)?s.ctx.currentTime-n._playStart:0,o=n._rateSeek?n._rateSeek-n._seek:0;return n._seek+(o+a*Math.abs(n._rate))}return n._node.currentTime}var h=i.playing(e);if(h&&i.pause(e,!0),n._seek=t,n._ended=!1,i._clearTimer(e),h&&i.play(e,!0),!i._webAudio&&n._node&&(n._node.currentTime=t),h&&!i._webAudio){var l=function(){i._playLock?setTimeout(l,0):i._emit("seek",e)};setTimeout(l,0)}else i._emit("seek",e)}return i},playing:function(t){if("number"==typeof t){var e=this._soundById(t);return!!e&&!e._paused}for(var i=0;i<this._sounds.length;i++)if(!this._sounds[i]._paused)return!0;return!1},duration:function(t){var e=this._duration,i=this._soundById(t);return i&&(e=this._sprite[i._sprite][1]/1e3),e},state:function(){return this._state},unload:function(){for(var t=this,e=t._sounds,i=0;i<e.length;i++){if(e[i]._paused||t.stop(e[i]._id),!t._webAudio)/MSIE |Trident\//.test(s._navigator&&s._navigator.userAgent)||(e[i]._node.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"),e[i]._node.removeEventListener("error",e[i]._errorFn,!1),e[i]._node.removeEventListener(s._canPlayEvent,e[i]._loadFn,!1);delete e[i]._node,t._clearTimer(e[i]._id);var r=s._howls.indexOf(t);r>=0&&s._howls.splice(r,1)}var n=!0;for(i=0;i<s._howls.length;i++)if(s._howls[i]._src===t._src){n=!1;break}return a&&n&&delete a[t._src],s.noAudio=!1,t._state="unloaded",t._sounds=[],t=null,null},on:function(t,e,i,s){var r=this["_on"+t];return"function"==typeof e&&r.push(s?{id:i,fn:e,once:s}:{id:i,fn:e}),this},off:function(t,e,i){var s=this["_on"+t],r=0;if("number"==typeof e&&(i=e,e=null),e||i)for(r=0;r<s.length;r++){var n=i===s[r].id;if(e===s[r].fn&&n||!e&&n){s.splice(r,1);break}}else if(t)this["_on"+t]=[];else{var a=Object.keys(this);for(r=0;r<a.length;r++)0===a[r].indexOf("_on")&&Array.isArray(this[a[r]])&&(this[a[r]]=[])}return this},once:function(t,e,i){return this.on(t,e,i,1),this},_emit:function(t,e,i){for(var s=this["_on"+t],r=s.length-1;r>=0;r--)s[r].id&&s[r].id!==e&&"load"!==t||(setTimeout(function(t){t.call(this,e,i)}.bind(this,s[r].fn),0),s[r].once&&this.off(t,s[r].fn,s[r].id));return this._loadQueue(t),this},_loadQueue:function(t){if(this._queue.length>0){var e=this._queue[0];e.event===t&&(this._queue.shift(),this._loadQueue()),t||e.action()}return this},_ended:function(t){var e=t._sprite;if(!this._webAudio&&t._node&&!t._node.paused&&!t._node.ended&&t._node.currentTime<t._stop)return setTimeout(this._ended.bind(this,t),100),this;var i=!(!t._loop&&!this._sprite[e][2]);if(this._emit("end",t._id),!this._webAudio&&i&&this.stop(t._id,!0).play(t._id),this._webAudio&&i){this._emit("play",t._id),t._seek=t._start||0,t._rateSeek=0,t._playStart=s.ctx.currentTime;var r=1e3*(t._stop-t._start)/Math.abs(t._rate);this._endTimers[t._id]=setTimeout(this._ended.bind(this,t),r)}return this._webAudio&&!i&&(t._paused=!0,t._ended=!0,t._seek=t._start||0,t._rateSeek=0,this._clearTimer(t._id),this._cleanBuffer(t._node),s._autoSuspend()),this._webAudio||i||this.stop(t._id),this},_clearTimer:function(t){if(this._endTimers[t]){if("function"!=typeof this._endTimers[t])clearTimeout(this._endTimers[t]);else{var e=this._soundById(t);e&&e._node&&e._node.removeEventListener("ended",this._endTimers[t],!1)}delete this._endTimers[t]}return this},_soundById:function(t){for(var e=0;e<this._sounds.length;e++)if(t===this._sounds[e]._id)return this._sounds[e];return null},_inactiveSound:function(){this._drain();for(var t=0;t<this._sounds.length;t++)if(this._sounds[t]._ended)return this._sounds[t].reset();return new n(this)},_drain:function(){var t=this._pool,e=0,i=0;if(!(this._sounds.length<t)){for(i=0;i<this._sounds.length;i++)this._sounds[i]._ended&&e++;for(i=this._sounds.length-1;i>=0;i--){if(e<=t)return;this._sounds[i]._ended&&(this._webAudio&&this._sounds[i]._node&&this._sounds[i]._node.disconnect(0),this._sounds.splice(i,1),e--)}}},_getSoundIds:function(t){if(void 0===t){for(var e=[],i=0;i<this._sounds.length;i++)e.push(this._sounds[i]._id);return e}return[t]},_refreshBuffer:function(t){return t._node.bufferSource=s.ctx.createBufferSource(),t._node.bufferSource.buffer=a[this._src],t._panner?t._node.bufferSource.connect(t._panner):t._node.bufferSource.connect(t._node),t._node.bufferSource.loop=t._loop,t._loop&&(t._node.bufferSource.loopStart=t._start||0,t._node.bufferSource.loopEnd=t._stop),t._node.bufferSource.playbackRate.setValueAtTime(t._rate,s.ctx.currentTime),this},_cleanBuffer:function(t){if(s._scratchBuffer){t.bufferSource.onended=null,t.bufferSource.disconnect(0);try{t.bufferSource.buffer=s._scratchBuffer}catch(t){}}return t.bufferSource=null,this}};var n=function(t){this._parent=t,this.init()};n.prototype={init:function(){var t=this._parent;return this._muted=t._muted,this._loop=t._loop,this._volume=t._volume,this._rate=t._rate,this._seek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++s._counter,t._sounds.push(this),this.create(),this},create:function(){var t=this._parent,e=s._muted||this._muted||this._parent._muted?0:this._volume;return t._webAudio?(this._node=void 0===s.ctx.createGain?s.ctx.createGainNode():s.ctx.createGain(),this._node.gain.setValueAtTime(e,s.ctx.currentTime),this._node.paused=!0,this._node.connect(s.masterGain)):(this._node=new Audio,this._errorFn=this._errorListener.bind(this),this._node.addEventListener("error",this._errorFn,!1),this._loadFn=this._loadListener.bind(this),this._node.addEventListener(s._canPlayEvent,this._loadFn,!1),this._node.src=t._src,this._node.preload="auto",this._node.volume=e*s.volume(),this._node.load()),this},reset:function(){var t=this._parent;return this._muted=t._muted,this._loop=t._loop,this._volume=t._volume,this._rate=t._rate,this._seek=0,this._rateSeek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++s._counter,this},_errorListener:function(){this._parent._emit("loaderror",this._id,this._node.error?this._node.error.code:0),this._node.removeEventListener("error",this._errorFn,!1)},_loadListener:function(){var t=this._parent;t._duration=Math.ceil(10*this._node.duration)/10,0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue()),this._node.removeEventListener(s._canPlayEvent,this._loadFn,!1)}};var a={},o=function(t){var e=t._src;if(a[e])return t._duration=a[e].duration,void c(t);if(/^data:[^;]+;base64,/.test(e)){for(var i=atob(e.split(",")[1]),s=new Uint8Array(i.length),r=0;r<i.length;++r)s[r]=i.charCodeAt(r);l(s.buffer,t)}else{var n=new XMLHttpRequest;n.open("GET",e,!0),n.withCredentials=t._xhrWithCredentials,n.responseType="arraybuffer",n.onload=function(){var e=(n.status+"")[0];"0"===e||"2"===e||"3"===e?l(n.response,t):t._emit("loaderror",null,"Failed loading audio file with status: "+n.status+".")},n.onerror=function(){t._webAudio&&(t._html5=!0,t._webAudio=!1,t._sounds=[],delete a[e],t.load())},h(n)}},h=function(t){try{t.send()}catch(e){t.onerror()}},l=function(t,e){s.ctx.decodeAudioData(t,function(t){t&&e._sounds.length>0&&(a[e._src]=t,c(e,t))},function(){e._emit("loaderror",null,"Decoding audio data failed.")})},c=function(t,e){e&&!t._duration&&(t._duration=e.duration),0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue())},p=function(){try{"undefined"!=typeof AudioContext?s.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?s.ctx=new webkitAudioContext:s.usingWebAudio=!1}catch(t){s.usingWebAudio=!1}var t=/iP(hone|od|ad)/.test(s._navigator&&s._navigator.platform),e=s._navigator&&s._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),i=e?parseInt(e[1],10):null;if(t&&i&&i<9){var r=/safari/.test(s._navigator&&s._navigator.userAgent.toLowerCase());(s._navigator&&s._navigator.standalone&&!r||s._navigator&&!s._navigator.standalone&&!r)&&(s.usingWebAudio=!1)}s.usingWebAudio&&(s.masterGain=void 0===s.ctx.createGain?s.ctx.createGainNode():s.ctx.createGain(),s.masterGain.gain.setValueAtTime(s._muted?0:1,s.ctx.currentTime),s.masterGain.connect(s.ctx.destination)),s._setup()};"function"==typeof define&&define.amd&&define([],function(){return{Howler:s,Howl:r}}),e.Howler=s,e.Howl=r,"undefined"!=typeof window?(window.HowlerGlobal=i,window.Howler=s,window.Howl=r,window.Sound=n):void 0!==t&&(t.HowlerGlobal=i,t.Howler=s,t.Howl=r,t.Sound=n)}(),
/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.0.12
 *  howlerjs.com
 *
 *  (c) 2013-2018, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */
function(){"use strict";var t;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(t){if(!this.ctx||!this.ctx.listener)return this;for(var e=this._howls.length-1;e>=0;e--)this._howls[e].stereo(t);return this},HowlerGlobal.prototype.pos=function(t,e,i){return this.ctx&&this.ctx.listener?(e="number"!=typeof e?this._pos[1]:e,i="number"!=typeof i?this._pos[2]:i,"number"!=typeof t?this._pos:(this._pos=[t,e,i],void 0!==this.ctx.listener.positionX?(this.ctx.listener.positionX.setTargetAtTime(this._pos[0],Howler.ctx.currentTime,.1),this.ctx.listener.positionY.setTargetAtTime(this._pos[1],Howler.ctx.currentTime,.1),this.ctx.listener.positionZ.setTargetAtTime(this._pos[2],Howler.ctx.currentTime,.1)):this.ctx.listener.setPosition(this._pos[0],this._pos[1],this._pos[2]),this)):this},HowlerGlobal.prototype.orientation=function(t,e,i,s,r,n){if(!this.ctx||!this.ctx.listener)return this;var a=this._orientation;return e="number"!=typeof e?a[1]:e,i="number"!=typeof i?a[2]:i,s="number"!=typeof s?a[3]:s,r="number"!=typeof r?a[4]:r,n="number"!=typeof n?a[5]:n,"number"!=typeof t?a:(this._orientation=[t,e,i,s,r,n],void 0!==this.ctx.listener.forwardX?(this.ctx.listener.forwardX.setTargetAtTime(t,Howler.ctx.currentTime,.1),this.ctx.listener.forwardY.setTargetAtTime(e,Howler.ctx.currentTime,.1),this.ctx.listener.forwardZ.setTargetAtTime(i,Howler.ctx.currentTime,.1),this.ctx.listener.upX.setTargetAtTime(t,Howler.ctx.currentTime,.1),this.ctx.listener.upY.setTargetAtTime(e,Howler.ctx.currentTime,.1),this.ctx.listener.upZ.setTargetAtTime(i,Howler.ctx.currentTime,.1)):this.ctx.listener.setOrientation(t,e,i,s,r,n),this)},Howl.prototype.init=(t=Howl.prototype.init,function(e){return this._orientation=e.orientation||[1,0,0],this._stereo=e.stereo||null,this._pos=e.pos||null,this._pannerAttr={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:360,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:360,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:0,distanceModel:void 0!==e.distanceModel?e.distanceModel:"inverse",maxDistance:void 0!==e.maxDistance?e.maxDistance:1e4,panningModel:void 0!==e.panningModel?e.panningModel:"HRTF",refDistance:void 0!==e.refDistance?e.refDistance:1,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:1},this._onstereo=e.onstereo?[{fn:e.onstereo}]:[],this._onpos=e.onpos?[{fn:e.onpos}]:[],this._onorientation=e.onorientation?[{fn:e.onorientation}]:[],t.call(this,e)}),Howl.prototype.stereo=function(t,i){var s=this;if(!s._webAudio)return s;if("loaded"!==s._state)return s._queue.push({event:"stereo",action:function(){s.stereo(t,i)}}),s;var r=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===i){if("number"!=typeof t)return s._stereo;s._stereo=t,s._pos=[t,0,0]}for(var n=s._getSoundIds(i),a=0;a<n.length;a++){var o=s._soundById(n[a]);if(o){if("number"!=typeof t)return o._stereo;o._stereo=t,o._pos=[t,0,0],o._node&&(o._pannerAttr.panningModel="equalpower",o._panner&&o._panner.pan||e(o,r),"spatial"===r?void 0!==o._panner.positionX?(o._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),o._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),o._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):o._panner.setPosition(t,0,0):o._panner.pan.setValueAtTime(t,Howler.ctx.currentTime)),s._emit("stereo",o._id)}}return s},Howl.prototype.pos=function(t,i,s,r){var n=this;if(!n._webAudio)return n;if("loaded"!==n._state)return n._queue.push({event:"pos",action:function(){n.pos(t,i,s,r)}}),n;if(i="number"!=typeof i?0:i,s="number"!=typeof s?-.5:s,void 0===r){if("number"!=typeof t)return n._pos;n._pos=[t,i,s]}for(var a=n._getSoundIds(r),o=0;o<a.length;o++){var h=n._soundById(a[o]);if(h){if("number"!=typeof t)return h._pos;h._pos=[t,i,s],h._node&&(h._panner&&!h._panner.pan||e(h,"spatial"),void 0!==h._panner.positionX?(h._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),h._panner.positionY.setValueAtTime(i,Howler.ctx.currentTime),h._panner.positionZ.setValueAtTime(s,Howler.ctx.currentTime)):h._panner.setOrientation(t,i,s)),n._emit("pos",h._id)}}return n},Howl.prototype.orientation=function(t,i,s,r){var n=this;if(!n._webAudio)return n;if("loaded"!==n._state)return n._queue.push({event:"orientation",action:function(){n.orientation(t,i,s,r)}}),n;if(i="number"!=typeof i?n._orientation[1]:i,s="number"!=typeof s?n._orientation[2]:s,void 0===r){if("number"!=typeof t)return n._orientation;n._orientation=[t,i,s]}for(var a=n._getSoundIds(r),o=0;o<a.length;o++){var h=n._soundById(a[o]);if(h){if("number"!=typeof t)return h._orientation;h._orientation=[t,i,s],h._node&&(h._panner||(h._pos||(h._pos=n._pos||[0,0,-.5]),e(h,"spatial")),h._panner.orientationX.setValueAtTime(t,Howler.ctx.currentTime),h._panner.orientationY.setValueAtTime(i,Howler.ctx.currentTime),h._panner.orientationZ.setValueAtTime(s,Howler.ctx.currentTime)),n._emit("orientation",h._id)}}return n},Howl.prototype.pannerAttr=function(){var t,i,s,r=arguments;if(!this._webAudio)return this;if(0===r.length)return this._pannerAttr;if(1===r.length){if("object"!=typeof r[0])return(s=this._soundById(parseInt(r[0],10)))?s._pannerAttr:this._pannerAttr;t=r[0],void 0===i&&(t.pannerAttr||(t.pannerAttr={coneInnerAngle:t.coneInnerAngle,coneOuterAngle:t.coneOuterAngle,coneOuterGain:t.coneOuterGain,distanceModel:t.distanceModel,maxDistance:t.maxDistance,refDistance:t.refDistance,rolloffFactor:t.rolloffFactor,panningModel:t.panningModel}),this._pannerAttr={coneInnerAngle:void 0!==t.pannerAttr.coneInnerAngle?t.pannerAttr.coneInnerAngle:this._coneInnerAngle,coneOuterAngle:void 0!==t.pannerAttr.coneOuterAngle?t.pannerAttr.coneOuterAngle:this._coneOuterAngle,coneOuterGain:void 0!==t.pannerAttr.coneOuterGain?t.pannerAttr.coneOuterGain:this._coneOuterGain,distanceModel:void 0!==t.pannerAttr.distanceModel?t.pannerAttr.distanceModel:this._distanceModel,maxDistance:void 0!==t.pannerAttr.maxDistance?t.pannerAttr.maxDistance:this._maxDistance,refDistance:void 0!==t.pannerAttr.refDistance?t.pannerAttr.refDistance:this._refDistance,rolloffFactor:void 0!==t.pannerAttr.rolloffFactor?t.pannerAttr.rolloffFactor:this._rolloffFactor,panningModel:void 0!==t.pannerAttr.panningModel?t.pannerAttr.panningModel:this._panningModel})}else 2===r.length&&(t=r[0],i=parseInt(r[1],10));for(var n=this._getSoundIds(i),a=0;a<n.length;a++)if(s=this._soundById(n[a])){var o=s._pannerAttr;o={coneInnerAngle:void 0!==t.coneInnerAngle?t.coneInnerAngle:o.coneInnerAngle,coneOuterAngle:void 0!==t.coneOuterAngle?t.coneOuterAngle:o.coneOuterAngle,coneOuterGain:void 0!==t.coneOuterGain?t.coneOuterGain:o.coneOuterGain,distanceModel:void 0!==t.distanceModel?t.distanceModel:o.distanceModel,maxDistance:void 0!==t.maxDistance?t.maxDistance:o.maxDistance,refDistance:void 0!==t.refDistance?t.refDistance:o.refDistance,rolloffFactor:void 0!==t.rolloffFactor?t.rolloffFactor:o.rolloffFactor,panningModel:void 0!==t.panningModel?t.panningModel:o.panningModel};var h=s._panner;h?(h.coneInnerAngle=o.coneInnerAngle,h.coneOuterAngle=o.coneOuterAngle,h.coneOuterGain=o.coneOuterGain,h.distanceModel=o.distanceModel,h.maxDistance=o.maxDistance,h.refDistance=o.refDistance,h.rolloffFactor=o.rolloffFactor,h.panningModel=o.panningModel):(s._pos||(s._pos=this._pos||[0,0,-.5]),e(s,"spatial"))}return this},Sound.prototype.init=function(t){return function(){var e=this._parent;this._orientation=e._orientation,this._stereo=e._stereo,this._pos=e._pos,this._pannerAttr=e._pannerAttr,t.call(this),this._stereo?e.stereo(this._stereo):this._pos&&e.pos(this._pos[0],this._pos[1],this._pos[2],this._id)}}(Sound.prototype.init),Sound.prototype.reset=function(t){return function(){var e=this._parent;return this._orientation=e._orientation,this._pos=e._pos,this._pannerAttr=e._pannerAttr,t.call(this)}}(Sound.prototype.reset);var e=function(t,e){"spatial"===(e=e||"spatial")?(t._panner=Howler.ctx.createPanner(),t._panner.coneInnerAngle=t._pannerAttr.coneInnerAngle,t._panner.coneOuterAngle=t._pannerAttr.coneOuterAngle,t._panner.coneOuterGain=t._pannerAttr.coneOuterGain,t._panner.distanceModel=t._pannerAttr.distanceModel,t._panner.maxDistance=t._pannerAttr.maxDistance,t._panner.refDistance=t._pannerAttr.refDistance,t._panner.rolloffFactor=t._pannerAttr.rolloffFactor,t._panner.panningModel=t._pannerAttr.panningModel,void 0!==t._panner.positionX?(t._panner.positionX.setValueAtTime(t._pos[0],Howler.ctx.currentTime),t._panner.positionY.setValueAtTime(t._pos[1],Howler.ctx.currentTime),t._panner.positionZ.setValueAtTime(t._pos[2],Howler.ctx.currentTime)):t._panner.setPosition(t._pos[0],t._pos[1],t._pos[2]),void 0!==t._panner.orientationX?(t._panner.orientationX.setValueAtTime(t._orientation[0],Howler.ctx.currentTime),t._panner.orientationY.setValueAtTime(t._orientation[1],Howler.ctx.currentTime),t._panner.orientationZ.setValueAtTime(t._orientation[2],Howler.ctx.currentTime)):t._panner.setOrientation(t._orientation[0],t._orientation[1],t._orientation[2])):(t._panner=Howler.ctx.createStereoPanner(),t._panner.pan.setValueAtTime(t._stereo,Howler.ctx.currentTime)),t._panner.connect(t._node),t._paused||t._parent.pause(t._id,!0).play(t._id,!0)}}()}).call(e,i("DuR2"))},kM2E:function(t,e,i){var s=i("7KvD"),r=i("FeBl"),n=i("+ZMJ"),a=i("hJx8"),o=function(t,e,i){var h,l,c,p=t&o.F,u=t&o.G,f=t&o.S,d=t&o.P,m=t&o.B,y=t&o.W,v=u?r:r[e]||(r[e]={}),g=v.prototype,_=u?s:f?s[e]:(s[e]||{}).prototype;for(h in u&&(i=e),i)(l=!p&&_&&void 0!==_[h])&&h in v||(c=l?_[h]:i[h],v[h]=u&&"function"!=typeof _[h]?i[h]:m&&l?n(c,s):y&&_[h]==c?function(t){var e=function(e,i,s){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,i)}return new t(e,i,s)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(c):d&&"function"==typeof c?n(Function.call,c):c,d&&((v.virtual||(v.virtual={}))[h]=c,t&o.R&&g&&!g[h]&&a(g,h,c)))};o.F=1,o.G=2,o.S=4,o.P=8,o.B=16,o.W=32,o.U=64,o.R=128,t.exports=o},lFkc:function(t,e,i){"use strict";var s=!("undefined"==typeof window||!window.document||!window.document.createElement),r={canUseDOM:s,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:s&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:s&&!!window.screen,isInWorker:!s};t.exports=r},lOnJ:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},lktj:function(t,e,i){var s=i("Ibhu"),r=i("xnc9");t.exports=Object.keys||function(t){return s(t,r)}},mClu:function(t,e,i){var s=i("kM2E");s(s.S+s.F*!i("+E39"),"Object",{defineProperty:i("evD5").f})},mtWM:function(t,e,i){t.exports=i("tIFN")},"n0/e":function(t,e){(function(){(void 0!==e&&null!==e?e:this).Lethargy=function(){function t(t,e,i,s){this.stability=null!=t?Math.abs(t):8,this.sensitivity=null!=e?1+Math.abs(e):100,this.tolerance=null!=i?1+Math.abs(i):1.1,this.delay=null!=s?s:150,this.lastUpDeltas=function(){var t,e,i;for(i=[],t=1,e=2*this.stability;1<=e?t<=e:t>=e;1<=e?t++:t--)i.push(null);return i}.call(this),this.lastDownDeltas=function(){var t,e,i;for(i=[],t=1,e=2*this.stability;1<=e?t<=e:t>=e;1<=e?t++:t--)i.push(null);return i}.call(this),this.deltasTimestamp=function(){var t,e,i;for(i=[],t=1,e=2*this.stability;1<=e?t<=e:t>=e;1<=e?t++:t--)i.push(null);return i}.call(this)}return t.prototype.check=function(t){var e;return null!=(t=t.originalEvent||t).wheelDelta?e=t.wheelDelta:null!=t.deltaY?e=-40*t.deltaY:null==t.detail&&0!==t.detail||(e=-40*t.detail),this.deltasTimestamp.push(Date.now()),this.deltasTimestamp.shift(),e>0?(this.lastUpDeltas.push(e),this.lastUpDeltas.shift(),this.isInertia(1)):(this.lastDownDeltas.push(e),this.lastDownDeltas.shift(),this.isInertia(-1))},t.prototype.isInertia=function(t){var e,i,s,r,n,a,o;return null===(e=-1===t?this.lastDownDeltas:this.lastUpDeltas)[0]?t:!(this.deltasTimestamp[2*this.stability-2]+this.delay>Date.now()&&e[0]===e[2*this.stability-1])&&(s=e.slice(0,this.stability),i=e.slice(this.stability,2*this.stability),o=s.reduce(function(t,e){return t+e}),n=i.reduce(function(t,e){return t+e}),a=o/s.length,r=n/i.length,Math.abs(a)<Math.abs(r*this.tolerance)&&this.sensitivity<Math.abs(r)&&t)},t.prototype.showLastUpDeltas=function(){return this.lastUpDeltas},t.prototype.showLastDownDeltas=function(){return this.lastDownDeltas},t}()}).call(this)},oJlt:function(t,e,i){"use strict";var s=i("cGG2"),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,i,n,a={};return t?(s.forEach(t.split("\n"),function(t){if(n=t.indexOf(":"),e=s.trim(t.substr(0,n)).toLowerCase(),i=s.trim(t.substr(n+1)),e){if(a[e]&&r.indexOf(e)>=0)return;a[e]="set-cookie"===e?(a[e]?a[e]:[]).concat([i]):a[e]?a[e]+", "+i:i}}),a):a}},oM7Q:function(t,e,i){i("sF+V");var s=i("FeBl").Object;t.exports=function(t,e){return s.create(t,e)}},p1b6:function(t,e,i){"use strict";var s=i("cGG2");t.exports=s.isStandardBrowserEnv()?{write:function(t,e,i,r,n,a){var o=[];o.push(t+"="+encodeURIComponent(e)),s.isNumber(i)&&o.push("expires="+new Date(i).toGMTString()),s.isString(r)&&o.push("path="+r),s.isString(n)&&o.push("domain="+n),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},pBtG:function(t,e,i){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},pxG4:function(t,e,i){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},qKrd:function(t,e){t.exports=function(t){function e(e,i){var s,r,n,a,o;this.object=e,this.domElement=void 0!==i?i:document,this.enabled=!0,this.target=new t.Vector3,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.25,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={ORBIT:t.MOUSE.LEFT,ZOOM:t.MOUSE.MIDDLE,PAN:t.MOUSE.RIGHT},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return m.phi},this.getAzimuthalAngle=function(){return m.theta},this.reset=function(){h.target.copy(h.target0),h.object.position.copy(h.position0),h.object.zoom=h.zoom0,h.object.updateProjectionMatrix(),h.dispatchEvent(l),h.update(),f=u.NONE},this.update=(s=new t.Vector3,r=(new t.Quaternion).setFromUnitVectors(e.up,new t.Vector3(0,1,0)),n=r.clone().inverse(),a=new t.Vector3,o=new t.Quaternion,function(){var t=h.object.position;return s.copy(t).sub(h.target),s.applyQuaternion(r),m.setFromVector3(s),h.autoRotate&&f===u.NONE&&M(2*Math.PI/60/60*h.autoRotateSpeed),m.theta+=y.theta,m.phi+=y.phi,m.theta=Math.max(h.minAzimuthAngle,Math.min(h.maxAzimuthAngle,m.theta)),m.phi=Math.max(h.minPolarAngle,Math.min(h.maxPolarAngle,m.phi)),m.makeSafe(),m.radius*=v,m.radius=Math.max(h.minDistance,Math.min(h.maxDistance,m.radius)),h.target.add(g),s.setFromSpherical(m),s.applyQuaternion(n),t.copy(h.target).add(s),h.object.lookAt(h.target),!0===h.enableDamping?(y.theta*=1-h.dampingFactor,y.phi*=1-h.dampingFactor):y.set(0,0,0),v=1,g.set(0,0,0),!!(_||a.distanceToSquared(h.object.position)>d||8*(1-o.dot(h.object.quaternion))>d)&&(h.dispatchEvent(l),a.copy(h.object.position),o.copy(h.object.quaternion),_=!1,!0)}),this.dispose=function(){h.domElement.removeEventListener("contextmenu",q,!1),h.domElement.removeEventListener("mousedown",V,!1),h.domElement.removeEventListener("wheel",B,!1),h.domElement.removeEventListener("touchstart",$,!1),h.domElement.removeEventListener("touchend",U,!1),h.domElement.removeEventListener("touchmove",G,!1),document.removeEventListener("mousemove",R,!1),document.removeEventListener("mouseup",j,!1),window.removeEventListener("keydown",H,!1)};var h=this,l={type:"change"},c={type:"start"},p={type:"end"},u={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5},f=u.NONE,d=1e-6,m=new t.Spherical,y=new t.Spherical,v=1,g=new t.Vector3,_=!1,b=new t.Vector2,x=new t.Vector2,w=new t.Vector2,k=new t.Vector2,P=new t.Vector2,T=new t.Vector2,E=new t.Vector2,S=new t.Vector2,A=new t.Vector2;function C(){return Math.pow(.95,h.zoomSpeed)}function M(t){y.theta-=t}function N(t){y.phi-=t}var I,D=(I=new t.Vector3,function(t,e){I.setFromMatrixColumn(e,0),I.multiplyScalar(-t),g.add(I)}),z=function(){var e=new t.Vector3;return function(t,i){e.setFromMatrixColumn(i,1),e.multiplyScalar(t),g.add(e)}}(),O=function(){var e=new t.Vector3;return function(i,s){var r=h.domElement===document?h.domElement.body:h.domElement;if(h.object instanceof t.PerspectiveCamera){var n=h.object.position;e.copy(n).sub(h.target);var a=e.length();a*=Math.tan(h.object.fov/2*Math.PI/180),D(2*i*a/r.clientHeight,h.object.matrix),z(2*s*a/r.clientHeight,h.object.matrix)}else h.object instanceof t.OrthographicCamera?(D(i*(h.object.right-h.object.left)/h.object.zoom/r.clientWidth,h.object.matrix),z(s*(h.object.top-h.object.bottom)/h.object.zoom/r.clientHeight,h.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),h.enablePan=!1)}}();function F(e){h.object instanceof t.PerspectiveCamera?v/=e:h.object instanceof t.OrthographicCamera?(h.object.zoom=Math.max(h.minZoom,Math.min(h.maxZoom,h.object.zoom*e)),h.object.updateProjectionMatrix(),_=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),h.enableZoom=!1)}function L(e){h.object instanceof t.PerspectiveCamera?v*=e:h.object instanceof t.OrthographicCamera?(h.object.zoom=Math.max(h.minZoom,Math.min(h.maxZoom,h.object.zoom/e)),h.object.updateProjectionMatrix(),_=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),h.enableZoom=!1)}function V(t){if(!1!==h.enabled){if(t.preventDefault(),t.button===h.mouseButtons.ORBIT){if(!1===h.enableRotate)return;!function(t){b.set(t.clientX,t.clientY)}(t),f=u.ROTATE}else if(t.button===h.mouseButtons.ZOOM){if(!1===h.enableZoom)return;!function(t){E.set(t.clientX,t.clientY)}(t),f=u.DOLLY}else if(t.button===h.mouseButtons.PAN){if(!1===h.enablePan)return;!function(t){k.set(t.clientX,t.clientY)}(t),f=u.PAN}f!==u.NONE&&(document.addEventListener("mousemove",R,!1),document.addEventListener("mouseup",j,!1),h.dispatchEvent(c))}}function R(t){if(!1!==h.enabled)if(t.preventDefault(),f===u.ROTATE){if(!1===h.enableRotate)return;!function(t){x.set(t.clientX,t.clientY),w.subVectors(x,b);var e=h.domElement===document?h.domElement.body:h.domElement;M(2*Math.PI*w.x/e.clientWidth*h.rotateSpeed),N(2*Math.PI*w.y/e.clientHeight*h.rotateSpeed),b.copy(x),h.update()}(t)}else if(f===u.DOLLY){if(!1===h.enableZoom)return;!function(t){S.set(t.clientX,t.clientY),A.subVectors(S,E),A.y>0?F(C()):A.y<0&&L(C()),E.copy(S),h.update()}(t)}else if(f===u.PAN){if(!1===h.enablePan)return;!function(t){P.set(t.clientX,t.clientY),T.subVectors(P,k),O(T.x,T.y),k.copy(P),h.update()}(t)}}function j(t){!1!==h.enabled&&(document.removeEventListener("mousemove",R,!1),document.removeEventListener("mouseup",j,!1),h.dispatchEvent(p),f=u.NONE)}function B(t){!1===h.enabled||!1===h.enableZoom||f!==u.NONE&&f!==u.ROTATE||(t.preventDefault(),t.stopPropagation(),function(t){t.deltaY<0?L(C()):t.deltaY>0&&F(C()),h.update()}(t),h.dispatchEvent(c),h.dispatchEvent(p))}function H(t){!1!==h.enabled&&!1!==h.enableKeys&&!1!==h.enablePan&&function(t){switch(t.keyCode){case h.keys.UP:O(0,h.keyPanSpeed),h.update();break;case h.keys.BOTTOM:O(0,-h.keyPanSpeed),h.update();break;case h.keys.LEFT:O(h.keyPanSpeed,0),h.update();break;case h.keys.RIGHT:O(-h.keyPanSpeed,0),h.update()}}(t)}function $(t){if(!1!==h.enabled){switch(t.touches.length){case 1:if(!1===h.enableRotate)return;!function(t){b.set(t.touches[0].pageX,t.touches[0].pageY)}(t),f=u.TOUCH_ROTATE;break;case 2:if(!1===h.enableZoom)return;!function(t){var e=t.touches[0].pageX-t.touches[1].pageX,i=t.touches[0].pageY-t.touches[1].pageY,s=Math.sqrt(e*e+i*i);E.set(0,s)}(t),f=u.TOUCH_DOLLY;break;case 3:if(!1===h.enablePan)return;!function(t){k.set(t.touches[0].pageX,t.touches[0].pageY)}(t),f=u.TOUCH_PAN;break;default:f=u.NONE}f!==u.NONE&&h.dispatchEvent(c)}}function G(t){if(!1!==h.enabled)switch(t.preventDefault(),t.stopPropagation(),t.touches.length){case 1:if(!1===h.enableRotate)return;if(f!==u.TOUCH_ROTATE)return;!function(t){x.set(t.touches[0].pageX,t.touches[0].pageY),w.subVectors(x,b);var e=h.domElement===document?h.domElement.body:h.domElement;M(2*Math.PI*w.x/e.clientWidth*h.rotateSpeed),N(2*Math.PI*w.y/e.clientHeight*h.rotateSpeed),b.copy(x),h.update()}(t);break;case 2:if(!1===h.enableZoom)return;if(f!==u.TOUCH_DOLLY)return;!function(t){var e=t.touches[0].pageX-t.touches[1].pageX,i=t.touches[0].pageY-t.touches[1].pageY,s=Math.sqrt(e*e+i*i);S.set(0,s),A.subVectors(S,E),A.y>0?L(C()):A.y<0&&F(C()),E.copy(S),h.update()}(t);break;case 3:if(!1===h.enablePan)return;if(f!==u.TOUCH_PAN)return;!function(t){P.set(t.touches[0].pageX,t.touches[0].pageY),T.subVectors(P,k),O(T.x,T.y),k.copy(P),h.update()}(t);break;default:f=u.NONE}}function U(t){!1!==h.enabled&&(h.dispatchEvent(p),f=u.NONE)}function q(t){t.preventDefault()}h.domElement.addEventListener("contextmenu",q,!1),h.domElement.addEventListener("mousedown",V,!1),h.domElement.addEventListener("wheel",B,!1),h.domElement.addEventListener("touchstart",$,!1),h.domElement.addEventListener("touchend",U,!1),h.domElement.addEventListener("touchmove",G,!1),window.addEventListener("keydown",H,!1),this.update()}return e.prototype=Object.create(t.EventDispatcher.prototype),e.prototype.constructor=e,Object.defineProperties(e.prototype,{center:{get:function(){return console.warn("THREE.OrbitControls: .center has been renamed to .target"),this.target}},noZoom:{get:function(){return console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),!this.enableZoom},set:function(t){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),this.enableZoom=!t}},noRotate:{get:function(){return console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),!this.enableRotate},set:function(t){console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),this.enableRotate=!t}},noPan:{get:function(){return console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),!this.enablePan},set:function(t){console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),this.enablePan=!t}},noKeys:{get:function(){return console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),!this.enableKeys},set:function(t){console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),this.enableKeys=!t}},staticMoving:{get:function(){return console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),!this.enableDamping},set:function(t){console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),this.enableDamping=!t}},dynamicDampingFactor:{get:function(){return console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor},set:function(t){console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor=t}}}),e}},qRfI:function(t,e,i){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},qio6:function(t,e,i){var s=i("evD5"),r=i("77Pl"),n=i("lktj");t.exports=i("+E39")?Object.defineProperties:function(t,e){r(t);for(var i,a=n(e),o=a.length,h=0;o>h;)s.f(t,i=a[h++],e[i]);return t}},sB3e:function(t,e,i){var s=i("52gC");t.exports=function(t){return Object(s(t))}},"sF+V":function(t,e,i){var s=i("kM2E");s(s.S,"Object",{create:i("Yobk")})},t8qj:function(t,e,i){"use strict";t.exports=function(t,e,i,s,r){return t.config=e,i&&(t.code=i),t.request=s,t.response=r,t}},tIFN:function(t,e,i){"use strict";var s=i("cGG2"),r=i("JP+z"),n=i("XmWM"),a=i("KCLY");function o(t){var e=new n(t),i=r(n.prototype.request,e);return s.extend(i,n.prototype,e),s.extend(i,e),i}var h=o(a);h.Axios=n,h.create=function(t){return o(s.merge(a,t))},h.Cancel=i("dVOP"),h.CancelToken=i("cWxy"),h.isCancel=i("pBtG"),h.all=function(t){return Promise.all(t)},h.spread=i("pxG4"),t.exports=h,t.exports.default=h},thJu:function(t,e,i){"use strict";var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function r(){this.message="String contains an invalid character"}r.prototype=new Error,r.prototype.code=5,r.prototype.name="InvalidCharacterError",t.exports=function(t){for(var e,i,n=String(t),a="",o=0,h=s;n.charAt(0|o)||(h="=",o%1);a+=h.charAt(63&e>>8-o%1*8)){if((i=n.charCodeAt(o+=.75))>255)throw new r;e=e<<8|i}return a}},ufW0:function(t,e,i){function s(t){return t.touches[0].clientX}function r(t){return t.touches[0].clientY}var n=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(t){}return t}(),a={install:function(t,e){function i(t){var e=this.$$touchObj;e.supportTouch=!0,e.touchStarted||(f(this),e.touchStarted=!0,e.touchMoved=!1,e.swipeOutBounded=!1,e.startX=s(t),e.startY=r(t),e.currentX=0,e.currentY=0,e.touchStartTime=t.timeStamp)}function a(t){var i=this.$$touchObj;if(i.currentX=s(t),i.currentY=r(t),i.touchMoved){if(!i.swipeOutBounded){var n=e.swipeTolerance;i.swipeOutBounded=Math.abs(i.startX-i.currentX)>n&&Math.abs(i.startY-i.currentY)>n}}else{var a=e.tapTolerance;i.touchMoved=Math.abs(i.startX-i.currentX)>a||Math.abs(i.startY-i.currentY)>a}}function o(){var t=this.$$touchObj;d(this),t.touchStarted=t.touchMoved=!1,t.startX=t.startY=0}function h(t){var i=this.$$touchObj;if(i.touchStarted=!1,d(this),i.touchMoved){if(!i.swipeOutBounded){var s,r=e.swipeTolerance;s=Math.abs(i.startX-i.currentX)<r?i.startY>i.currentY?"top":"bottom":i.startX>i.currentX?"left":"right",i.callbacks["swipe."+s]?u(t,this,"swipe."+s,s):u(t,this,"swipe",s)}}else i.callbacks.longtap&&t.timeStamp-i.touchStartTime>e.longTapTimeInterval?(t.preventDefault(),u(t,this,"longtap")):u(t,this,"tap")}function l(t){this.$$touchObj.supportTouch||e.disableClick||u(t,this,"tap")}function c(){f(this)}function p(){d(this)}function u(t,e,i,s){var r=e.$$touchObj.callbacks[i]||[];if(0===r.length)return null;for(var n=0;n<r.length;n++){var a=r[n];a.modifiers.self&&t.target!==t.currentTarget||"function"==typeof a.value&&(s?a.value(s,t):a.value(t))}}function f(t){var i=t.$$touchClass||e.touchClass;i&&t.classList.add(i)}function d(t){var i=t.$$touchClass||e.touchClass;i&&t.classList.remove(i)}e=Object.assign({},{disableClick:!1,tapTolerance:10,swipeTolerance:30,longTapTimeInterval:400,touchClass:""},e||{}),t.directive("touch",{bind:function(t,s){t.$$touchObj=t.$$touchObj||{supportTouch:!1,callbacks:{},hasBindTouchEvents:!1};var r=s.arg||"tap";switch(r){case"swipe":var u=s.modifiers;if(u.left||u.right||u.top||u.bottom){for(var f in s.modifiers)if(["left","right","top","bottom"].indexOf(f)>=0){var d="swipe."+f;t.$$touchObj.callbacks[d]=t.$$touchObj.callbacks[d]||[],t.$$touchObj.callbacks[d].push(s)}}else t.$$touchObj.callbacks.swipe=t.$$touchObj.callbacks.swipe||[],t.$$touchObj.callbacks.swipe.push(s);break;default:t.$$touchObj.callbacks[r]=t.$$touchObj.callbacks[r]||[],t.$$touchObj.callbacks[r].push(s)}if(!t.$$touchObj.hasBindTouchEvents){var m=!!n&&{passive:!0};t.addEventListener("touchstart",i,m),t.addEventListener("touchmove",a,m),t.addEventListener("touchcancel",o),t.addEventListener("touchend",h),e.disableClick||(t.addEventListener("click",l),t.addEventListener("mouseenter",c),t.addEventListener("mouseleave",p)),t.$$touchObj.hasBindTouchEvents=!0}},unbind:function(t){t.removeEventListener("touchstart",i),t.removeEventListener("touchmove",a),t.removeEventListener("touchcancel",o),t.removeEventListener("touchend",h),e.disableClick||(t.removeEventListener("click",l),t.removeEventListener("mouseenter",c),t.removeEventListener("mouseleave",p)),delete t.$$touchObj}}),t.directive("touch-class",{bind:function(t,e){t.$$touchClass=e.value},unbind:function(t){delete t.$$touchClass}})}};t.exports=a},uqUo:function(t,e,i){var s=i("kM2E"),r=i("FeBl"),n=i("S82l");t.exports=function(t,e){var i=(r.Object||{})[t]||Object[t],a={};a[t]=e(i),s(s.S+s.F*n(function(){i(1)}),"Object",a)}},"vFc/":function(t,e,i){var s=i("TcQ7"),r=i("QRG4"),n=i("fkB2");t.exports=function(t){return function(e,i,a){var o,h=s(e),l=r(h.length),c=n(a,l);if(t&&i!=i){for(;l>c;)if((o=h[c++])!=o)return!0}else for(;l>c;c++)if((t||c in h)&&h[c]===i)return t||c||0;return!t&&-1}}},vy4U:function(t,e,i){(function(e){var i,s,r=r||(i=[],{getAll:function(){return i},removeAll:function(){i=[]},add:function(t){i.push(t)},remove:function(t){var e=i.indexOf(t);-1!==e&&i.splice(e,1)},update:function(t,e){if(0===i.length)return!1;var s=0;for(t=void 0!==t?t:r.now();s<i.length;)i[s].update(t)||e?s++:i.splice(s,1);return!0}});"undefined"==typeof window&&void 0!==e?r.now=function(){var t=e.hrtime();return 1e3*t[0]+t[1]/1e6}:"undefined"!=typeof window&&void 0!==window.performance&&void 0!==window.performance.now?r.now=window.performance.now.bind(window.performance):void 0!==Date.now?r.now=Date.now:r.now=function(){return(new Date).getTime()},r.Tween=function(t){var e,i=t,s={},n={},a={},o=1e3,h=0,l=!1,c=!1,p=!1,u=0,f=null,d=r.Easing.Linear.None,m=r.Interpolation.Linear,y=[],v=null,g=!1,_=null,b=null,x=null;this.to=function(t,e){return n=t,void 0!==e&&(o=e),this},this.start=function(t){for(var e in r.add(this),c=!0,g=!1,f=void 0!==t?t:r.now(),f+=u,n){if(n[e]instanceof Array){if(0===n[e].length)continue;n[e]=[i[e]].concat(n[e])}void 0!==i[e]&&(s[e]=i[e],s[e]instanceof Array==!1&&(s[e]*=1),a[e]=s[e]||0)}return this},this.stop=function(){return c?(r.remove(this),c=!1,null!==x&&x.call(i,i),this.stopChainedTweens(),this):this},this.end=function(){return this.update(f+o),this},this.stopChainedTweens=function(){for(var t=0,e=y.length;t<e;t++)y[t].stop()},this.delay=function(t){return u=t,this},this.repeat=function(t){return h=t,this},this.repeatDelay=function(t){return e=t,this},this.yoyo=function(t){return l=t,this},this.easing=function(t){return d=t,this},this.interpolation=function(t){return m=t,this},this.chain=function(){return y=arguments,this},this.onStart=function(t){return v=t,this},this.onUpdate=function(t){return _=t,this},this.onComplete=function(t){return b=t,this},this.onStop=function(t){return x=t,this},this.update=function(t){var r,c,x;if(t<f)return!0;for(r in!1===g&&(null!==v&&v.call(i,i),g=!0),x=d(c=(c=(t-f)/o)>1?1:c),n)if(void 0!==s[r]){var w=s[r]||0,k=n[r];k instanceof Array?i[r]=m(k,x):("string"==typeof k&&(k="+"===k.charAt(0)||"-"===k.charAt(0)?w+parseFloat(k):parseFloat(k)),"number"==typeof k&&(i[r]=w+(k-w)*x))}if(null!==_&&_.call(i,x),1===c){if(h>0){for(r in isFinite(h)&&h--,a){if("string"==typeof n[r]&&(a[r]=a[r]+parseFloat(n[r])),l){var P=a[r];a[r]=n[r],n[r]=P}s[r]=a[r]}return l&&(p=!p),f=void 0!==e?t+e:t+u,!0}null!==b&&b.call(i,i);for(var T=0,E=y.length;T<E;T++)y[T].start(f+o);return!1}return!0}},r.Easing={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},Out:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1}},Back:{In:function(t){var e=1.70158;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(t){return 1-r.Easing.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*r.Easing.Bounce.In(2*t):.5*r.Easing.Bounce.Out(2*t-1)+.5}}},r.Interpolation={Linear:function(t,e){var i=t.length-1,s=i*e,n=Math.floor(s),a=r.Interpolation.Utils.Linear;return e<0?a(t[0],t[1],s):e>1?a(t[i],t[i-1],i-s):a(t[n],t[n+1>i?i:n+1],s-n)},Bezier:function(t,e){for(var i=0,s=t.length-1,n=Math.pow,a=r.Interpolation.Utils.Bernstein,o=0;o<=s;o++)i+=n(1-e,s-o)*n(e,o)*t[o]*a(s,o);return i},CatmullRom:function(t,e){var i=t.length-1,s=i*e,n=Math.floor(s),a=r.Interpolation.Utils.CatmullRom;return t[0]===t[i]?(e<0&&(n=Math.floor(s=i*(1+e))),a(t[(n-1+i)%i],t[n],t[(n+1)%i],t[(n+2)%i],s-n)):e<0?t[0]-(a(t[0],t[0],t[1],t[1],-s)-t[0]):e>1?t[i]-(a(t[i],t[i],t[i-1],t[i-1],s-i)-t[i]):a(t[n?n-1:0],t[n],t[i<n+1?i:n+1],t[i<n+2?i:n+2],s-n)},Utils:{Linear:function(t,e,i){return(e-t)*i+t},Bernstein:function(t,e){var i=r.Interpolation.Utils.Factorial;return i(t)/i(e)/i(t-e)},Factorial:(s=[1],function(t){var e=1;if(s[t])return s[t];for(var i=t;i>1;i--)e*=i;return s[t]=e,e}),CatmullRom:function(t,e,i,s,r){var n=.5*(i-t),a=.5*(s-e),o=r*r;return(2*e-2*i+n+a)*(r*o)+(-3*e+3*i-2*n-a)*o+n*r+e}}},"function"==typeof define&&define.amd?define([],function(){return r}):t.exports=r}).call(e,i("W2nU"))},woOf:function(t,e,i){t.exports={default:i("V3tA"),__esModule:!0}},wxAW:function(t,e,i){"use strict";e.__esModule=!0;var s,r=i("C4MV"),n=(s=r)&&s.__esModule?s:{default:s};e.default=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),(0,n.default)(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}()},xLtR:function(t,e,i){"use strict";var s=i("cGG2"),r=i("TNV1"),n=i("pBtG"),a=i("KCLY"),o=i("dIwP"),h=i("qRfI");function l(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return l(t),t.baseURL&&!o(t.url)&&(t.url=h(t.baseURL,t.url)),t.headers=t.headers||{},t.data=r(t.data,t.headers,t.transformRequest),t.headers=s.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),s.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||a.adapter)(t).then(function(e){return l(t),e.data=r(e.data,e.headers,t.transformResponse),e},function(e){return n(e)||(l(t),e&&e.response&&(e.response.data=r(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},xnc9:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")}});
//# sourceMappingURL=vendor.1ae09d5ca938400ff5a6.js.map